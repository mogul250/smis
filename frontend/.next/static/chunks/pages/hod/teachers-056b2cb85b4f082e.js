(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8141],{815:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hod/teachers",function(){return a(7712)}])},7712:function(e,s,a){"use strict";a.r(s);var l=a(5893),t=a(7294),r=a(9008),i=a.n(r),n=a(6761),c=a(3242),d=a(591),x=a(4082),m=a(2983),h=a(4105),o=a(6208),j=a(7014),u=a(9180),f=a(9175),v=a(4549),g=a(5822),N=a(7219);s.default=()=>{let{user:e}=(0,n.a)(),[s,a]=(0,t.useState)(""),[r,p]=(0,t.useState)("all"),[y,w]=(0,t.useState)(!1),{data:Z,loading:b,error:_,refetch:C}=(0,c.h)(d.pW.getDepartmentTeachers);if(!e||"hod"!==e.role)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)(f.Z,{variant:"error",children:"Access denied. HOD access required."})});let handleRefresh=async()=>{w(!0);try{await C()}catch(e){}finally{w(!1)}},D=(null==Z?void 0:Z.filter(e=>{var a;let l=!s||"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||(null===(a=e.staff_id)||void 0===a?void 0:a.toLowerCase().includes(s.toLowerCase())),t="all"===r||e.status===r;return l&&t}))||[],getStatusBadge=e=>{switch(e){case"active":return(0,l.jsx)(j.Z,{variant:"success",size:"sm",children:"Active"});case"inactive":return(0,l.jsx)(j.Z,{variant:"warning",size:"sm",children:"Inactive"});case"suspended":return(0,l.jsx)(j.Z,{variant:"danger",size:"sm",children:"Suspended"});default:return(0,l.jsx)(j.Z,{variant:"default",size:"sm",children:e})}},formatDate=e=>e?new Date(e).toLocaleDateString():"N/A";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("title",{children:"Teachers Management - HOD Dashboard"}),(0,l.jsx)("meta",{name:"description",content:"Manage department teachers and staff"})]}),(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)(x.default,{}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(m.default,{}),(0,l.jsx)("main",{className:"flex-1 overflow-auto",children:(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Teachers Management"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and oversee your department teachers"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(u.Z,{variant:"outline",size:"sm",onClick:handleRefresh,loading:y,icon:N.Bw1,children:"Refresh"}),(0,l.jsx)(u.Z,{variant:"outline",size:"sm",icon:N._hL,children:"Export"})]})]}),_&&(0,l.jsxs)(f.Z,{variant:"error",className:"mb-6",children:["Error loading teachers: ",_.message]}),(0,l.jsx)(h.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(g.Z,{placeholder:"Search teachers by name, email, or staff ID...",value:s,onChange:e=>a(e.target.value),icon:N.jRj})}),(0,l.jsx)("div",{className:"sm:w-48",children:(0,l.jsxs)("select",{value:r,onChange:e=>p(e.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-primary-light focus:border-primary-light sm:text-sm px-3 py-2",children:[(0,l.jsx)("option",{value:"all",children:"All Status"}),(0,l.jsx)("option",{value:"active",children:"Active"}),(0,l.jsx)("option",{value:"inactive",children:"Inactive"}),(0,l.jsx)("option",{value:"suspended",children:"Suspended"})]})})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsx)(h.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 rounded-lg bg-blue-50",children:(0,l.jsx)(N.WY8,{className:"w-6 h-6 text-blue-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b?"...":(null==Z?void 0:Z.length)||0})]})]})}),(0,l.jsx)(h.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 rounded-lg bg-green-50",children:(0,l.jsx)(N.WY8,{className:"w-6 h-6 text-green-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b?"...":(null==Z?void 0:Z.filter(e=>"active"===e.status).length)||0})]})]})}),(0,l.jsx)(h.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 rounded-lg bg-yellow-50",children:(0,l.jsx)(N.WY8,{className:"w-6 h-6 text-yellow-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b?"...":(null==Z?void 0:Z.filter(e=>"inactive"===e.status).length)||0})]})]})}),(0,l.jsx)(h.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"p-3 rounded-lg bg-red-50",children:(0,l.jsx)(N.WY8,{className:"w-6 h-6 text-red-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:b?"...":(null==Z?void 0:Z.filter(e=>"suspended"===e.status).length)||0})]})]})})]}),(0,l.jsxs)(h.Z,{className:"overflow-hidden",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Department Teachers"}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[D.length," of ",(null==Z?void 0:Z.length)||0," teachers"]})]})}),b?(0,l.jsx)("div",{className:"flex justify-center py-12",children:(0,l.jsx)(v.Z,{size:"lg"})}):D.length>0?(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(o.Z.Header,{children:(0,l.jsxs)(o.Z.Row,{children:[(0,l.jsx)(o.Z.Head,{children:"Teacher"}),(0,l.jsx)(o.Z.Head,{children:"Staff ID"}),(0,l.jsx)(o.Z.Head,{children:"Contact"}),(0,l.jsx)(o.Z.Head,{children:"Hire Date"}),(0,l.jsx)(o.Z.Head,{children:"Status"}),(0,l.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,l.jsx)(o.Z.Body,{children:D.map(e=>(0,l.jsxs)(o.Z.Row,{children:[(0,l.jsx)(o.Z.Cell,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(N.WY8,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,l.jsx)(o.Z.Cell,{children:(0,l.jsx)("span",{className:"text-sm text-gray-900",children:e.staff_id||"N/A"})}),(0,l.jsx)(o.Z.Cell,{children:(0,l.jsxs)("div",{className:"text-sm text-gray-900",children:[e.phone&&(0,l.jsxs)("div",{className:"flex items-center mb-1",children:[(0,l.jsx)(N.tUt,{className:"w-4 h-4 text-gray-400 mr-1"}),e.phone]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(N.Imn,{className:"w-4 h-4 text-gray-400 mr-1"}),e.email]})]})}),(0,l.jsx)(o.Z.Cell,{children:(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,l.jsx)(N.vlc,{className:"w-4 h-4 text-gray-400 mr-1"}),formatDate(e.hire_date)]})}),(0,l.jsx)(o.Z.Cell,{children:getStatusBadge(e.status)}),(0,l.jsx)(o.Z.Cell,{children:(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsx)(u.Z,{variant:"outline",size:"sm",icon:N.rDJ,children:"View"})})})]},e.id))})]}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(N.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No teachers found"}),(0,l.jsx)("p",{className:"text-gray-500",children:s||"all"!==r?"Try adjusting your search or filter criteria.":"No teachers are assigned to your department yet."})]})]})]})})]})]})]})}}},function(e){e.O(0,[1216,8592,2888,179],function(){return e(e.s=815)}),_N_E=e.O()}]);