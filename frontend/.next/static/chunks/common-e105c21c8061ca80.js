"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8592],{856:function(e,s,t){t.d(s,{f:function(){return RoleBreakdownCard}});var a=t(5893);t(7294);var l=t(4105),r=t(7219);let RoleBreakdownCard=e=>{let{stats:s,loading:t}=e,n=[{key:"student",label:"Students",color:"blue",icon:r.hbr},{key:"teacher",label:"Teachers",color:"green",icon:r.WY8},{key:"hod",label:"HODs",color:"purple",icon:r.bfl},{key:"finance",label:"Finance",color:"orange",icon:r.bAx},{key:"admin",label:"Admins",color:"red",icon:r.bfl}];if(t)return(0,a.jsx)(l.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded mr-3"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-8"})]},s))})]})});let i=Object.values(s.byRole||{}).reduce((e,s)=>e+s,0);return(0,a.jsxs)(l.Z,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Distribution"}),(0,a.jsx)("div",{className:"space-y-3",children:n.map(e=>{var t;let l=(null===(t=s.byRole)||void 0===t?void 0:t[e.key])||0,r=e.icon;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-".concat(e.color,"-100 rounded flex items-center justify-center mr-3"),children:(0,a.jsx)(r,{className:"w-4 h-4 text-".concat(e.color,"-600")})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.label})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900 mr-2",children:l}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",i>0?Math.round(l/i*100):0,"%)"]})]})]},e.key)})}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsx)("div",{className:"space-y-2",children:n.map(e=>{var t;let l=(null===(t=s.byRole)||void 0===t?void 0:t[e.key])||0,r=i>0?l/i*100:0;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 w-16",children:e.label}),(0,a.jsx)("div",{className:"flex-1 mx-2",children:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-".concat(e.color,"-500 h-2 rounded-full transition-all duration-300"),style:{width:"".concat(r,"%")}})})}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 w-8",children:[Math.round(r),"%"]})]},"".concat(e.key,"-bar"))})})})]})};s.Z=e=>{var s;let{stats:t,totalUsers:n,loading:i}=e,c=[{title:"Total Users",value:n||0,change:"+12%",changeType:"positive",icon:r.WY8,color:"blue",description:"All system users"},{title:"Active Users",value:t.activeUsers||0,change:"".concat(n>0?Math.round(t.activeUsers/n*100):0,"%"),changeType:"positive",icon:r.tMu,color:"green",description:"Currently active"},{title:"New This Month",value:t.newThisMonth||0,change:"+8%",changeType:"positive",icon:r.zy7,color:"purple",description:"Recent additions"},{title:"Students",value:(null===(s=t.byRole)||void 0===s?void 0:s.student)||0,change:"+5%",changeType:"positive",icon:r.hbr,color:"indigo",description:"Enrolled students"}],getColorClasses=e=>{let s={blue:{bg:"bg-blue-50",icon:"text-blue-600",iconBg:"bg-blue-100"},green:{bg:"bg-green-50",icon:"text-green-600",iconBg:"bg-green-100"},purple:{bg:"bg-purple-50",icon:"text-purple-600",iconBg:"bg-purple-100"},indigo:{bg:"bg-indigo-50",icon:"text-indigo-600",iconBg:"bg-indigo-100"},orange:{bg:"bg-orange-50",icon:"text-orange-600",iconBg:"bg-orange-100"},red:{bg:"bg-red-50",icon:"text-red-600",iconBg:"bg-red-100"}};return s[e]||s.blue};return i?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(l.Z,{className:"p-6 animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-16 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]})},s))}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map((e,s)=>{let t=e.icon,n=getColorClasses(e.color),i="positive"===e.changeType;return(0,a.jsx)(l.Z,{className:"p-6 hover:shadow-md transition-shadow duration-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.value.toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center",children:[i?(0,a.jsx)(r.QqI,{className:"w-4 h-4 text-green-500 mr-1"}):(0,a.jsx)(r.ZBs,{className:"w-4 h-4 text-red-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(i?"text-green-600":"text-red-600"),children:e.change}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:e.description})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 ".concat(n.iconBg," rounded-lg flex items-center justify-center"),children:(0,a.jsx)(t,{className:"w-6 h-6 ".concat(n.icon)})})]})},s)})})}},1578:function(e,s,t){var a=t(5893);t(7294);var l=t(1664),r=t.n(l),n=t(5675),i=t.n(n),c=t(582),d=t(7219);s.Z=e=>{let{post:s,featured:t=!1}=e,formatDate=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),getReadingTime=e=>{let s=e.split(" ").length;return Math.ceil(s/200)};return t?(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-white shadow-xl hover:shadow-2xl transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"relative w-full h-64 md:h-80 overflow-hidden",children:[s.image.includes("/api/placeholder")?(0,a.jsx)(c.Z,{width:800,height:400,text:s.category,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)(i(),{src:s.image,alt:s.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),(0,a.jsx)("div",{className:"absolute top-4 left-4",children:(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-blue text-white",children:s.category})})]}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm mb-3 opacity-90",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.vlc,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:formatDate(s.date)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.TCC,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[getReadingTime(s.content)," min read"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.fzv,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:s.author})]})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold mb-2 group-hover:text-blue-200 transition-colors",children:s.title}),(0,a.jsx)("p",{className:"text-gray-200 mb-4 line-clamp-2",children:s.excerpt}),(0,a.jsxs)(r(),{href:"/blog/".concat(s.slug),className:"inline-flex items-center text-white hover:text-blue-200 font-medium transition-colors group",children:["Read More",(0,a.jsx)(d.Rgz,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]}):(0,a.jsxs)("article",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[(0,a.jsxs)("div",{className:"relative w-full h-48 overflow-hidden",children:[s.image.includes("/api/placeholder")?(0,a.jsx)(c.Z,{width:600,height:300,text:s.category,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)(i(),{src:s.image,alt:s.title,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 text-gray-800",children:s.category})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.vlc,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:formatDate(s.date)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d.TCC,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[getReadingTime(s.content)," min read"]})]})]}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-primary-blue transition-colors line-clamp-2",children:s.title}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s.excerpt}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,a.jsx)(d.fzv,{className:"w-4 h-4 text-gray-600"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s.author})]}),(0,a.jsxs)(r(),{href:"/blog/".concat(s.slug),className:"inline-flex items-center text-primary-blue hover:text-blue-700 font-medium text-sm transition-colors group",children:["Read More",(0,a.jsx)(d.Rgz,{className:"ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})]})}},582:function(e,s,t){var a=t(5893);t(7294),s.Z=e=>{let{width:s=600,height:t=300,text:l="Blog Image",className:r="",showInProduction:n=!0}=e;if(!n)return(0,a.jsx)("div",{className:"bg-gray-200 flex items-center justify-center text-gray-500 relative overflow-hidden ".concat(r),style:{aspectRatio:"".concat(s,"/").concat(t),minHeight:"200px",maxWidth:"100%",maxHeight:"100%"},children:(0,a.jsx)("div",{className:"text-center px-4",children:(0,a.jsx)("div",{className:"text-sm opacity-70",children:"Image Coming Soon"})})});let i=["from-blue-400 to-blue-600","from-purple-400 to-purple-600","from-green-400 to-green-600","from-pink-400 to-pink-600","from-indigo-400 to-indigo-600","from-red-400 to-red-600","from-yellow-400 to-yellow-600","from-teal-400 to-teal-600"],c=l.split("").reduce((e,s)=>(e=(e<<5)-e+s.charCodeAt(0))&e,0),d=Math.abs(c)%i.length,x=i[d];return(0,a.jsxs)("div",{className:"bg-gradient-to-br ".concat(x," flex items-center justify-center text-white font-semibold relative overflow-hidden ").concat(r),style:{aspectRatio:"".concat(s,"/").concat(t),minHeight:"200px",maxWidth:"100%",maxHeight:"100%"},children:[(0,a.jsxs)("div",{className:"text-center px-4 z-10",children:[(0,a.jsx)("div",{className:"text-sm md:text-base opacity-90 font-medium",children:l}),(0,a.jsxs)("div",{className:"text-xs opacity-70 mt-1",children:[s," \xd7 ",t]})]}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-white/20 to-transparent"})})]})}},9175:function(e,s,t){var a=t(5893);t(7294);var l=t(7219);s.Z=e=>{let{children:s,variant:t="info",dismissible:r=!1,onDismiss:n,className:i="",...c}=e,d={success:{classes:"bg-green-50 border-green-200 text-green-800",icon:l._rq,iconColor:"text-green-400"},error:{classes:"bg-red-50 border-red-200 text-red-800",icon:l.bcx,iconColor:"text-red-400"},warning:{classes:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:l.BJv,iconColor:"text-yellow-400"},info:{classes:"bg-blue-50 border-blue-200 text-blue-800",icon:l.H33,iconColor:"text-blue-400"}},x=d[t],o=x.icon;return(0,a.jsx)("div",{className:"".concat("p-4 rounded-md border"," ").concat(x.classes," ").concat(i),role:"alert",...c,children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o,{className:"h-5 w-5 ".concat(x.iconColor),"aria-hidden":"true"})}),(0,a.jsx)("div",{className:"ml-3 flex-1",children:s}),r&&(0,a.jsx)("div",{className:"ml-auto pl-3",children:(0,a.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,a.jsx)("button",{type:"button",className:"inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat("success"===t?"text-green-500 hover:bg-green-100 focus:ring-green-600":"error"===t?"text-red-500 hover:bg-red-100 focus:ring-red-600":"warning"===t?"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600":"text-blue-500 hover:bg-blue-100 focus:ring-blue-600"),onClick:n,"aria-label":"Dismiss alert",children:(0,a.jsx)(l.q5L,{className:"h-5 w-5","aria-hidden":"true"})})})})]})})}},7014:function(e,s,t){var a=t(5893);t(7294),s.Z=e=>{let{children:s,variant:t="default",size:l="md",className:r="",...n}=e;return(0,a.jsx)("span",{className:"".concat("inline-flex items-center font-medium rounded-full"," ").concat({default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[t]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[l]," ").concat(r),...n,children:s})}},4065:function(e,s,t){var a=t(5893);t(7294),s.Z=e=>{let{columns:s=[],data:t=[],emptyMessage:l="No data available",className:r="",...n}=e;return t&&0!==t.length?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ".concat(r),...n,children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:s.map((e,s)=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.header},e.accessor||s))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,t)=>(0,a.jsx)("tr",{className:"hover:bg-gray-50",children:s.map((s,l)=>{let r=s.accessor?e[s.accessor]:"",n=s.cell?s.cell(r,e,t):r;return(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n},s.accessor||l)})},e.id||t))})]})}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:l})})}},4082:function(e,s,t){t.r(s);var a=t(5893);t(7294);var l=t(6761);s.default=()=>{var e;let{user:s,logout:t}=(0,l.a)();return(0,a.jsx)("header",{className:"bg-primary-blue text-white shadow-lg",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"SMIS"}),(0,a.jsx)("span",{className:"text-sm opacity-75",children:"School Management Information System"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"opacity-75",children:"Welcome, "}),(0,a.jsxs)("span",{className:"font-medium",children:[null==s?void 0:s.first_name," ",null==s?void 0:s.last_name]}),(0,a.jsx)("span",{className:"ml-2 px-2 py-1 bg-primary-light rounded text-xs",children:null==s?void 0:null===(e=s.role)||void 0===e?void 0:e.toUpperCase()})]}),(0,a.jsx)("button",{onClick:t,className:"px-3 py-1 bg-accent-red hover:bg-red-600 rounded text-sm transition-colors",children:"Logout"})]})]})})}},5822:function(e,s,t){var a=t(5893),l=t(7294);let r=(0,l.forwardRef)((e,s)=>{let{label:t,error:l,helperText:r,className:n="",containerClassName:i="",required:c=!1,icon:d,type:x="text",...o}=e,m="block w-full border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 sm:text-sm transition-colors",h=l?"border-red-300 text-red-900 placeholder-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary-light focus:border-primary-light",u=d?"pl-10 pr-3 py-2":"px-3 py-2",j="textarea"===x;return(0,a.jsxs)("div",{className:i,children:[t&&(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,c&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[d&&!j&&(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d,{className:"h-5 w-5 text-gray-400"})}),j?(0,a.jsx)("textarea",{ref:s,className:"".concat(m," ").concat(h," px-3 py-2 ").concat(n),"aria-invalid":l?"true":"false","aria-describedby":l?"".concat(o.id,"-error"):r?"".concat(o.id,"-helper"):void 0,...o}):(0,a.jsx)("input",{ref:s,type:x,className:"".concat(m," ").concat(h," ").concat(u," ").concat(n),"aria-invalid":l?"true":"false","aria-describedby":l?"".concat(o.id,"-error"):r?"".concat(o.id,"-helper"):void 0,...o})]}),l&&(0,a.jsx)("p",{id:"".concat(o.id,"-error"),className:"mt-1 text-sm text-red-600",role:"alert",children:l}),r&&!l&&(0,a.jsx)("p",{id:"".concat(o.id,"-helper"),className:"mt-1 text-sm text-gray-500",children:r})]})});r.displayName="Input",s.Z=r},1095:function(e,s,t){var a=t(5893),l=t(7294),r=t(7219);s.Z=e=>{let{isOpen:s,onClose:t,title:n,children:i,size:c="md",className:d="",showCloseButton:x=!0,closeOnOverlayClick:o=!0,closeOnEscape:m=!0}=e;return((0,l.useEffect)(()=>{if(!s||!m)return;let handleEscape=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",handleEscape),()=>document.removeEventListener("keydown",handleEscape)},[s,t,m]),(0,l.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),s)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e=>{o&&e.target===e.currentTarget&&t()}}),(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"\n            relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[c]," \n            bg-white rounded-lg shadow-xl transform transition-all\n            ").concat(d,"\n          "),children:[(n||x)&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),x&&(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:(0,a.jsx)(r.q5L,{className:"w-6 h-6"})})]}),(0,a.jsx)("div",{className:"p-6",children:i})]})})]}):null}},897:function(e,s,t){var a=t(5893);t(7294),s.Z=e=>{let{label:s,value:t,onChange:l,children:r,className:n="",error:i="",required:c=!1,disabled:d=!1,placeholder:x="",...o}=e,m="\n    w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm\n    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n    disabled:bg-gray-100 disabled:cursor-not-allowed\n    ".concat(i?"border-red-500 focus:ring-red-500 focus:border-red-500":"","\n    ").concat(n,"\n  ").trim().replace(/\s+/g," ");return(0,a.jsxs)("div",{className:"space-y-1",children:[s&&(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[s,c&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("select",{value:t,onChange:l,className:m,disabled:d,required:c,...o,children:[x&&(0,a.jsx)("option",{value:"",disabled:!0,children:x}),r]}),i&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:i})]})}},2983:function(e,s,t){t.r(s),t.d(s,{default:function(){return common_Sidebar}});var a={};t.r(a);var l=t(5893),r=t(7294),n=t(1664),i=t.n(n),c=t(6761),d=t(1163),x=t(7219),admin_AdminNavigation=()=>{let e=(0,d.useRouter)(),s=[{name:"Dashboard",href:"/dashboard",icon:x.m6D,current:"/dashboard"===e.pathname},{name:"Users",href:"/admin/users",icon:x.WY8,current:"/admin/users"===e.pathname},{name:"Students",href:"/admin/students",icon:x.WY8,current:"/admin/students"===e.pathname},{name:"Departments",href:"/admin/departments",icon:x.bGz,current:"/admin/departments"===e.pathname},{name:"Courses",href:"/admin/courses",icon:x.yK7,current:"/admin/courses"===e.pathname},{name:"Timetable",href:"/admin/timetable",icon:x.aCJ,current:"/admin/timetable"===e.pathname},{name:"Analytics",href:"/admin/analytics",icon:x.DKx,current:"/admin/analytics"===e.pathname},{name:"Calendar",href:"/admin/calendar",icon:x.vlc,current:"/admin/calendar"===e.pathname},{name:"System",href:"/admin/system",icon:x.nbt,current:"/admin/system"===e.pathname}],t=[{name:"Database",href:"/admin/database",icon:x.bGz,current:"/admin/database"===e.pathname},{name:"Security",href:"/admin/security",icon:x.bfl,current:"/admin/security"===e.pathname},{name:"Email",href:"/admin/email",icon:x.Imn,current:"/admin/email"===e.pathname},{name:"Server",href:"/admin/server",icon:x.j8v,current:"/admin/server"===e.pathname}];return(0,l.jsxs)("nav",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"space-y-1",children:s.map(e=>{let s=e.icon;return(0,l.jsxs)(i(),{href:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ".concat(e.current?"bg-blue-100 text-blue-700 border-r-2 border-blue-500":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[s&&(0,l.jsx)(s,{className:"mr-3 h-5 w-5 flex-shrink-0 ".concat(e.current?"text-blue-500":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name)})}),(0,l.jsxs)("div",{className:"pt-6",children:[(0,l.jsx)("div",{className:"px-3 mb-3",children:(0,l.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"System"})}),(0,l.jsx)("div",{className:"space-y-1",children:t.map(e=>{let s=e.icon;return(0,l.jsxs)(i(),{href:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ".concat(e.current?"bg-blue-100 text-blue-700 border-r-2 border-blue-500":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"),children:[s&&(0,l.jsx)(s,{className:"mr-3 h-5 w-5 flex-shrink-0 ".concat(e.current?"text-blue-500":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name)})})]})]})},common_Sidebar=()=>{let{user:e}=(0,c.a)(),[s,t]=(0,r.useState)(!1);if(!e)return(0,l.jsx)("aside",{className:"bg-gray-50 border-r border-gray-200 w-64",children:(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("div",{className:"text-center text-gray-500",children:"Loading..."})})});let n=(()=>{let s=[{icon:x.m6D,label:"Dashboard",path:"/dashboard"}];switch(null==e?void 0:e.role){case"student":return[...s,{icon:x.fzv,label:"Profile",path:"/student/profile"},{icon:x.yK7,label:"Grades",path:"/student/grades"},{icon:x.j4u,label:"Attendance",path:"/student/attendance"},{icon:x.vlc,label:"Timetable",path:"/student/timetable"},{icon:x.oQC,label:"Fees",path:"/student/fees"}];case"teacher":return[...s,{icon:x.fzv,label:"Profile",path:"/teacher/profile"},{icon:x.WY8,label:"Classes",path:"/teacher/classes"},{icon:x.j4u,label:"Attendance",path:"/teacher/attendance"},{icon:x.yK7,label:"Grades",path:"/teacher/grades"},{icon:x.vlc,label:"Timetable",path:"/teacher/timetable"}];case"hod":return[...s,{icon:x.WY8,label:"Teachers",path:"/hod/teachers"},{icon:x.yK7,label:"Courses",path:"/hod/courses"},{icon:x.DKx,label:"Reports",path:"/hod/reports"},{icon:x.vlc,label:"Timetable",path:"/hod/timetable"},{icon:x.nbt,label:"Approvals",path:"/hod/approvals"},{icon:x.Imn,label:"Notifications",path:"/hod/notifications"}];case"finance":return[...s,{icon:x.oQC,label:"Fees",path:"/finance/fees"},{icon:a.FiBarChart3,label:"Reports",path:"/finance/reports"},{icon:x.WY8,label:"Students",path:"/finance/students"},{icon:x.j4u,label:"Invoices",path:"/finance/invoices"}];case"admin":return[...s,{icon:x.WY8,label:"Users",path:"/admin/users"},{icon:a.FiGraduationCap,label:"Students",path:"/admin/students"},{icon:x.vlc,label:"Calendar",path:"/admin/calendar"},{icon:x.nbt,label:"System",path:"/admin/system"},{icon:a.FiBarChart3,label:"Analytics",path:"/admin/analytics"}];default:return s}})();return(0,l.jsxs)("aside",{className:"bg-gray-50 border-r border-gray-200 transition-all duration-300 ".concat(s?"w-16":"w-64"),children:[(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)("button",{onClick:()=>t(!s),className:"w-full flex justify-end text-gray-500 hover:text-gray-700",children:s?(0,l.jsx)(x.Tfp,{}):(0,l.jsx)(x.YFh,{})})}),(0,l.jsx)("nav",{className:"px-2",children:(null==e?void 0:e.role)==="admin"?(0,l.jsx)(admin_AdminNavigation,{}):n.map((e,t)=>{let a=e.icon;return a?(0,l.jsxs)(i(),{href:e.path,className:"flex items-center px-3 py-2 mb-1 text-gray-700 rounded-lg hover:bg-primary-light hover:text-white transition-colors",children:[(0,l.jsx)(a,{className:"w-5 h-5"}),!s&&(0,l.jsx)("span",{className:"ml-3 text-sm font-medium",children:e.label})]},t):null})})]})}},6208:function(e,s,t){var a=t(5893),l=t(7294);let Table=e=>{let{children:s,className:t="",striped:l=!1,hover:r=!0,...n}=e;return(0,a.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,a.jsx)("table",{className:"".concat("min-w-full divide-y divide-gray-200"," ").concat(t),...n,children:s})})};Table.Header=e=>{let{children:s,className:t="",...l}=e;return(0,a.jsx)("thead",{className:"bg-gray-50 ".concat(t),...l,children:s})},Table.Body=e=>{let{children:s,className:t="",striped:r=!1,hover:n=!0,...i}=e;return(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 ".concat(t),...i,children:l.Children.map(s,(e,s)=>{if(l.isValidElement(e)){let t=[r&&s%2==1?"bg-gray-50":"",n?"hover:bg-gray-50":"",e.props.className||""].filter(Boolean).join(" ");return l.cloneElement(e,{className:t})}return e})})},Table.Row=e=>{let{children:s,className:t="",...l}=e;return(0,a.jsx)("tr",{className:"transition-colors ".concat(t),...l,children:s})},Table.Head=e=>{let{children:s,className:t="",sortable:l=!1,...r}=e,n="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(l?"cursor-pointer hover:text-gray-700":""," ").concat(t);return(0,a.jsx)("th",{className:n,scope:"col",...r,children:s})},Table.Cell=e=>{let{children:s,className:t="",...l}=e;return(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ".concat(t),...l,children:s})},s.Z=Table},9060:function(e,s,t){t.d(s,{QD:function(){return timetable_TimetableFilters},mG:function(){return timetable_TimetableGrid}});var a=t(5893),l=t(7294),r=t(7014),n=t(9180),timetable_TimetableSlot=e=>{let{slot:s,editable:t=!1,showActions:l=!1,onClick:i,onEdit:c,onDelete:d,colorScheme:x="default",size:o="default"}=e;if(!s)return(0,a.jsx)("div",{className:"\n        ".concat("small"===o?"min-h-12 p-1":"min-h-16 p-2","\n        border-2 border-dashed border-gray-200 rounded-lg\n        flex items-center justify-center text-gray-400 text-xs\n        ").concat(t?"hover:border-gray-300 cursor-pointer":"","\n      "),onClick:t?i:void 0,children:t&&(0,a.jsx)("span",{children:"+ Add Class"})});let formatTime=e=>e?e.substring(0,5):"";return(0,a.jsxs)("div",{className:"\n        ".concat((()=>{switch(x){case"status":return"approved"===s.status?"bg-green-100 border-green-200 text-green-800":"rejected"===s.status?"bg-red-100 border-red-200 text-red-800":"bg-yellow-100 border-yellow-200 text-yellow-800";case"course":let e=["bg-blue-100 border-blue-200 text-blue-800","bg-purple-100 border-purple-200 text-purple-800","bg-green-100 border-green-200 text-green-800","bg-orange-100 border-orange-200 text-orange-800","bg-pink-100 border-pink-200 text-pink-800"];return e[s.course_id%e.length];default:return"bg-blue-100 border-blue-200 text-blue-800"}})(),"\n        ").concat("small"===o?"p-1 text-xs":"p-2 text-sm","\n        border rounded-lg mb-1 relative group\n        ").concat(i?"cursor-pointer hover:shadow-md":"","\n        transition-all duration-200\n      "),onClick:i,children:[(0,a.jsx)("div",{className:"font-medium truncate ".concat("small"===o?"text-xs":"text-sm"),children:s.course_name||s.course_code}),s.teacher_name&&(0,a.jsx)("div",{className:"text-opacity-80 truncate ".concat("small"===o?"text-xs":"text-sm"),children:s.teacher_name}),(0,a.jsxs)("div",{className:"text-opacity-70 ".concat("text-xs"),children:[formatTime(s.start_time)," - ",formatTime(s.end_time)]}),s.room&&(0,a.jsxs)("div",{className:"text-opacity-70 ".concat("text-xs"),children:["\uD83D\uDCCD ",s.room]}),"status"===x&&s.status&&(0,a.jsx)("div",{className:"absolute top-1 right-1",children:(0,a.jsx)(r.Z,{variant:"approved"===s.status?"success":"rejected"===s.status?"error":"warning",size:"xs",children:s.status})}),l&&(t||c||d)&&(0,a.jsx)("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[c&&(0,a.jsx)(n.Z,{size:"xs",variant:"outline",onClick:e=>{e.stopPropagation(),c(s)},className:"p-1",children:"✏️"}),d&&(0,a.jsx)(n.Z,{size:"xs",variant:"outline",onClick:e=>{e.stopPropagation(),d(s)},className:"p-1 text-red-600 hover:text-red-800",children:"\uD83D\uDDD1️"})]})})]})},i=t(4105),timetable_TimetableGrid=e=>{let{timetable:s=[],editable:t=!1,showActions:r=!1,colorScheme:c="default",onSlotClick:d,onSlotEdit:x,onSlotDelete:o,onAddSlot:m,title:h="Weekly Schedule"}=e,[u,j]=(0,l.useState)("grid"),g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],v={};function getDayName(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}g.forEach(e=>{v[e]={},p.forEach(s=>{v[e][s]=[]})}),null==s||s.forEach(e=>{var s;let t=getDayName(e.day_of_week),a=null===(s=e.start_time)||void 0===s?void 0:s.substring(0,5);v[t]&&v[t][a]&&v[t][a].push(e)});let handleSlotClick=(e,s,a)=>{if(a.length>0)d&&d(a[0]);else if(t&&m){let t=g.indexOf(e)+1;m({day:t,start_time:s})}};return"list"===u?(0,a.jsxs)(i.Z,{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:h}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)(n.Z,{size:"sm",variant:"outline",onClick:()=>j("grid"),children:"\uD83D\uDCC5 Grid View"})})]}),(0,a.jsx)("div",{className:"p-6",children:g.map(e=>{let l=null==s?void 0:s.filter(s=>getDayName(s.day_of_week)===e).sort((e,s)=>{var t;return null===(t=e.start_time)||void 0===t?void 0:t.localeCompare(s.start_time)});return(null==l?void 0:l.length)?(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:e}),(0,a.jsx)("div",{className:"space-y-2",children:l.map((e,s)=>(0,a.jsx)(timetable_TimetableSlot,{slot:e,editable:t,showActions:r,colorScheme:c,onClick:()=>null==d?void 0:d(e),onEdit:x,onDelete:o},"".concat(e.id,"-").concat(s)))})]},e):null})})]}):(0,a.jsxs)(i.Z,{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:h}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)(n.Z,{size:"sm",variant:"outline",onClick:()=>j("list"),children:"\uD83D\uDCCB List View"})})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-full",children:[(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-1 p-4 bg-gray-50 border-b",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500 text-center",children:"Time"}),g.map(e=>(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500 text-center",children:e},e))]}),p.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-1 p-2 border-b border-gray-100",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 text-center py-2 font-medium",children:e}),g.map(s=>{let l=v[s][e]||[];return(0,a.jsx)("div",{className:"min-h-16 p-1",onClick:()=>handleSlotClick(s,e,l),children:l.length>0?l.map((e,s)=>(0,a.jsx)(timetable_TimetableSlot,{slot:e,editable:t,showActions:r,colorScheme:c,size:"small",onClick:()=>null==d?void 0:d(e),onEdit:x,onDelete:o},"".concat(e.id,"-").concat(s))):(0,a.jsx)(timetable_TimetableSlot,{slot:null,editable:t,size:"small",onClick:()=>handleSlotClick(s,e,l)})},"".concat(s,"-").concat(e))})]},e))]})})]})},c=t(5822);t(9175);var timetable_TimetableFilters=e=>{let{filters:s={},onFilterChange:t,departments:l=[],teachers:r=[],courses:i=[],showDepartmentFilter:d=!1,showTeacherFilter:x=!1,showCourseFilter:o=!1,onReset:m,onExport:h}=e,handleFilterChange=(e,a)=>{t({...s,[e]:a})},u=[{value:"",label:"All Days"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"},{value:"7",label:"Sunday"}];return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[m&&(0,a.jsx)(n.Z,{variant:"outline",size:"sm",onClick:m,children:"Reset"}),h&&(0,a.jsx)(n.Z,{variant:"outline",size:"sm",onClick:h,children:"\uD83D\uDCE5 Export"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,a.jsx)("select",{value:s.semester||"",onChange:e=>handleFilterChange("semester",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"",label:"All Semesters"},{value:"Fall 2024",label:"Fall 2024"},{value:"Spring 2025",label:"Spring 2025"},{value:"Summer 2025",label:"Summer 2025"},{value:"Fall 2025",label:"Fall 2025"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),(0,a.jsx)("select",{value:s.day||"",onChange:e=>handleFilterChange("day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),d&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,a.jsxs)("select",{value:s.department||"",onChange:e=>handleFilterChange("department",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Departments"}),l&&l.length>0?l.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id)):(0,a.jsx)("option",{value:"",disabled:!0,children:"No departments available"})]})]}),x&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher"}),(0,a.jsxs)("select",{value:s.teacher||"",onChange:e=>handleFilterChange("teacher",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Teachers"}),r&&r.length>0?r.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)):(0,a.jsx)("option",{value:"",disabled:!0,children:"No teachers available"})]})]}),o&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,a.jsxs)("select",{value:s.course||"",onChange:e=>handleFilterChange("course",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Courses"}),i&&i.length>0?i.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.course_code," - ",e.name]},e.id)):(0,a.jsx)("option",{value:"",disabled:!0,children:"No courses available"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(c.Z,{label:"Search",value:s.search||"",onChange:e=>handleFilterChange("search",e.target.value),placeholder:"Search courses, teachers..."})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),(0,a.jsxs)("select",{value:s.timeRange||"",onChange:e=>handleFilterChange("timeRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Times"}),(0,a.jsx)("option",{value:"morning",children:"Morning (8:00-12:00)"}),(0,a.jsx)("option",{value:"afternoon",children:"Afternoon (12:00-17:00)"}),(0,a.jsx)("option",{value:"evening",children:"Evening (17:00-20:00)"})]})]})]}),Object.keys(s).some(e=>s[e])&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Active filters:"}),Object.entries(s).map(e=>{let[s,t]=e;if(!t)return null;let l=t;if("day"===s){let e=u.find(e=>e.value===t);l=(null==e?void 0:e.label)||t}return(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s,": ",l,(0,a.jsx)("button",{onClick:()=>handleFilterChange(s,""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},s)})]})]})}},3242:function(e,s,t){t.d(s,{c:function(){return useAsyncOperation},h:function(){return useApi}});var a=t(7294);let useApi=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{throwOnError:l=!1,fallbackData:r=null}=t,[n,i]=(0,a.useState)(r),[c,d]=(0,a.useState)(!0),[x,o]=(0,a.useState)(null),m=(0,a.useCallback)(async function(){for(var s,t,a,n=arguments.length,c=Array(n),x=0;x<n;x++)c[x]=arguments[x];try{d(!0),o(null);let s=await e(...c),t=(null==s?void 0:s.data)!==void 0?s.data:s;return i(t),t}catch(n){let e=(null===(t=n.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||n.message||"An error occurred";if(o(e),(null===(a=n.response)||void 0===a?void 0:a.status)===404||!l)return i(r),r;throw n}finally{d(!1)}},s);(0,a.useEffect)(()=>{m()},s);let h=(0,a.useCallback)(()=>m(),[m]);return{data:n,loading:c,error:x,execute:m,refetch:h}},useAsyncOperation=()=>{let[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)(null),r=(0,a.useCallback)(async e=>{try{s(!0),l(null);let t=await e();return t}catch(s){var t,a;let e=(null===(a=s.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||s.message||"An error occurred";throw l(e),s}finally{s(!1)}},[]),n=(0,a.useCallback)(()=>l(null),[]);return{loading:e,error:t,execute:r,clearError:n}}},6761:function(e,s,t){t.d(s,{a:function(){return useAuth}});var a=t(7294),l=t(8786);let useAuth=()=>{let e=(0,a.useContext)(l.ZP);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},4218:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(9180),m=t(5822),h=t(9175),u=t(4549),j=t(7219);s.default=()=>{var e,s,t,g,p,v,f,y,N,b,w,C,Z,S,D,A,k,_,T,F,R,P,H,G,I,z,B,E,M,L,O,U,q,W;let{user:Y}=(0,r.a)(),[V,Q]=(0,l.useState)("general"),[K,$]=(0,l.useState)(null),[J,X]=(0,l.useState)({}),{data:ee,loading:es,error:et,refetch:ea}=(0,n.h)(i.Sb.getSystemConfig),{loading:el,execute:er}=(0,n.c)();if(l.useEffect(()=>{ee&&X(ee)},[ee]),!Y||"admin"!==Y.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(h.Z,{variant:"error",children:"Access denied. Admin access required."})});let en=[{id:"general",label:"General Settings",icon:j.nbt},{id:"database",label:"Database",icon:j.bGz},{id:"security",label:"Security",icon:j.bfl},{id:"email",label:"Email Settings",icon:j.Imn},{id:"system",label:"System Info",icon:j.j8v}],handleConfigChange=(e,s,t)=>{X(a=>({...a,[e]:{...a[e],[s]:t}}))},handleSaveConfig=async()=>{try{await er(()=>i.Sb.updateSystemConfig(J)),$({type:"success",text:"System configuration saved successfully!"}),ea(),setTimeout(()=>$(null),5e3)}catch(t){var e,s;$({type:"error",text:(null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to save configuration"})}},handleTestEmailConfig=async()=>{try{await i.Sb.testEmailConfig(),$({type:"success",text:"Test email sent successfully!"}),setTimeout(()=>$(null),5e3)}catch(t){var e,s;$({type:"error",text:(null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to send test email"})}},handleBackupDatabase=async()=>{try{await i.Sb.backupDatabase(),$({type:"success",text:"Database backup initiated successfully!"}),setTimeout(()=>$(null),5e3)}catch(t){var e,s;$({type:"error",text:(null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to backup database"})}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"System Configuration"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage system settings, security, and configuration"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(o.Z,{variant:"outline",size:"sm",icon:j.Bw1,onClick:ea,children:"Refresh"}),(0,a.jsx)(o.Z,{variant:"primary",size:"sm",icon:j.mW3,onClick:handleSaveConfig,loading:el,children:"Save Changes"})]})]}),K&&(0,a.jsx)(h.Z,{variant:K.type,dismissible:!0,onDismiss:()=>$(null),children:K.text}),es?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(u.Z,{size:"lg"})}):et?(0,a.jsxs)(h.Z,{variant:"error",children:["Failed to load system configuration: ",et]}):(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:en.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>Q(e.id),className:"py-3 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors duration-200 ".concat(V===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-6",children:["general"===V&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Institution Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(m.Z,{label:"Institution Name",value:(null===(e=J.general)||void 0===e?void 0:e.institutionName)||"",onChange:e=>handleConfigChange("general","institutionName",e.target.value),placeholder:"Enter institution name"}),(0,a.jsx)(m.Z,{label:"Institution Code",value:(null===(s=J.general)||void 0===s?void 0:s.institutionCode)||"",onChange:e=>handleConfigChange("general","institutionCode",e.target.value),placeholder:"Enter institution code"}),(0,a.jsx)(m.Z,{label:"Academic Year",value:(null===(t=J.general)||void 0===t?void 0:t.academicYear)||"",onChange:e=>handleConfigChange("general","academicYear",e.target.value),placeholder:"e.g., 2024-2025"}),(0,a.jsx)(m.Z,{label:"Current Semester",value:(null===(g=J.general)||void 0===g?void 0:g.currentSemester)||"",onChange:e=>handleConfigChange("general","currentSemester",e.target.value),placeholder:"e.g., Fall 2024"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(m.Z,{label:"Contact Email",type:"email",value:(null===(p=J.general)||void 0===p?void 0:p.contactEmail)||"",onChange:e=>handleConfigChange("general","contactEmail",e.target.value),placeholder:"admin@institution.edu"}),(0,a.jsx)(m.Z,{label:"Contact Phone",value:(null===(v=J.general)||void 0===v?void 0:v.contactPhone)||"",onChange:e=>handleConfigChange("general","contactPhone",e.target.value),placeholder:"+1 (555) 123-4567"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Institution Address"}),(0,a.jsx)("textarea",{value:(null===(f=J.general)||void 0===f?void 0:f.address)||"",onChange:e=>handleConfigChange("general","address",e.target.value),rows:3,className:"form-textarea",placeholder:"Enter complete institution address..."})]})]})]}),"database"===V&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Database Status"}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-900",children:"Database Information"}),(0,a.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Connected"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Database Type:"}),(0,a.jsx)("span",{className:"font-semibold text-blue-900",children:(null===(y=J.database)||void 0===y?void 0:y.type)||"MySQL"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Database Size:"}),(0,a.jsx)("span",{className:"font-semibold text-blue-900",children:(null===(N=J.database)||void 0===N?void 0:N.size)||"2.4 GB"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Last Backup:"}),(0,a.jsx)("span",{className:"font-semibold text-blue-900",children:(null===(b=J.database)||void 0===b?void 0:b.lastBackup)?new Date(J.database.lastBackup).toLocaleDateString():"Never"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Uptime:"}),(0,a.jsx)("span",{className:"font-semibold text-blue-900",children:"99.9%"})]})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Database Operations"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(o.Z,{variant:"primary",onClick:handleBackupDatabase,className:"justify-start",children:[(0,a.jsx)(j.bGz,{className:"w-4 h-4 mr-2"}),"Create Backup"]}),(0,a.jsxs)(o.Z,{variant:"outline",className:"justify-start",children:[(0,a.jsx)(j.Bw1,{className:"w-4 h-4 mr-2"}),"View Backup History"]}),(0,a.jsxs)(o.Z,{variant:"warning",className:"justify-start",children:[(0,a.jsx)(j.nbt,{className:"w-4 h-4 mr-2"}),"Optimize Database"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(m.Z,{label:"Backup Frequency (hours)",type:"number",value:(null===(w=J.database)||void 0===w?void 0:w.backupFrequency)||"24",onChange:e=>handleConfigChange("database","backupFrequency",e.target.value),placeholder:"24"}),(0,a.jsx)(m.Z,{label:"Retention Period (days)",type:"number",value:(null===(C=J.database)||void 0===C?void 0:C.retentionPeriod)||"30",onChange:e=>handleConfigChange("database","retentionPeriod",e.target.value),placeholder:"30"})]})]})]}),"security"===V&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Policy"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:(null===(Z=J.security)||void 0===Z?void 0:Z.requireUppercase)||!1,onChange:e=>handleConfigChange("security","requireUppercase",e.target.checked),className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm",children:"Require uppercase letters"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:(null===(S=J.security)||void 0===S?void 0:S.requireNumbers)||!1,onChange:e=>handleConfigChange("security","requireNumbers",e.target.checked),className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm",children:"Require numbers"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:(null===(D=J.security)||void 0===D?void 0:D.requireSpecialChars)||!1,onChange:e=>handleConfigChange("security","requireSpecialChars",e.target.checked),className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm",children:"Require special characters"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(m.Z,{label:"Minimum Password Length",type:"number",value:(null===(A=J.security)||void 0===A?void 0:A.minPasswordLength)||"8",onChange:e=>handleConfigChange("security","minPasswordLength",e.target.value)}),(0,a.jsx)(m.Z,{label:"Session Timeout (minutes)",type:"number",value:(null===(k=J.security)||void 0===k?void 0:k.sessionTimeout)||"60",onChange:e=>handleConfigChange("security","sessionTimeout",e.target.value)}),(0,a.jsx)(m.Z,{label:"Max Login Attempts",type:"number",value:(null===(_=J.security)||void 0===_?void 0:_.maxLoginAttempts)||"5",onChange:e=>handleConfigChange("security","maxLoginAttempts",e.target.value)})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:(null===(T=J.security)||void 0===T?void 0:T.enableTwoFactor)||!1,onChange:e=>handleConfigChange("security","enableTwoFactor",e.target.checked),className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Enable Two-Factor Authentication"})]})})]}),"email"===V&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(m.Z,{label:"SMTP Server",value:(null===(F=J.email)||void 0===F?void 0:F.smtpServer)||"",onChange:e=>handleConfigChange("email","smtpServer",e.target.value)}),(0,a.jsx)(m.Z,{label:"SMTP Port",type:"number",value:(null===(R=J.email)||void 0===R?void 0:R.smtpPort)||"587",onChange:e=>handleConfigChange("email","smtpPort",e.target.value)}),(0,a.jsx)(m.Z,{label:"Username",value:(null===(P=J.email)||void 0===P?void 0:P.username)||"",onChange:e=>handleConfigChange("email","username",e.target.value)}),(0,a.jsx)(m.Z,{label:"Password",type:"password",value:(null===(H=J.email)||void 0===H?void 0:H.password)||"",onChange:e=>handleConfigChange("email","password",e.target.value)}),(0,a.jsx)(m.Z,{label:"From Email",type:"email",value:(null===(G=J.email)||void 0===G?void 0:G.fromEmail)||"",onChange:e=>handleConfigChange("email","fromEmail",e.target.value)}),(0,a.jsx)(m.Z,{label:"From Name",value:(null===(I=J.email)||void 0===I?void 0:I.fromName)||"",onChange:e=>handleConfigChange("email","fromName",e.target.value)})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:(null===(z=J.email)||void 0===z?void 0:z.enableSSL)||!1,onChange:e=>handleConfigChange("email","enableSSL",e.target.checked),className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm",children:"Enable SSL/TLS"})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{variant:"outline",onClick:handleTestEmailConfig,children:"Send Test Email"})})]}),"system"===V&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"System Information"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Version:"}),(0,a.jsx)("span",{className:"font-medium",children:(null===(B=J.system)||void 0===B?void 0:B.version)||"1.0.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Environment:"}),(0,a.jsx)("span",{className:"font-medium",children:(null===(E=J.system)||void 0===E?void 0:E.environment)||"Production"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Uptime:"}),(0,a.jsx)("span",{className:"font-medium",children:(null===(M=J.system)||void 0===M?void 0:M.uptime)||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Last Updated:"}),(0,a.jsx)("span",{className:"font-medium",children:(null===(L=J.system)||void 0===L?void 0:L.lastUpdated)?new Date(J.system.lastUpdated).toLocaleString():"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"CPU Usage:"}),(0,a.jsxs)("span",{className:"font-medium",children:[(null===(O=J.system)||void 0===O?void 0:O.cpuUsage)||"0","%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Memory Usage:"}),(0,a.jsxs)("span",{className:"font-medium",children:[(null===(U=J.system)||void 0===U?void 0:U.memoryUsage)||"0","%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Disk Usage:"}),(0,a.jsxs)("span",{className:"font-medium",children:[(null===(q=J.system)||void 0===q?void 0:q.diskUsage)||"0","%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Active Users:"}),(0,a.jsx)("span",{className:"font-medium",children:(null===(W=J.system)||void 0===W?void 0:W.activeUsers)||"0"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"System Maintenance"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)(o.Z,{variant:"warning",children:"Clear Cache"}),(0,a.jsx)(o.Z,{variant:"outline",children:"View System Logs"}),(0,a.jsx)(o.Z,{variant:"danger",children:"Restart System"})]})]})]})]})]})]})})]})]})}},2986:function(e,s,t){t.r(s),t.d(s,{default:function(){return users}});var a=t(5893),l=t(7294),r=t(1163),n=t(6761),i=t(591),c=t(4082),d=t(2983),x=t(9180),o=t(4105),m=t(856),h=t(7014),u=t(7219),users_UserTable=e=>{let{users:s,loading:t,error:r,currentPage:n,totalPages:i,onPageChange:c,onUserAction:d}=e,[m,j]=(0,l.useState)([]),[g,p]=(0,l.useState)(null),getRoleBadgeVariant=e=>({admin:"danger",hod:"warning",teacher:"primary",finance:"success",student:"default"})[e]||"default",getStatusBadgeVariant=e=>({active:"success",inactive:"default",suspended:"danger",pending:"warning"})[e]||"default",getRoleIcon=e=>{let s={admin:u.bfl,hod:u.bfl,teacher:u.WY8,finance:u.bAx,student:u.WY8};return s[e]||u.WY8},handleSelectUser=e=>{j(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},formatDate=e=>{if(!e)return"Never";let s=new Date(e);return s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},formatTime=e=>{if(!e)return"";let s=new Date(e);return s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})};return t?(0,a.jsx)(o.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-48 mb-6"}),(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-20"})]},s))})]})}):r?(0,a.jsx)(o.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-red-500 mb-2",children:(0,a.jsx)(u.WY8,{className:"w-12 h-12 mx-auto"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Users"}),(0,a.jsx)("p",{className:"text-gray-500",children:r})]})}):s&&0!==s.length?(0,a.jsxs)(o.Z,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"System Users"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[m.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[m.length," selected"]}),(0,a.jsx)(x.Z,{variant:"outline",size:"sm",children:"Bulk Actions"})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[s.length," users"]})]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left",children:(0,a.jsx)("input",{type:"checkbox",checked:m.length===s.length,onChange:()=>{m.length===s.length?j([]):j(s.map(e=>e.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>{var s,t,l;let r=getRoleIcon(e.role);return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat(m.includes(e.id)?"bg-blue-50":""),children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",checked:m.includes(e.id),onChange:()=>handleSelectUser(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mr-4",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[null===(s=e.first_name)||void 0===s?void 0:s[0],null===(t=e.last_name)||void 0===t?void 0:t[0]]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,a.jsx)(u.Imn,{className:"w-3 h-3 mr-1"}),e.email]}),e.staff_id&&(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["ID: ",e.staff_id]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,a.jsx)(h.Z,{variant:getRoleBadgeVariant(e.role),children:null===(l=e.role)||void 0===l?void 0:l.toUpperCase()})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.department_name||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(h.Z,{variant:getStatusBadgeVariant(e.status||"active"),children:e.status||"active"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.vlc,{className:"w-4 h-4 mr-1 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:formatDate(e.last_login)}),e.last_login&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:formatTime(e.last_login)})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:formatDate(e.created_at)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,a.jsx)(x.Z,{variant:"outline",size:"sm",icon:u.rDJ,onClick:()=>d("view",e),children:"View"}),(0,a.jsx)(x.Z,{variant:"primary",size:"sm",icon:u.vPQ,onClick:()=>d("edit",e),children:"Edit"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Z,{variant:"outline",size:"sm",icon:u.$Pu,onClick:()=>p(g===e.id?null:e.id)}),g===e.id&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:()=>{d("activate",e),p(null)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,a.jsx)(u.tMu,{className:"w-4 h-4 mr-2"}),"Activate"]}),(0,a.jsxs)("button",{onClick:()=>{d("deactivate",e),p(null)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[(0,a.jsx)(u.pBC,{className:"w-4 h-4 mr-2"}),"Deactivate"]}),(0,a.jsx)("hr",{className:"my-1"}),(0,a.jsxs)("button",{onClick:()=>{d("delete",e),p(null)},className:"flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 w-full text-left",children:[(0,a.jsx)(u.Ybf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})]})})]},e.id)})})]})}),i>1&&(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Page ",n," of ",i]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.Z,{variant:"outline",size:"sm",icon:u.YFh,disabled:1===n,onClick:()=>c(n-1),children:"Previous"}),(0,a.jsx)(x.Z,{variant:"outline",size:"sm",icon:u.Tfp,iconPosition:"right",disabled:n===i,onClick:()=>c(n+1),children:"Next"})]})]})})]}):(0,a.jsx)(o.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(u.WY8,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"No users match the current filters. Try adjusting your search criteria."}),(0,a.jsx)(x.Z,{variant:"primary",onClick:()=>d("create"),children:"Create First User"})]})})},users=()=>{let{user:e,isAuthenticated:s}=(0,n.a)(),t=(0,r.useRouter)(),[h,j]=(0,l.useState)([]),[g,p]=(0,l.useState)(!0),[v,f]=(0,l.useState)(null),[y,N]=(0,l.useState)(!1),[b,w]=(0,l.useState)(1),[C,Z]=(0,l.useState)(1),[S,D]=(0,l.useState)(0),[A,k]=(0,l.useState)(""),[_,T]=(0,l.useState)(""),[F,R]=(0,l.useState)(""),[P,H]=(0,l.useState)(null),[G,I]=(0,l.useState)({totalUsers:0,activeUsers:0,newThisMonth:0,byRole:{}});(0,l.useEffect)(()=>{if(!s||(null==e?void 0:e.role)!=="admin"){t.push("/dashboard");return}},[s,e,t]);let fetchUsers=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{p(1===e),N(1!==e);let l={...s&&{search:s},...t&&{role:t},...a&&{departmentId:a}},r=await i.Sb.getAllUsers(e,10,l),{users:n,pagination:c}=r;j(n),w(c.page),Z(c.pages),D(c.total),calculateUserStats(n),f(null)}catch(e){f("Failed to load users. Please try again.")}finally{p(!1),N(!1)}},calculateUserStats=e=>{let s={totalUsers:e.length,activeUsers:e.filter(e=>"active"===e.status).length,newThisMonth:e.filter(e=>{let s=new Date(e.created_at),t=new Date;return s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()}).length,byRole:{}};e.forEach(e=>{s.byRole[e.role]=(s.byRole[e.role]||0)+1}),I(s)};return((0,l.useEffect)(()=>{s&&(null==e?void 0:e.role)==="admin"&&fetchUsers()},[s,e]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{fetchUsers(1,A,_,F)},500);return()=>clearTimeout(e)},[A,_,F]),s&&(null==e?void 0:e.role)==="admin")?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(u.WY8,{className:"mr-3 text-blue-600"}),"User Management"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage all users across the system - students, teachers, and staff"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(x.Z,{variant:"outline",icon:u.Bw1,onClick:()=>{fetchUsers(b,A,_,F)},loading:y,size:"sm",children:"Refresh"}),(0,a.jsx)(x.Z,{variant:"outline",icon:u._hL,size:"sm",children:"Export"}),(0,a.jsx)(x.Z,{variant:"primary",icon:u.OvN,onClick:()=>t.push("/admin/users/create"),children:"Add User"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsx)(m.Z,{stats:G,totalUsers:S,loading:g})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(m.f,{stats:G,loading:g})})]}),(0,a.jsx)(o.Z,{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 flex-1",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(u.jRj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users...",value:A,onChange:e=>k(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("select",{value:_,onChange:e=>T(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Roles"}),(0,a.jsx)("option",{value:"student",children:"Students"}),(0,a.jsx)("option",{value:"teacher",children:"Teachers"}),(0,a.jsx)("option",{value:"hod",children:"HODs"}),(0,a.jsx)("option",{value:"finance",children:"Finance"}),(0,a.jsx)("option",{value:"admin",children:"Admins"})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(u.QqI,{className:"w-4 h-4 mr-1"}),S," total users"]})]})}),(0,a.jsx)(users_UserTable,{users:h,loading:g,error:v,currentPage:b,totalPages:C,onPageChange:e=>{fetchUsers(e,A,_,F)},onUserAction:(e,s)=>{switch(H(s),e){case"create":t.push("/admin/users/create");break;case"edit":t.push("/admin/users/actions?userId=".concat(s.id,"&action=edit"));break;case"delete":t.push("/admin/users/actions?userId=".concat(s.id,"&action=delete"));break;case"view":t.push("/admin/users/actions?userId=".concat(s.id,"&action=view"));break;case"activate":t.push("/admin/users/actions?userId=".concat(s.id,"&action=activate"));break;case"deactivate":t.push("/admin/users/actions?userId=".concat(s.id,"&action=deactivate"))}}})]})})]})]}):null}},7893:function(e,s,t){t.r(s),t.d(s,{default:function(){return dashboard}});var a=t(5893),l=t(7294),r=t(6761),n=t(4082),i=t(2983),c=t(1664),d=t.n(c),x=t(3242),o=t(591),m=t(4105),h=t(9180),u=t(7014),j=t(4549),g=t(7219),student_StudentDashboard=()=>{var e,s,t,r,n;let[i,c]=(0,l.useState)("7d"),{data:p,loading:v,refetch:f}=(0,x.h)(o.t7.getProfile),{data:y,loading:N,refetch:b}=(0,x.h)(o.t7.getGrades),{data:w,loading:C,refetch:Z}=(0,x.h)(o.t7.getFees),{data:S,loading:D}=(0,x.h)(()=>{let e=new Date().toISOString().split("T")[0],s=new Date(Date.now()-2592e6).toISOString().split("T")[0];return o.t7.getAttendance(s,e)}),{data:A,loading:k}=(0,x.h)(()=>o.t7.getTimetable("current")),_=[{title:"View Timetable",description:"Check your class schedule",icon:g.vlc,href:"/student/timetable",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Check Attendance",description:"View your attendance record",icon:g.yK7,href:"/student/attendance",color:"bg-green-500",textColor:"text-green-600"},{title:"View Grades",description:"See your academic performance",icon:g.QqI,href:"/student/grades",color:"bg-purple-500",textColor:"text-purple-600"},{title:"Update Profile",description:"Manage your personal information",icon:g.fzv,href:"/student/profile",color:"bg-orange-500",textColor:"text-orange-600"}],T=(e=>{if(!e||0===e.length)return 0;let s=e.reduce((e,s)=>e+(({"A+":4,A:4,"A-":3.7,"B+":3.3,B:3,"B-":2.7,"C+":2.3,C:2,"C-":1.7,"D+":1.3,D:1,F:0})[s.grade]||0),0);return(s/e.length).toFixed(2)})((null==y?void 0:y.grades)||[]),F=(null==S?void 0:S.attendanceRate)||0,R=(null==w?void 0:w.totalOutstanding)||0;return v?(0,a.jsx)("div",{className:"p-6 flex justify-center items-center min-h-96",children:(0,a.jsx)(j.Z,{size:"lg"})}):(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",null==p?void 0:null===(e=p.user)||void 0===e?void 0:e.first_name,"! Here's your academic overview."]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("select",{value:i,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.Bw1,onClick:()=>{f(),b(),Z()},children:"Refresh"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Current GPA"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:T}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"+0.2"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"from last semester"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.HR2,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[F,"%"]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"Excellent"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"attendance"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.xUG,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Courses"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null==y?void 0:null===(s=y.grades)||void 0===s?void 0:s.length)||0}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.yK7,{className:"w-4 h-4 text-purple-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-purple-600",children:"This semester"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.yK7,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fees"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",R]}),(0,a.jsx)("div",{className:"flex items-center mt-2",children:R>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.bcx,{className:"w-4 h-4 text-red-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-red-600",children:"Payment due"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"All paid"})]})})]}),(0,a.jsx)("div",{className:"w-12 h-12 ".concat(R>0?"bg-red-100":"bg-green-100"," rounded-lg flex items-center justify-center"),children:(0,a.jsx)(g.oQC,{className:"w-6 h-6 ".concat(R>0?"text-red-600":"text-green-600")})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",children:"View All"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:_.map((e,s)=>{let t=e.icon;return(0,a.jsxs)(d(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform"),children:(0,a.jsx)(t,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[(0,a.jsx)("span",{children:"Go to"}),(0,a.jsx)(g.Rgz,{className:"w-4 h-4 ml-1"})]})]},s)})})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Grades"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/student/grades",children:"View All"})]}),N?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==y?void 0:null===(t=y.grades)||void 0===t?void 0:t.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:y.grades.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.yK7,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.semester," ",e.year]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-bold text-lg text-gray-900",children:e.grade}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.assessment_type})]})]},s))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Grades Yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Your grades will appear here once they're posted."})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Fee Status"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/student/fees",children:"View All"})]}),C?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(g.oQC,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Total Outstanding"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Amount due for payment"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(R>0?"text-red-600":"text-green-600"),children:["$",R]}),(0,a.jsx)(u.Z,{variant:R>0?"danger":"success",children:R>0?"Payment Due":"All Paid"})]})]}),null==w?void 0:null===(r=w.fees)||void 0===r?void 0:r.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.fee_type}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-bold text-gray-900",children:["$",e.amount]}),(0,a.jsx)(u.Z,{variant:"paid"===e.status?"success":"danger",children:e.status})]})]},s))]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/student/timetable",children:"View Timetable"})]}),k?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==A?void 0:null===(n=A.classes)||void 0===n?void 0:n.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:A.classes.slice(0,4).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.TCC,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.start_time," - ",e.end_time]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.room||"TBA"})]})]},s))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Today"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Enjoy your free time!"})]})]})]})]})},teacher_TeacherDashboard=()=>{var e,s,t,r,n,i,c;let[p,v]=(0,l.useState)("7d"),{data:f,loading:y,refetch:N}=(0,x.h)(o.$o.getProfile),{data:b,loading:w,refetch:C}=(0,x.h)(o.$o.getClasses),{data:Z,loading:S}=(0,x.h)(()=>o.$o.getTimetable({week:"current"})),{data:D,loading:A}=(0,x.h)(o.$o.getAllStudents),k=[{title:"Mark Attendance",description:"Record student attendance",icon:g.j4u,href:"/teacher/attendance",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Enter Grades",description:"Submit student grades",icon:g.yK7,href:"/teacher/grades",color:"bg-green-500",textColor:"text-green-600"},{title:"View Classes",description:"Manage your classes",icon:g.WY8,href:"/teacher/classes",color:"bg-purple-500",textColor:"text-purple-600"},{title:"View Timetable",description:"Check your schedule",icon:g.vlc,href:"/teacher/timetable",color:"bg-orange-500",textColor:"text-orange-600"}],_=(null==D?void 0:null===(e=D.students)||void 0===e?void 0:e.length)||0,T=(null==b?void 0:null===(s=b.classes)||void 0===s?void 0:s.length)||0,F=(null==b?void 0:null===(t=b.classes)||void 0===t?void 0:t.reduce((e,s)=>e+(s.pendingGrades||0),0))||0;return y?(0,a.jsx)("div",{className:"p-6 flex justify-center items-center min-h-96",children:(0,a.jsx)(j.Z,{size:"lg"})}):(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",null==f?void 0:null===(r=f.user)||void 0===r?void 0:r.first_name,"! Here's your teaching overview."]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("select",{value:p,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.Bw1,onClick:()=>{N(),C()},children:"Refresh"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:_}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"+5"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"this semester"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.WY8,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Classes"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:T}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.yK7,{className:"w-4 h-4 text-purple-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-purple-600",children:"This semester"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.yK7,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[95,"%"]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"Excellent"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"overall"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.xUG,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Grades"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:F}),(0,a.jsx)("div",{className:"flex items-center mt-2",children:F>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.bcx,{className:"w-4 h-4 text-orange-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-orange-600",children:"Needs attention"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"All caught up"})]})})]}),(0,a.jsx)("div",{className:"w-12 h-12 ".concat(F>0?"bg-orange-100":"bg-green-100"," rounded-lg flex items-center justify-center"),children:(0,a.jsx)(g.vPQ,{className:"w-6 h-6 ".concat(F>0?"text-orange-600":"text-green-600")})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",children:"View All"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:k.map((e,s)=>{let t=e.icon;return(0,a.jsxs)(d(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform"),children:(0,a.jsx)(t,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[(0,a.jsx)("span",{children:"Go to"}),(0,a.jsx)(g.Rgz,{className:"w-4 h-4 ml-1"})]})]},s)})})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"My Classes"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/teacher/classes",children:"View All"})]}),w?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==b?void 0:null===(n=b.classes)||void 0===n?void 0:n.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:b.classes.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.yK7,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.semester," • ",e.student_count," students"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(u.Z,{variant:"active"===e.status?"success":"default",children:e.status}),e.pendingGrades>0&&(0,a.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:[e.pendingGrades," pending"]})]})]},s))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Assigned"}),(0,a.jsx)("p",{className:"text-gray-500",children:"You haven't been assigned to any classes yet."})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/teacher/timetable",children:"View Timetable"})]}),S?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==Z?void 0:null===(i=Z.classes)||void 0===i?void 0:i.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:Z.classes.slice(0,4).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.TCC,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.start_time," - ",e.end_time]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:e.room||"TBA"})]}),(0,a.jsx)(u.Z,{variant:"primary",children:e.day})]},s))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Today"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Enjoy your free time!"})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Students"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/teacher/classes",children:"View All"})]}),A?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==D?void 0:null===(c=D.students)||void 0===c?void 0:c.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:D.students.slice(0,5).map((e,s)=>{var t,l;return(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[null===(t=e.first_name)||void 0===t?void 0:t[0],null===(l=e.last_name)||void 0===l?void 0:l[0]]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.course_name})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)(u.Z,{variant:"success",children:"Active"})})]},s)})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Yet"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Students will appear here once classes are assigned."})]})]})]})]})},p=t(9175),hod_EnhancedHodDashboard=()=>{var e;let{user:s,isAuthenticated:t}=(0,r.a)(),[n,i]=(0,l.useState)(!1),[c,v]=(0,l.useState)(!1),f={teachers:[{id:1,first_name:"John",last_name:"Smith",email:"john.smith@school.edu",status:"active",course_count:3},{id:2,first_name:"Jane",last_name:"Doe",email:"jane.doe@school.edu",status:"active",course_count:2},{id:3,first_name:"Bob",last_name:"Wilson",email:"bob.wilson@school.edu",status:"active",course_count:4}],stats:{courses:12,teachers:3,attendance:{avg_attendance_percentage:85.5}},timetable:[{id:1,course_name:"Mathematics 101",course_code:"MATH101",teacher_name:"John Smith",day_of_week:1,start_time:"09:00",end_time:"10:30",room:"Room 101"},{id:2,course_name:"Physics 201",course_code:"PHYS201",teacher_name:"Jane Doe",day_of_week:2,start_time:"11:00",end_time:"12:30",room:"Lab 1"},{id:3,course_name:"Chemistry 101",course_code:"CHEM101",teacher_name:"Bob Wilson",day_of_week:3,start_time:"14:00",end_time:"15:30",room:"Lab 2"}]},{data:y,loading:N,error:b,refetch:w}=(0,x.h)(o.pW.getDepartmentTeachers,[],{fallbackData:[]}),{data:C,loading:Z,error:S,refetch:D}=(0,x.h)(o.pW.getDepartmentStats,[],{fallbackData:{courses:0,teachers:0,attendance:{avg_attendance_percentage:0}}}),{data:A,loading:k,error:_,refetch:T}=(0,x.h)(()=>o.pW.getDepartmentTimetable({semester:"current"}),[],{fallbackData:[]}),F=c||b&&!(null==y?void 0:y.length)?f.teachers:y,R=c||S&&!(null==C?void 0:C.courses)?f.stats:C,P=c||_&&!(null==A?void 0:A.length)?f.timetable:A,[H,G]=(0,l.useState)("checking");(0,l.useEffect)(()=>{let testBackend=async()=>{try{let e=await fetch("http://localhost:5000/api/health");e.ok?G("connected"):G("error")}catch(e){G("disconnected")}};testBackend()},[]);let I=N||Z||k,handleRefresh=async()=>{i(!0);try{await Promise.all([w(),D(),T()])}catch(e){}finally{i(!1)}},z=[{title:"Manage Teachers",description:"View and manage department staff",icon:g.WY8,href:"/hod/teachers",color:"bg-blue-500",count:(null==F?void 0:F.length)||0},{title:"Course Management",description:"Manage department courses",icon:g.yK7,href:"/hod/courses",color:"bg-green-500",count:(null==R?void 0:R.courses)||0},{title:"Reports & Analytics",description:"Generate departmental reports",icon:g.DKx,href:"/hod/reports",color:"bg-purple-500",count:null},{title:"Timetable Management",description:"View and approve timetables",icon:g.vlc,href:"/hod/timetable",color:"bg-orange-500",count:(null==P?void 0:P.length)||0},{title:"Approvals",description:"Review pending approvals",icon:g._rq,href:"/hod/approvals",color:"bg-red-500",count:null},{title:"Notifications",description:"Send notifications to staff",icon:g.Imn,href:"/hod/notifications",color:"bg-indigo-500",count:null}],B=[{title:"Total Teachers",value:(null==F?void 0:F.length)||0,icon:g.WY8,color:"text-blue-600",bgColor:"bg-blue-50",change:null},{title:"Total Courses",value:(null==R?void 0:R.courses)||0,icon:g.yK7,color:"text-green-600",bgColor:"bg-green-50",change:null},{title:"Avg Attendance",value:"".concat((null==R?void 0:null===(e=R.attendance)||void 0===e?void 0:e.avg_attendance_percentage)||0,"%"),icon:g.QqI,color:"text-purple-600",bgColor:"bg-purple-50",change:null},{title:"Active Classes",value:(null==P?void 0:P.length)||0,icon:g.vlc,color:"text-orange-600",bgColor:"bg-orange-50",change:null}];return(b||S||_)&&!c?(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)(p.Z,{variant:"error",className:"mb-6",children:["Error loading dashboard data. Please try refreshing the page.",!1]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(h.Z,{onClick:handleRefresh,loading:n,icon:g.Bw1,children:"Retry"}),(0,a.jsx)(h.Z,{variant:"outline",onClick:()=>v(!0),icon:g.aCJ,children:"Use Test Data"})]})]}):(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"HOD Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back! Here's your department overview.",c&&(0,a.jsx)("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Test Mode"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(h.Z,{variant:"outline",size:"sm",onClick:handleRefresh,loading:n,icon:g.Bw1,children:"Refresh"}),!1]})]}),!1,(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:B.map((e,s)=>{let t=e.icon;return(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg ".concat(e.bgColor),children:(0,a.jsx)(t,{className:"w-6 h-6 ".concat(e.color)})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,a.jsx)("div",{className:"flex items-center",children:I?(0,a.jsx)(j.Z,{size:"sm"}):(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.value})})]})]})},s)})}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map((e,s)=>{let t=e.icon;return(0,a.jsx)(d(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform"),children:(0,a.jsx)(t,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-gray-700",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[null!==e.count&&(0,a.jsx)(u.Z,{variant:"default",size:"sm",children:I?"...":e.count}),(0,a.jsx)(g.Rgz,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]})]})},s)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Department Teachers"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/hod/teachers",children:"View All"})]}),N&&!c?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==F?void 0:F.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:F.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.WY8,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]}),(0,a.jsx)(u.Z,{variant:"active"===e.status?"success":"default",size:"sm",children:e.status})]},s))}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No teachers found"})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/hod/timetable",children:"View Timetable"})]}),k&&!c?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==P?void 0:P.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:P.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.vlc,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.course_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.teacher_name," • ",e.start_time," - ",e.end_time,e.room&&" • ".concat(e.room)]})]})]},s))}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No classes scheduled"})]})]})]})},finance_FinanceDashboard=()=>{var e,s,t;let[r,n]=(0,l.useState)("7d"),{data:i,loading:c,error:u,refetch:p}=(0,x.h)(()=>{var e;return(null===(e=o.sz.getProfile)||void 0===e?void 0:e.call(o.sz))||Promise.resolve({data:{user:{first_name:"Finance User"}}})},[],{fallbackData:{user:{first_name:"Finance User"}}}),{data:v,loading:f,error:y,refetch:N}=(0,x.h)(()=>{var e;return(null===(e=o.sz.getOverdueFees)||void 0===e?void 0:e.call(o.sz))||Promise.resolve({data:{fees:[],totalOutstanding:0,overdueCount:0}})},[],{fallbackData:{fees:[],totalOutstanding:0,overdueCount:0}}),{data:b,loading:w}=(0,x.h)(()=>activityAPI.getActivitiesByEntityType("payment",{limit:5}),[],{fallbackData:{data:[]}}),{data:C,loading:Z,error:S,refetch:D}=(0,x.h)(()=>{var e;return(null===(e=o.sz.getFinancialReports)||void 0===e?void 0:e.call(o.sz,{period:"month"}))||Promise.resolve({data:{totalRevenue:0,totalPaid:0}})},[],{fallbackData:{totalRevenue:0,totalPaid:0}}),A=[{title:"Manage Fees",description:"Create and manage student fees",icon:g.oQC,href:"/finance/fees",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Generate Reports",description:"Create financial reports",icon:g.DKx,href:"/finance/reports",color:"bg-green-500",textColor:"text-green-600"},{title:"View Students",description:"Manage student accounts",icon:g.WY8,href:"/finance/students",color:"bg-purple-500",textColor:"text-purple-600"},{title:"Create Invoice",description:"Generate student invoices",icon:g.NOg,href:"/finance/invoices",color:"bg-orange-500",textColor:"text-orange-600"}],k=(null==C?void 0:C.totalRevenue)||0,_=(null==v?void 0:v.totalOutstanding)||0,T=(null==C?void 0:C.totalPaid)||0,F=(null==v?void 0:v.overdueCount)||0;return c?(0,a.jsx)("div",{className:"p-6 flex justify-center items-center min-h-96",children:(0,a.jsx)(j.Z,{size:"lg"})}):(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",(null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.first_name)||"Finance User","! Here's your financial overview."]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("select",{value:r,onChange:e=>n(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.Bw1,onClick:()=>{p(),N(),D()},children:"Refresh"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",k.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"+12%"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"this month"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.oQC,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fees"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",_.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.bcx,{className:"w-4 h-4 text-orange-500 mr-1"}),(0,a.jsxs)("span",{className:"text-sm text-orange-600",children:[F," overdue"]})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.bcx,{className:"w-6 h-6 text-orange-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",T.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"This month"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.XiQ,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Collection Rate"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[k>0?Math.round((k-_)/k*100):0,"%"]}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.xUG,{className:"w-4 h-4 text-purple-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-purple-600",children:"Efficiency"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.xUG,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",children:"View All"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:A.map((e,s)=>{let t=e.icon;return t?(0,a.jsxs)(d(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform"),children:(0,a.jsx)(t,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[(0,a.jsx)("span",{children:"Go to"}),(0,a.jsx)(g.Rgz,{className:"w-4 h-4 ml-1"})]})]},s):null})})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Overdue Fees"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/finance/overdue",children:"View All"})]}),f?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(null==v?void 0:null===(s=v.fees)||void 0===s?void 0:s.length)>0?(0,a.jsx)("div",{className:"space-y-4",children:v.fees.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.oQC,{className:"w-4 h-4 text-red-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.student_name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.fee_type})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-bold text-red-600",children:["$",e.amount]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]})]},s))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g._rq,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Overdue Fees"}),(0,a.jsx)("p",{className:"text-gray-500",children:"All fees are up to date!"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Summary"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/finance/reports",children:"View Reports"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(g.oQC,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Monthly Revenue"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total income this month"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",k.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"+12% from last month"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(g.XiQ,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Payments Processed"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Successful transactions"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",T.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"This month"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(g.bcx,{className:"w-5 h-5 text-orange-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Outstanding Amount"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Fees pending collection"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:["$",_.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm text-orange-600",children:[F," overdue"]})]})]})]})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",children:"View All"})]}),w?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(0,a.jsx)("div",{className:"space-y-4",children:(null==b?void 0:null===(t=b.data)||void 0===t?void 0:t.length)>0?b.data.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 ".concat((e=>{switch(e){case"payment_received":return"bg-green-500";case"invoice_generated":return"bg-blue-500";case"fee_overdue":return"bg-orange-500";case"report_generated":return"bg-purple-500";default:return"bg-gray-500"}})(e.action)," rounded-full mt-2")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.description}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.user_name," - ",e.user_role]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleString()})]})]},e.id||s)):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.bAx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No recent financial activities"})]})})]})]})]})},admin_AdminDashboard=()=>{var e,s;let[t,r]=(0,l.useState)("7d"),{data:n,loading:i,refetch:c}=(0,x.h)(o.Sb.getSystemStats),{data:u,loading:p}=(0,x.h)(()=>o.Sb.getAllUsers({limit:5})),{data:v,loading:f}=(0,x.h)(()=>activityAPI.getSystemAlerts({limit:5})),y=[{title:"Create User",description:"Add new student, teacher, or staff",icon:g.WY8,href:"/admin/users",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Manage Calendar",description:"Add events and academic dates",icon:g.vlc,href:"/admin/calendar",color:"bg-green-500",textColor:"text-green-600"},{title:"System Settings",description:"Configure system preferences",icon:g.nbt,href:"/admin/system",color:"bg-purple-500",textColor:"text-purple-600"},{title:"View Analytics",description:"System performance and usage",icon:g.DKx,href:"/admin/analytics",color:"bg-orange-500",textColor:"text-orange-600"}],N=[{label:"Database",status:"healthy",value:"99.9%"},{label:"API Response",status:"healthy",value:"120ms"},{label:"Active Users",status:"healthy",value:(null==n?void 0:n.totalUsers)||0},{label:"System Load",status:"warning",value:"78%"}];return i?(0,a.jsx)("div",{className:"p-6 flex justify-center items-center min-h-96",children:(0,a.jsx)(j.Z,{size:"lg"})}):(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening with your school management system."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("select",{value:t,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.Bw1,onClick:c,children:"Refresh"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null==n?void 0:n.totalUsers)||0}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"+12%"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.WY8,{className:"w-6 h-6 text-blue-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Students"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null==n?void 0:n.totalStudents)||0}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"+8%"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.hbr,{className:"w-6 h-6 text-green-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Teachers"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(null==n?void 0:n.totalTeachers)||0}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-green-600",children:"+3%"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.WY8,{className:"w-6 h-6 text-purple-600"})})]})}),(0,a.jsx)(m.Z,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:"24"}),(0,a.jsxs)("div",{className:"flex items-center mt-2",children:[(0,a.jsx)(g.bAx,{className:"w-4 h-4 text-blue-500 mr-1"}),(0,a.jsx)("span",{className:"text-sm text-blue-600",children:"Live"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"right now"})]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(g.bAx,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,a.jsx)(g._rq,{className:"w-4 h-4 mr-1"}),"All Systems Operational"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:N.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.label}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.value}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("healthy"===e.status?"bg-green-500":"warning"===e.status?"bg-yellow-500":"bg-red-500")})]})]},s))})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.OvN,children:"Add New"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:y.map((e,s)=>{let t=e.icon;return(0,a.jsxs)(d(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat(e.color," rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform"),children:(0,a.jsx)(t,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[(0,a.jsx)("span",{children:"Go to"}),(0,a.jsx)(g.Rgz,{className:"w-4 h-4 ml-1"})]})]},s)})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Users"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",href:"/admin/users",children:"View All"})]}),p?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(0,a.jsx)("div",{className:"space-y-4",children:null==u?void 0:null===(e=u.users)||void 0===e?void 0:e.slice(0,5).map((e,s)=>{var t,l;return(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[null===(t=e.first_name)||void 0===t?void 0:t[0],null===(l=e.last_name)||void 0===l?void 0:l[0]]})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.email})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("admin"===e.role?"bg-red-100 text-red-800":"teacher"===e.role?"bg-blue-100 text-blue-800":"student"===e.role?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.role}),(0,a.jsx)(g.TCC,{className:"w-4 h-4 text-gray-400"})]})]},s)})})]}),(0,a.jsxs)(m.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"}),(0,a.jsx)(h.Z,{variant:"outline",size:"sm",children:"Manage"})]}),f?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(j.Z,{})}):(0,a.jsx)("div",{className:"space-y-4",children:(null==v?void 0:null===(s=v.data)||void 0===s?void 0:s.length)>0?v.data.map((e,s)=>{let t="check-circle"===e.icon?g._rq:"alert-circle"===e.icon?g.bcx:g.bAx,l="success"===e.type?"text-green-500":"error"===e.type?"text-red-500":"warning"===e.type?"text-yellow-500":"text-blue-500";return(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(t,{className:"w-5 h-5 ".concat(l," mt-0.5")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),e.message&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]})]},e.id||s)}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g._rq,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No recent system alerts"})]})})]})]})]})},dashboard=()=>{let{user:e,isAuthenticated:s,isLoading:t}=(0,r.a)();return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"spinner"})}):s?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(()=>{switch(null==e?void 0:e.role){case"student":return(0,a.jsx)(student_StudentDashboard,{});case"teacher":return(0,a.jsx)(teacher_TeacherDashboard,{});case"hod":return(0,a.jsx)(hod_EnhancedHodDashboard,{});case"finance":return(0,a.jsx)(finance_FinanceDashboard,{});case"admin":return(0,a.jsx)(admin_AdminDashboard,{});default:return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"card-title",children:"Welcome to SMIS"}),(0,a.jsxs)("p",{className:"text-gray-600 mt-2",children:["Your role (",null==e?void 0:e.role,") dashboard is being prepared."]})]})})}})()})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Please log in to access the dashboard."}),(0,a.jsx)("a",{href:"/login",className:"btn btn-primary",children:"Go to Login"})]})})}},5122:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(7014),h=t(9180),u=t(5822),j=t(9175),g=t(4549),p=t(7219);s.default=()=>{var e,s,t,v;let{user:f}=(0,r.a)(),[y,N]=(0,l.useState)(""),[b,w]=(0,l.useState)("all"),[C,Z]=(0,l.useState)("all"),[S,D]=(0,l.useState)(null),{data:A,loading:k,error:_,refetch:T}=(0,n.h)(()=>i.sz.getAllFees({search:y,status:b,feeType:C}),[y,b,C]),{loading:F,execute:R}=(0,n.c)();if(!f||"finance"!==f.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(j.Z,{variant:"error",children:"Access denied. Finance access required."})});let P=(null==A?void 0:A.fees)||[],H=(null==A?void 0:A.stats)||{},handleEditFee=e=>{alert("Edit fee ".concat(e," functionality would be implemented here"))},handleViewDetails=e=>{alert("View fee ".concat(e," details functionality would be implemented here"))},handleSendReminder=async(e,s)=>{try{await R(()=>i.sz.sendPaymentReminder({studentId:e,feeId:s})),D({type:"success",text:"Payment reminder sent successfully!"}),setTimeout(()=>D(null),5e3)}catch(e){var t,a;D({type:"error",text:(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to send reminder"})}},getStatusBadgeVariant=(e,s)=>"paid"===e?"success":"partial"===e?"warning":"unpaid"===e&&new Date(s)<new Date?"danger":"warning",getStatusText=(e,s)=>"paid"===e?"Paid":"partial"===e?"Partial":"unpaid"===e&&new Date(s)<new Date?"Overdue":"Pending";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Fee Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage student fees and payment tracking"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(h.Z,{variant:"outline",icon:p._hL,children:"Export Report"}),(0,a.jsx)(h.Z,{variant:"primary",icon:p.OvN,onClick:()=>{alert("Create fee functionality would be implemented here")},children:"Create Fee"})]})]}),S&&(0,a.jsx)(j.Z,{variant:S.type,dismissible:!0,onDismiss:()=>D(null),children:S.text}),k?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(g.Z,{size:"lg"})}):_?(0,a.jsxs)(j.Z,{variant:"error",children:["Failed to load fees: ",_]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.oQC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(e=H.totalRevenue)||void 0===e?void 0:e.toLocaleString())||"0"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.XiQ,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Collected"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(s=H.collectedAmount)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[H.collectionRate?"".concat(H.collectionRate.toFixed(1),"%"):"0%"," rate"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.oQC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(t=H.outstandingAmount)||void 0===t?void 0:t.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[H.outstandingCount||0," students"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.oQC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(v=H.overdueAmount)||void 0===v?void 0:v.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[H.overdueCount||0," fees"]})]})]})})]}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{label:"Search",placeholder:"Search by student name or ID...",value:y,onChange:e=>N(e.target.value),icon:p.jRj})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsx)("select",{value:b,onChange:e=>w(e.target.value),className:"form-select",children:[{value:"all",label:"All Status"},{value:"paid",label:"Paid"},{value:"unpaid",label:"Unpaid"},{value:"overdue",label:"Overdue"},{value:"partial",label:"Partial Payment"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fee Type"}),(0,a.jsx)("select",{value:C,onChange:e=>Z(e.target.value),className:"form-select",children:[{value:"all",label:"All Types"},{value:"tuition",label:"Tuition"},{value:"library",label:"Library"},{value:"lab",label:"Laboratory"},{value:"hostel",label:"Hostel"},{value:"transport",label:"Transport"},{value:"exam",label:"Examination"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(h.Z,{variant:"outline",onClick:T,className:"w-full",children:"Refresh"})})]})}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Fee Records"})}),P.length>0?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Student"}),(0,a.jsx)(o.Z.Head,{children:"Fee Type"}),(0,a.jsx)(o.Z.Head,{children:"Amount"}),(0,a.jsx)(o.Z.Head,{children:"Due Date"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Paid Amount"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:P.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.student_name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.student_id]})]}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.fee_type}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.amount).toFixed(2)]})}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"text-gray-900",children:new Date(e.due_date).toLocaleDateString()}),new Date(e.due_date)<new Date&&"unpaid"===e.status&&(0,a.jsxs)("div",{className:"text-xs text-red-600",children:[Math.ceil((new Date-new Date(e.due_date))/864e5)," days overdue"]})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:getStatusBadgeVariant(e.status,e.due_date),children:getStatusText(e.status,e.due_date)})}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:["$",parseFloat(e.paid_amount||0).toFixed(2)]}),"partial"===e.status&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["$",(parseFloat(e.amount)-parseFloat(e.paid_amount||0)).toFixed(2)," remaining"]})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:p.rDJ,onClick:()=>handleViewDetails(e.id),children:"View"}),(0,a.jsx)(h.Z,{variant:"primary",size:"sm",icon:p.vPQ,onClick:()=>handleEditFee(e.id),children:"Edit"}),"paid"!==e.status&&(0,a.jsx)(h.Z,{variant:"warning",size:"sm",onClick:()=>handleSendReminder(e.student_id,e.id),loading:F,children:"Remind"})]})})]},s))})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(p.oQC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Fees Found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No fees match the current filters. Try adjusting your search criteria."})]})]})]})]})})]})]})}},3601:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(7014),h=t(9180),u=t(5822),j=t(9175),g=t(4549),p=t(7219);s.default=()=>{var e,s,t,v;let{user:f}=(0,r.a)(),[y,N]=(0,l.useState)(""),[b,w]=(0,l.useState)("all"),[C,Z]=(0,l.useState)("all"),[S,D]=(0,l.useState)({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[A,k]=(0,l.useState)(null),{data:_,loading:T,error:F,refetch:R}=(0,n.h)(()=>i.sz.getPayments({search:y,status:b,method:C,...S}),[y,b,C,S]),{loading:P,execute:H}=(0,n.c)();if(!f||"finance"!==f.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(j.Z,{variant:"error",children:"Access denied. Finance access required."})});let G=(null==_?void 0:_.payments)||[],I=(null==_?void 0:_.stats)||{},handleDateChange=(e,s)=>{D(t=>({...t,[e]:s}))},handleViewReceipt=e=>{alert("View receipt for payment ".concat(e," functionality would be implemented here"))},handleRefundPayment=async e=>{try{await H(()=>i.sz.refundPayment(e)),k({type:"success",text:"Payment refund initiated successfully!"}),R(),setTimeout(()=>k(null),5e3)}catch(e){var s,t;k({type:"error",text:(null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to initiate refund"})}},handleVerifyPayment=async e=>{try{await H(()=>i.sz.verifyPayment(e)),k({type:"success",text:"Payment verified successfully!"}),R(),setTimeout(()=>k(null),5e3)}catch(e){var s,t;k({type:"error",text:(null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to verify payment"})}},getStatusBadgeVariant=e=>{switch(e){case"completed":return"success";case"pending":return"warning";case"failed":return"danger";default:return"default"}},getMethodBadgeVariant=e=>{switch(e){case"cash":return"success";case"card":case"online":return"primary";case"bank_transfer":return"warning";default:return"default"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track and manage all payment transactions"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(h.Z,{variant:"outline",icon:p._hL,children:"Export Report"}),(0,a.jsx)(h.Z,{variant:"outline",icon:p.Bw1,onClick:R,children:"Refresh"})]})]}),A&&(0,a.jsx)(j.Z,{variant:A.type,dismissible:!0,onDismiss:()=>k(null),children:A.text}),T?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(g.Z,{size:"lg"})}):F?(0,a.jsxs)(j.Z,{variant:"error",children:["Failed to load payments: ",F]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.oQC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Payments"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(e=I.totalAmount)||void 0===e?void 0:e.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[I.totalCount||0," transactions"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.XiQ,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(s=I.completedAmount)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[I.completedCount||0," payments"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.vlc,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(t=I.pendingAmount)||void 0===t?void 0:t.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[I.pendingCount||0," payments"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(p.Bw1,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Failed/Refunded"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(v=I.failedAmount)||void 0===v?void 0:v.toLocaleString())||"0"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[I.failedCount||0," payments"]})]})]})})]}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{label:"Search",placeholder:"Search by student or transaction ID...",value:y,onChange:e=>N(e.target.value),icon:p.jRj})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsx)("select",{value:b,onChange:e=>w(e.target.value),className:"form-select",children:[{value:"all",label:"All Status"},{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"failed",label:"Failed"},{value:"refunded",label:"Refunded"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),(0,a.jsx)("select",{value:C,onChange:e=>Z(e.target.value),className:"form-select",children:[{value:"all",label:"All Methods"},{value:"cash",label:"Cash"},{value:"card",label:"Credit/Debit Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"online",label:"Online Payment"},{value:"cheque",label:"Cheque"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:S.startDate,onChange:e=>handleDateChange("startDate",e.target.value),className:"form-input"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:S.endDate,onChange:e=>handleDateChange("endDate",e.target.value),className:"form-input"})]})]})}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Payment Transactions"})}),G.length>0?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Transaction ID"}),(0,a.jsx)(o.Z.Head,{children:"Student"}),(0,a.jsx)(o.Z.Head,{children:"Fee Type"}),(0,a.jsx)(o.Z.Head,{children:"Amount"}),(0,a.jsx)(o.Z.Head,{children:"Method"}),(0,a.jsx)(o.Z.Head,{children:"Date"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:G.map((e,s)=>{var t;return(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.transaction_id})}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.student_name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.student_id]})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.fee_type})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.amount).toFixed(2)]})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:getMethodBadgeVariant(e.payment_method),children:null===(t=e.payment_method)||void 0===t?void 0:t.replace("_"," ")})}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"text-gray-900",children:new Date(e.payment_date).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.payment_date).toLocaleTimeString()})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:getStatusBadgeVariant(e.status),children:e.status})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:p.rDJ,onClick:()=>handleViewReceipt(e.id),children:"Receipt"}),"pending"===e.status&&(0,a.jsx)(h.Z,{variant:"success",size:"sm",onClick:()=>handleVerifyPayment(e.id),loading:P,children:"Verify"}),"completed"===e.status&&(0,a.jsx)(h.Z,{variant:"warning",size:"sm",onClick:()=>handleRefundPayment(e.id),loading:P,children:"Refund"})]})})]},s)})})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(p.XiQ,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payments Found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No payment transactions match the current filters."})]})]})]})]})})]})]})}},6939:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(9180),h=t(9175),u=t(4549),j=t(7219);s.default=()=>{var e,s,t,g,p,v,f,y,N,b;let{user:w}=(0,r.a)(),[C,Z]=(0,l.useState)("revenue"),[S,D]=(0,l.useState)("current_month"),[A,k]=(0,l.useState)({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),{data:_,loading:T,error:F,execute:R}=(0,n.h)(()=>i.sz.getFinancialReport({type:C,period:S,..."custom"===S?A:{}}),[]);if(l.useEffect(()=>{R()},[C,S,A,R]),!w||"finance"!==w.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(h.Z,{variant:"error",children:"Access denied. Finance access required."})});let P=[{value:"revenue",label:"Revenue Report",icon:j.oQC},{value:"collections",label:"Collections Report",icon:j.QqI},{value:"outstanding",label:"Outstanding Report",icon:j.DKx},{value:"fee_analysis",label:"Fee Analysis",icon:j.CFv}],handleDateChange=(e,s)=>{k(t=>({...t,[e]:s}))},formatCurrency=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),formatPercentage=e=>"".concat((e||0).toFixed(1),"%");return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Reports"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Generate and analyze financial reports and insights"})]}),(0,a.jsx)(m.Z,{variant:"primary",icon:j._hL,onClick:()=>{alert("Export report functionality would be implemented here")},children:"Export Report"})]}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Report Type"}),(0,a.jsx)("select",{value:C,onChange:e=>Z(e.target.value),className:"form-select",children:P.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),(0,a.jsx)("select",{value:S,onChange:e=>D(e.target.value),className:"form-select",children:[{value:"current_month",label:"Current Month"},{value:"last_month",label:"Last Month"},{value:"current_quarter",label:"Current Quarter"},{value:"current_year",label:"Current Year"},{value:"last_year",label:"Last Year"},{value:"custom",label:"Custom Range"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),"custom"===S&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:A.startDate,onChange:e=>handleDateChange("startDate",e.target.value),className:"form-input"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:A.endDate,onChange:e=>handleDateChange("endDate",e.target.value),className:"form-input"})]})]})]})}),T?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(u.Z,{size:"lg"})}):F?(0,a.jsxs)(h.Z,{variant:"error",children:["Failed to load report: ",F]}):_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.oQC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency(null===(e=_.summary)||void 0===e?void 0:e.totalRevenue)}),(null===(s=_.summary)||void 0===s?void 0:s.revenueGrowth)&&(0,a.jsxs)("p",{className:"text-xs text-green-600",children:["+",formatPercentage(_.summary.revenueGrowth)," from last period"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.QqI,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Collections"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency(null===(t=_.summary)||void 0===t?void 0:t.totalCollections)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[formatPercentage(null===(g=_.summary)||void 0===g?void 0:g.collectionRate)," collection rate"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.DKx,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency(null===(p=_.summary)||void 0===p?void 0:p.totalOutstanding)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(v=_.summary)||void 0===v?void 0:v.outstandingCount)||0," students"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.vlc,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:formatCurrency(null===(f=_.summary)||void 0===f?void 0:f.totalOverdue)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(y=_.summary)||void 0===y?void 0:y.overdueCount)||0," fees"]})]})]})})]}),"revenue"===C&&_.revenueBreakdown&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Revenue Breakdown by Fee Type"})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Fee Type"}),(0,a.jsx)(o.Z.Head,{children:"Total Amount"}),(0,a.jsx)(o.Z.Head,{children:"Collected"}),(0,a.jsx)(o.Z.Head,{children:"Outstanding"}),(0,a.jsx)(o.Z.Head,{children:"Collection Rate"})]})}),(0,a.jsx)(o.Z.Body,{children:_.revenueBreakdown.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.feeType})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-semibold",children:formatCurrency(e.totalAmount)})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-green-600 font-medium",children:formatCurrency(e.collectedAmount)})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-orange-600 font-medium",children:formatCurrency(e.outstandingAmount)})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:formatPercentage(e.collectionRate)})})]},s))})]})]}),"collections"===C&&_.dailyCollections&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Daily Collections Trend"})}),(0,a.jsx)("div",{className:"space-y-4",children:_.dailyCollections.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.transactionCount," transactions"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:formatCurrency(e.amount)}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:null===(t=e.paymentMethods)||void 0===t?void 0:t.join(", ")})]})]},s)})})]}),"outstanding"===C&&_.outstandingDetails&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Outstanding Fees by Student"})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Student"}),(0,a.jsx)(o.Z.Head,{children:"Total Outstanding"}),(0,a.jsx)(o.Z.Head,{children:"Overdue Amount"}),(0,a.jsx)(o.Z.Head,{children:"Days Overdue"}),(0,a.jsx)(o.Z.Head,{children:"Fee Types"})]})}),(0,a.jsx)(o.Z.Body,{children:_.outstandingDetails.map((e,s)=>{var t;return(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.studentName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.studentId]})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-semibold text-orange-600",children:formatCurrency(e.totalOutstanding)})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-semibold text-red-600",children:formatCurrency(e.overdueAmount)})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("span",{className:"text-gray-900",children:[e.maxDaysOverdue||0," days"]})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("div",{className:"text-sm text-gray-600",children:null===(t=e.feeTypes)||void 0===t?void 0:t.join(", ")})})]},s)})})]})]}),"fee_analysis"===C&&_.feeAnalysis&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Fee Type Performance"})}),(0,a.jsx)("div",{className:"space-y-4",children:null===(N=_.feeAnalysis.feeTypePerformance)||void 0===N?void 0:N.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.feeType}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.studentCount," students"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-900",children:formatCurrency(e.totalAmount)}),(0,a.jsxs)("div",{className:"text-sm text-green-600",children:[formatPercentage(e.collectionRate)," collected"]})]})]},s))})]}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Payment Method Analysis"})}),(0,a.jsx)("div",{className:"space-y-4",children:null===(b=_.feeAnalysis.paymentMethodBreakdown)||void 0===b?void 0:b.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:null===(t=e.paymentMethod)||void 0===t?void 0:t.replace("_"," ")}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.transactionCount," transactions"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-semibold text-gray-900",children:formatCurrency(e.totalAmount)}),(0,a.jsxs)("div",{className:"text-sm text-blue-600",children:[formatPercentage(e.percentage)," of total"]})]})]},s)})})]})]})]}):(0,a.jsxs)(x.Z,{className:"text-center py-12",children:[(0,a.jsx)(j.DKx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Report Data"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Select a report type and period to generate financial reports."})]})]})})]})]})}},9353:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(7014),h=t(9175),u=t(4549),j=t(7219);s.default=()=>{var e;let{user:s}=(0,r.a)(),[t,g]=(0,l.useState)("current_semester"),[p,v]=(0,l.useState)("overview"),{data:f,loading:y,error:N,execute:b}=(0,n.h)(()=>i.pW.getDepartmentAnalytics({period:t}),[]);if(l.useEffect(()=>{b()},[t,b]),!s||"hod"!==s.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(h.Z,{variant:"error",children:"Access denied. HOD access required."})});let w=[{id:"overview",label:"Overview",icon:j.DKx},{id:"teachers",label:"Teacher Performance",icon:j.WY8},{id:"courses",label:"Course Analytics",icon:j.yK7},{id:"students",label:"Student Outcomes",icon:j.HR2}],getTrendIcon=e=>e>0?j.QqI:e<0?j.ZBs:j.DKx,getTrendColor=e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Department Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Comprehensive insights into departmental performance"})]}),(0,a.jsx)("select",{value:t,onChange:e=>g(e.target.value),className:"form-select w-auto",children:[{value:"current_semester",label:"Current Semester"},{value:"last_semester",label:"Last Semester"},{value:"academic_year",label:"Academic Year"},{value:"last_year",label:"Last Year"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),y?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(u.Z,{size:"lg"})}):N?(0,a.jsxs)(h.Z,{variant:"error",children:["Failed to load analytics: ",N]}):f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.totalStudents||0})]})]}),f.studentTrend&&(0,a.jsxs)("div",{className:"flex items-center ".concat(getTrendColor(f.studentTrend)),children:[l.createElement(getTrendIcon(f.studentTrend),{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.studentTrend),"%"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.QqI,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg GPA"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.averageGPA?f.averageGPA.toFixed(2):"N/A"})]})]}),f.gpaTrend&&(0,a.jsxs)("div",{className:"flex items-center ".concat(getTrendColor(f.gpaTrend)),children:[l.createElement(getTrendIcon(f.gpaTrend),{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.gpaTrend).toFixed(1),"%"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.vlc,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.attendanceRate?"".concat(f.attendanceRate.toFixed(1),"%"):"N/A"})]})]}),f.attendanceTrend&&(0,a.jsxs)("div",{className:"flex items-center ".concat(getTrendColor(f.attendanceTrend)),children:[l.createElement(getTrendIcon(f.attendanceTrend),{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.attendanceTrend).toFixed(1),"%"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.yK7,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Course Completion"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.completionRate?"".concat(f.completionRate.toFixed(1),"%"):"N/A"})]})]}),f.completionTrend&&(0,a.jsxs)("div",{className:"flex items-center ".concat(getTrendColor(f.completionTrend)),children:[l.createElement(getTrendIcon(f.completionTrend),{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.completionTrend).toFixed(1),"%"]})]})]})})]}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:w.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>v(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(p===e.id?"border-primary-blue text-primary-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===p&&(0,a.jsxs)("div",{className:"space-y-6",children:[f.gradeDistribution&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Grade Distribution"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.entries(f.gradeDistribution).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:t}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[s," Grade"]})]},s)})})]}),f.departmentComparison&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Department Comparison"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"University Average GPA"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:(null===(e=f.departmentComparison.universityAvgGPA)||void 0===e?void 0:e.toFixed(2))||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Department Rank"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:["#",f.departmentComparison.rank||"N/A"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-purple-600 font-medium",children:"Performance Score"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:f.departmentComparison.performanceScore||"N/A"})]})]})]})]}),"teachers"===p&&f.teacherPerformance&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Teacher Performance Analysis"}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Teacher"}),(0,a.jsx)(o.Z.Head,{children:"Classes"}),(0,a.jsx)(o.Z.Head,{children:"Students"}),(0,a.jsx)(o.Z.Head,{children:"Avg Class GPA"}),(0,a.jsx)(o.Z.Head,{children:"Attendance Rate"}),(0,a.jsx)(o.Z.Head,{children:"Performance"})]})}),(0,a.jsx)(o.Z.Body,{children:f.teacherPerformance.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.employeeId})]}),(0,a.jsx)(o.Z.Cell,{children:e.classCount}),(0,a.jsx)(o.Z.Cell,{children:e.studentCount}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.avgGPA?e.avgGPA.toFixed(2):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.attendanceRate?"".concat(e.attendanceRate.toFixed(1),"%"):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"excellent"===e.performance?"success":"good"===e.performance?"primary":"average"===e.performance?"warning":"danger",children:e.performance})})]},s))})]})]}),"courses"===p&&f.courseAnalytics&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Course Performance Analysis"}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Course"}),(0,a.jsx)(o.Z.Head,{children:"Enrolled"}),(0,a.jsx)(o.Z.Head,{children:"Completion Rate"}),(0,a.jsx)(o.Z.Head,{children:"Avg Grade"}),(0,a.jsx)(o.Z.Head,{children:"Satisfaction"}),(0,a.jsx)(o.Z.Head,{children:"Status"})]})}),(0,a.jsx)(o.Z.Body,{children:f.courseAnalytics.map((e,s)=>{var t;return(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.code})]}),(0,a.jsx)(o.Z.Cell,{children:e.enrolledCount}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.completionRate?"".concat(e.completionRate.toFixed(1),"%"):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.avgGrade||"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.satisfaction?"".concat(e.satisfaction.toFixed(1),"%"):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"excellent"===e.status?"success":"good"===e.status?"primary":"needs_improvement"===e.status?"warning":"danger",children:null===(t=e.status)||void 0===t?void 0:t.replace("_"," ")})})]},s)})})]})]}),"students"===p&&f.studentOutcomes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Student Outcome Analysis"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Academic Performance"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Students with GPA ≥ 3.5"}),(0,a.jsx)("span",{className:"font-medium",children:f.studentOutcomes.highPerformers||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Students at Risk (GPA < 2.0)"}),(0,a.jsx)("span",{className:"font-medium text-red-600",children:f.studentOutcomes.atRisk||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Graduation Rate"}),(0,a.jsx)("span",{className:"font-medium",children:f.studentOutcomes.graduationRate?"".concat(f.studentOutcomes.graduationRate.toFixed(1),"%"):"N/A"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Engagement Metrics"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Average Attendance"}),(0,a.jsx)("span",{className:"font-medium",children:f.studentOutcomes.avgAttendance?"".concat(f.studentOutcomes.avgAttendance.toFixed(1),"%"):"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Course Satisfaction"}),(0,a.jsx)("span",{className:"font-medium",children:f.studentOutcomes.satisfaction?"".concat(f.studentOutcomes.satisfaction.toFixed(1),"%"):"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Retention Rate"}),(0,a.jsx)("span",{className:"font-medium",children:f.studentOutcomes.retentionRate?"".concat(f.studentOutcomes.retentionRate.toFixed(1),"%"):"N/A"})]})]})]})]})]})]})]})]}):(0,a.jsxs)(x.Z,{className:"text-center py-12",children:[(0,a.jsx)(j.DKx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Data"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Analytics data will appear here once sufficient departmental data is available."})]})]})})]})]})}},2307:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(9008),n=t.n(r),i=t(6761),c=t(3242),d=t(591),x=t(4082),o=t(2983),m=t(4105),h=t(6208);t(7014);var u=t(9175);s.default=()=>{let{user:e}=(0,i.a)(),[s,t]=(0,l.useState)(!1),[r,j]=(0,l.useState)(null),{loading:g,execute:p}=(0,c.c)(),handleApproval=async(e,s)=>{try{await p(()=>d.pW.approveActivity({activityType:"grade",activityId:e,approve:s})),j({type:"success",text:"Request ".concat(s?"approved":"rejected"," successfully!")}),setTimeout(()=>j(null),5e3)}catch(e){j({type:"error",text:"Error processing approval. Please try again."}),setTimeout(()=>j(null),5e3)}};return e&&"hod"===e.role?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"Approvals - HOD Dashboard"})}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(x.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(o.default,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Approvals"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Review and approve department activities and requests"})]}),(0,a.jsx)("button",{onClick:()=>{t(!0),setTimeout(()=>t(!1),1e3)},disabled:s,className:"px-3 py-1.5 text-sm border border-gray-300 bg-white text-gray-700 rounded hover:bg-gray-50 disabled:opacity-50",children:"Refresh"})]}),r&&(0,a.jsx)(u.Z,{variant:"success"===r.type?"success":"error",dismissible:!0,onDismiss:()=>j(null),children:r.text}),(0,a.jsxs)(m.Z,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Approvals"})}),(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(h.Z.Header,{children:(0,a.jsxs)(h.Z.Row,{children:[(0,a.jsx)(h.Z.Head,{children:"Request"}),(0,a.jsx)(h.Z.Head,{children:"Teacher"}),(0,a.jsx)(h.Z.Head,{children:"Details"}),(0,a.jsx)(h.Z.Head,{children:"Status"}),(0,a.jsx)(h.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(h.Z.Body,{children:[{id:1,type:"grade",title:"Grade Entry - CS101",description:"Grade submission for Computer Science 101 - Final Exam",teacher:"Dr. John Smith",student:"Alice Johnson",grade:"A",submitted_at:"2024-01-15T10:30:00Z",status:"pending"},{id:2,type:"grade",title:"Grade Entry - MATH201",description:"Grade submission for Mathematics 201 - Midterm Exam",teacher:"Prof. Jane Doe",student:"Bob Wilson",grade:"B+",submitted_at:"2024-01-14T14:20:00Z",status:"pending"}].map(e=>(0,a.jsxs)(h.Z.Row,{children:[(0,a.jsx)(h.Z.Cell,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})}),(0,a.jsx)(h.Z.Cell,{children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.teacher})}),(0,a.jsx)(h.Z.Cell,{children:(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:["Student: ",e.student,(0,a.jsx)("br",{}),"Grade: ",(0,a.jsx)("strong",{children:e.grade})]})}),(0,a.jsx)(h.Z.Cell,{children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pending"})}),(0,a.jsx)(h.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>handleApproval(e.id,!0),disabled:g,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:"Approve"}),(0,a.jsx)("button",{onClick:()=>handleApproval(e.id,!1),disabled:g,className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:"Reject"})]})})]},e.id))})]})]})]})})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(u.Z,{variant:"error",children:"Access denied. HOD access required."})})}},8116:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(7014),h=t(9180),u=t(9175),j=t(4549),g=t(7219);s.default=()=>{var e;let{user:s}=(0,r.a)(),[t,p]=(0,l.useState)("overview"),{data:v,loading:f,error:y}=(0,n.h)(i.pW.getDepartmentOverview);if(!s||"hod"!==s.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(u.Z,{variant:"error",children:"Access denied. HOD access required."})});let N=null==v?void 0:v.department,b=null==v?void 0:v.stats,w=(null==v?void 0:v.teachers)||[],C=(null==v?void 0:v.courses)||[],Z=(null==v?void 0:v.students)||[],S=[{id:"overview",label:"Overview",icon:g.QqI},{id:"teachers",label:"Teachers",icon:g.WY8},{id:"courses",label:"Courses",icon:g.yK7},{id:"students",label:"Students",icon:g.WY8}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Department Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:N?"".concat(N.name," Department"):"Manage your department"})]}),(0,a.jsx)(h.Z,{variant:"primary",icon:g.OvN,children:"Add New Course"})]}),f?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(j.Z,{size:"lg"})}):y?(0,a.jsxs)(u.Z,{variant:"error",children:["Failed to load department data: ",y]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==b?void 0:b.totalTeachers)||0})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.yK7,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Courses"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==b?void 0:b.totalCourses)||0})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Enrolled Students"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==b?void 0:b.totalStudents)||0})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.QqI,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg Performance"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==b?void 0:b.averageGPA)?b.averageGPA.toFixed(2):"N/A"})]})]})})]}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:S.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>p(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(t===e.id?"border-primary-blue text-primary-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===t&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activities"}),(0,a.jsx)("div",{className:"space-y-3",children:(null==b?void 0:null===(e=b.recentActivities)||void 0===e?void 0:e.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-blue rounded-full flex items-center justify-center",children:(0,a.jsx)(g.vlc,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.time})]})]},s)))||(0,a.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No recent activities"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Student Satisfaction"}),(0,a.jsx)("span",{className:"font-medium",children:"85%"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"85%"}})}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Course Completion Rate"}),(0,a.jsx)("span",{className:"font-medium",children:"92%"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"92%"}})}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Average Attendance"}),(0,a.jsx)("span",{className:"font-medium",children:"88%"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"88%"}})})]})]})]})}),"teachers"===t&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Department Teachers"}),(0,a.jsx)(h.Z,{variant:"primary",size:"sm",icon:g.OvN,children:"Add Teacher"})]}),w.length>0?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Name"}),(0,a.jsx)(o.Z.Head,{children:"Employee ID"}),(0,a.jsx)(o.Z.Head,{children:"Specialization"}),(0,a.jsx)(o.Z.Head,{children:"Classes"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:w.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.employee_id})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.specialization})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.class_count||0})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"active"===e.status?"success":"danger",children:e.status})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.rDJ,children:"View"}),(0,a.jsx)(h.Z,{variant:"primary",size:"sm",icon:g.vPQ,children:"Edit"})]})})]},s))})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No teachers found in this department."})]})]}),"courses"===t&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Department Courses"}),(0,a.jsx)(h.Z,{variant:"primary",size:"sm",icon:g.OvN,children:"Add Course"})]}),C.length>0?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Course Name"}),(0,a.jsx)(o.Z.Head,{children:"Code"}),(0,a.jsx)(o.Z.Head,{children:"Credits"}),(0,a.jsx)(o.Z.Head,{children:"Instructor"}),(0,a.jsx)(o.Z.Head,{children:"Enrolled"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:C.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.course_code})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.credits})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.instructor_name})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.enrolled_count||0})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"active"===e.status?"success":"warning",children:e.status})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.rDJ,children:"View"}),(0,a.jsx)(h.Z,{variant:"primary",size:"sm",icon:g.vPQ,children:"Edit"})]})})]},s))})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No courses found in this department."})]})]}),"students"===t&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Department Students"}),Z.length>0?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Student ID"}),(0,a.jsx)(o.Z.Head,{children:"Name"}),(0,a.jsx)(o.Z.Head,{children:"Year"}),(0,a.jsx)(o.Z.Head,{children:"GPA"}),(0,a.jsx)(o.Z.Head,{children:"Courses"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:Z.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.id})}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.enrollment_year})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.gpa?e.gpa.toFixed(2):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.course_count||0})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"active"===e.status?"success":"warning",children:e.status})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.rDJ,children:"View Profile"})})]},s))})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No students found in this department."})]})]})]})]})]})]})})]})]})}},2749:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(9008),n=t.n(r),i=t(1664),c=t.n(i),d=t(1163),x=t(6761),o=t(7219);t(9180),t(5822);var m=t(9175);s.default=()=>{let[e,s]=(0,l.useState)({email:"",password:"",userType:"staff"}),[t,r]=(0,l.useState)(!1),[i,h]=(0,l.useState)(!1),{login:u,isAuthenticated:j,error:g,clearError:p}=(0,x.a)(),v=(0,d.useRouter)();(0,l.useEffect)(()=>{j&&v.push("/dashboard")},[j,v]),(0,l.useEffect)(()=>{if(g){let e=setTimeout(()=>{p()},5e3);return()=>clearTimeout(e)}},[g,p]);let handleChange=e=>{let{name:t,value:a}=e.target;s(e=>({...e,[t]:a}))},handleSubmit=async s=>{s.preventDefault(),h(!0);try{let s=await u({email:e.email,password:e.password},"student"===e.userType);s.success&&v.push("/dashboard")}catch(e){}finally{h(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Sign In - SMIS"}),(0,a.jsx)("meta",{name:"description",content:"Sign in to your SMIS account to access the school management system"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsxs)("div",{className:"min-h-screen flex",children:[(0,a.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-primary-blue relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,a.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 border-2 border-white rounded-full"}),(0,a.jsx)("div",{className:"absolute top-40 right-20 w-24 h-24 border-2 border-white rounded-full"}),(0,a.jsx)("div",{className:"absolute bottom-32 left-20 w-40 h-40 border-2 border-white rounded-full"}),(0,a.jsx)("div",{className:"absolute bottom-20 right-10 w-28 h-28 border-2 border-white rounded-full"})]}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Hello! \uD83D\uDC4B"}),(0,a.jsx)("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Streamline your school operations with our comprehensive management system. Get highly productive through automation and save tons of time!"}),(0,a.jsxs)("div",{className:"space-y-3 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-blue-100",children:"Student & Staff Management"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-blue-100",children:"Academic Calendar & Timetables"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-blue-100",children:"Real-time Analytics & Reports"})]})]}),(0,a.jsx)("div",{className:"text-blue-200 text-sm",children:"\xa9 2025 School Management Information System. All rights reserved."})]})]}),(0,a.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"lg:hidden text-center mb-8",children:[(0,a.jsxs)(c(),{href:"/",className:"inline-flex items-center text-primary-blue hover:text-primary-light mb-4",children:[(0,a.jsx)(o.Ao2,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"SMIS"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back!"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-8",children:["Don't have an account?"," ",(0,a.jsx)(c(),{href:"/register",className:"text-primary-light hover:text-primary-blue underline",children:"Create a new account now"}),", it's FREE! Takes less than a minute."]}),(0,a.jsxs)("div",{className:"space-y-6",children:[g&&(0,a.jsxs)(m.Z,{variant:"error",className:"mb-6",children:[(0,a.jsx)(o.bcx,{className:"w-5 h-5 mr-2"}),g]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Login as"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("label",{className:"relative flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ".concat("staff"===e.userType?"border-primary-blue bg-blue-50 text-primary-blue":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)("input",{type:"radio",name:"userType",value:"staff",checked:"staff"===e.userType,onChange:handleChange,className:"sr-only"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-medium",children:"Staff"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Teachers & Admin"})]})]}),(0,a.jsxs)("label",{className:"relative flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ".concat("student"===e.userType?"border-primary-blue bg-blue-50 text-primary-blue":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)("input",{type:"radio",name:"userType",value:"student",checked:"student"===e.userType,onChange:handleChange,className:"sr-only"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-medium",children:"Student"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Student Portal"})]})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("input",{name:"email",type:"email",required:!0,value:e.email,onChange:handleChange,className:"w-full py-3 border-0 border-b-2 border-gray-300 focus:border-primary-blue focus:outline-none focus:ring-0 bg-transparent text-gray-900 placeholder-gray-500",placeholder:"Enter your email address"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:handleChange,className:"w-full py-3 border-0 border-b-2 border-gray-300 focus:border-primary-blue focus:outline-none focus:ring-0 bg-transparent text-gray-900 placeholder-gray-500 pr-10",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center",onClick:()=>r(!t),children:t?(0,a.jsx)(o.rzC,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(o.rDJ,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-gray-900 text-white py-3 px-4 rounded-md font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing In...":"Login Now"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("a",{href:"/forgot-password",className:"text-sm text-gray-600 hover:text-primary-blue underline",children:"Forget password? Click here"})})]})]})})]})]})}},7809:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(5152),n=t.n(r),i=t(6761),c=t(3242),d=t(591);let x=n()(()=>t.e(8592).then(t.bind(t,4082)),{loadableGenerated:{webpack:()=>[4082]},ssr:!1,loading:()=>(0,a.jsx)("header",{className:"bg-blue-600 text-white shadow-lg",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsx)("h1",{className:"text-xl font-bold",children:"SMIS - Loading..."})})})}),o=n()(()=>Promise.all([t.e(1216),t.e(8592)]).then(t.bind(t,2983)),{loadableGenerated:{webpack:()=>[2983]},ssr:!1,loading:()=>(0,a.jsx)("aside",{className:"w-64 bg-gray-800 text-white min-h-screen",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Loading..."})})})}),useFontAwesome=()=>{let[e,s]=(0,l.useState)(null);return(0,l.useEffect)(()=>{t.e(1216).then(t.bind(t,6170)).then(e=>{t.e(1216).then(t.bind(t,9417)).then(t=>{s({FontAwesomeIcon:e.FontAwesomeIcon,faChartBar:t.faChartBar,faCalendarAlt:t.faCalendarAlt,faCheck:t.faCheck,faClock:t.faClock,faTimes:t.faTimes,faCalendar:t.faCalendar})})}).catch(()=>{s({FontAwesomeIcon:e=>{let{icon:s,className:t}=e;return(0,a.jsx)("span",{className:t,children:{"chart-bar":"\uD83D\uDCCA","calendar-alt":"\uD83D\uDCC5",check:"✅",clock:"\uD83D\uDD50",times:"❌",calendar:"\uD83D\uDCC5"}[null==s?void 0:s.iconName]||"\uD83D\uDCCB"})},faChartBar:{iconName:"chart-bar"},faCalendarAlt:{iconName:"calendar-alt"},faCheck:{iconName:"check"},faClock:{iconName:"clock"},faTimes:{iconName:"times"},faCalendar:{iconName:"calendar"}})})},[]),e},Card=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 ".concat(t),children:s})},Alert=e=>{let{children:s,variant:t="info"}=e;return(0,a.jsx)("div",{className:"p-4 rounded ".concat({error:"bg-red-100 text-red-800 border border-red-200",info:"bg-blue-100 text-blue-800 border border-blue-200",success:"bg-green-100 text-green-800 border border-green-200"}[t]),children:s})},LoadingSpinner=()=>(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),Badge=e=>{let{children:s,variant:t="default"}=e;return(0,a.jsx)("span",{className:"px-2 py-1 rounded text-sm font-medium ".concat({success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",default:"bg-gray-100 text-gray-800"}[t]),children:s})};s.default=()=>{let{user:e}=(0,i.a)(),s=useFontAwesome(),[t,r]=(0,l.useState)({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),{data:n,loading:m,error:h,refetch:u}=(0,c.h)(()=>d.t7.getAttendance(t.startDate,t.endDate),[t]),j=l.useMemo(()=>{if(!n||0===n.length)return{total:0,present:0,absent:0,late:0,percentage:0};let e=n.length,s=n.filter(e=>"present"===e.status).length,t=n.filter(e=>"absent"===e.status).length,a=n.filter(e=>"late"===e.status).length,l=e>0?((s+a)/e*100).toFixed(1):0;return{total:e,present:s,absent:t,late:a,percentage:l}},[n]),handleDateChange=(e,s)=>{r(t=>({...t,[e]:s}))};return e?"student"!==e.role?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(Alert,{variant:"error",children:"Access denied. Student access required."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(x,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(o,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Record"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Track your class attendance and participation"})]}),(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:t.startDate,onChange:e=>handleDateChange("startDate",e.target.value),className:"form-input"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:t.endDate,onChange:e=>handleDateChange("endDate",e.target.value),className:"form-input"})]}),(0,a.jsx)("button",{onClick:u,className:"btn btn-primary",children:"Update"})]})}),m?(0,a.jsx)(Card,{className:"flex justify-center py-12",children:(0,a.jsx)(LoadingSpinner,{size:"lg"})}):h?(0,a.jsx)(Alert,{variant:"error",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Failed to load attendance:"})," ",h]}),(0,a.jsxs)("p",{className:"text-sm mt-2",children:["Debug info: User role: ",null==e?void 0:e.role,", User ID: ",null==e?void 0:e.id]}),(0,a.jsx)("button",{onClick:u,className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Retry"})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:s?(0,a.jsx)(s.FontAwesomeIcon,{icon:s.faChartBar,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDCCA"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[j.percentage,"%"]})]})]})}),(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-500 rounded-lg flex items-center justify-center mr-4",children:s?(0,a.jsx)(s.FontAwesomeIcon,{icon:s.faCalendarAlt,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDCC5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Classes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]})]})}),(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:s?(0,a.jsx)(s.FontAwesomeIcon,{icon:s.faCheck,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"✅"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Present"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.present})]})]})}),(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:s?(0,a.jsx)(s.FontAwesomeIcon,{icon:s.faClock,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDD50"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Late"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.late})]})]})}),(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:s?(0,a.jsx)(s.FontAwesomeIcon,{icon:s.faTimes,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"❌"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Absent"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.absent})]})]})})]}),(0,a.jsxs)(Card,{children:[(0,a.jsx)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Records"})}),n&&n.length>0?(0,a.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>{let l=function(e){if(!s)return()=>(0,a.jsx)("span",{children:"⏳"});let{FontAwesomeIcon:t,faCheck:l,faClock:r,faTimes:n,faCalendar:i}=s;switch(e){case"present":return()=>(0,a.jsx)(t,{icon:l,className:"text-green-600"});case"late":return()=>(0,a.jsx)(t,{icon:r,className:"text-yellow-600"});case"absent":return()=>(0,a.jsx)(t,{icon:n,className:"text-red-600"});default:return()=>(0,a.jsx)(t,{icon:i,className:"text-gray-600"})}}(e.status);return(0,a.jsxs)("tr",{className:"transition-colors hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.course_name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.course_code})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:"text-gray-900",children:e.teacher_name||"N/A"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l,{}),(0,a.jsx)(Badge,{variant:function(e){switch(e){case"present":return"success";case"late":return"warning";case"absent":return"danger";default:return"default"}}(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.marked_at?new Date(e.marked_at).toLocaleTimeString():"-"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.notes||"-"})})]},t)})})]})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[s?(0,a.jsx)(s.FontAwesomeIcon,{icon:s.faCalendar,className:"text-4xl mb-4 block text-gray-400"}):(0,a.jsx)("span",{className:"text-4xl mb-4 block",children:"\uD83D\uDCC5"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No attendance records found for the selected date range."})]})]})]})]})})]})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(Alert,{variant:"error",children:"Please log in to access attendance records."})})}},8063:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(7014),h=t(9180),u=t(9175),j=t(4549),g=t(7219);s.default=()=>{let{user:e}=(0,r.a)(),[s,t]=(0,l.useState)("all"),{data:p,loading:v,error:f}=(0,n.h)(i.t7.getFees);if(!e||"student"!==e.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(u.Z,{variant:"error",children:"Access denied. Student access required."})});let y=(null==p?void 0:p.fees)||[],N=(null==p?void 0:p.totalOutstanding)||0,b="all"===s?y:y.filter(e=>e.fee_type===s),w=[...new Set(y.map(e=>e.fee_type))],C=l.useMemo(()=>{let e=y.filter(e=>"paid"===e.status),s=y.filter(e=>"unpaid"===e.status),t=s.filter(e=>new Date(e.due_date)<new Date),a=e.reduce((e,s)=>e+parseFloat(s.amount),0),l=s.reduce((e,s)=>e+parseFloat(s.amount),0),r=t.reduce((e,s)=>e+parseFloat(s.amount),0);return{totalFees:y.length,paidCount:e.length,unpaidCount:s.length,overdueCount:t.length,totalPaid:a,totalUnpaid:l,totalOverdue:r}},[y]),handlePayment=e=>{alert("Payment functionality for fee ".concat(e," would be implemented here"))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Fee Management"}),(0,a.jsx)("p",{className:"text-gray-600",children:"View and manage your academic fees"})]}),v?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(j.Z,{size:"lg"})}):f?(0,a.jsxs)(u.Z,{variant:"error",children:["Failed to load fees: ",f]}):(0,a.jsxs)(a.Fragment,{children:[N>0&&(0,a.jsx)(u.Z,{variant:"warning",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.bcx,{className:"w-5 h-5 mr-2"}),(0,a.jsxs)("span",{children:["You have an outstanding balance of ",(0,a.jsxs)("strong",{children:["$",N.toFixed(2)]})]})]}),(0,a.jsx)(h.Z,{variant:"warning",size:"sm",children:"Pay Now"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.NOg,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Fees"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.totalFees})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g._rq,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",C.totalPaid.toFixed(0)]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[C.paidCount," fees"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.oQC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",C.totalUnpaid.toFixed(0)]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[C.unpaidCount," fees"]})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.bcx,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",C.totalOverdue.toFixed(0)]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[C.overdueCount," fees"]})]})]})})]}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(x.Z.Title,{children:"Fee Records"}),(0,a.jsxs)("select",{value:s,onChange:e=>t(e.target.value),className:"form-select w-auto",children:[(0,a.jsx)("option",{value:"all",children:"All Fee Types"}),w.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})}),b.length>0?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Fee Type"}),(0,a.jsx)(o.Z.Head,{children:"Amount"}),(0,a.jsx)(o.Z.Head,{children:"Due Date"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Paid Date"}),(0,a.jsx)(o.Z.Head,{children:"Payment Method"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:b.map((e,s)=>{var t,l,r,n;return(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.fee_type}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.amount).toFixed(2)]})}),(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"text-gray-900",children:new Date(e.due_date).toLocaleDateString()}),new Date(e.due_date)<new Date&&"unpaid"===e.status&&(0,a.jsxs)("div",{className:"text-xs text-red-600",children:[Math.ceil((new Date-new Date(e.due_date))/864e5)," days overdue"]})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:(t=e.status,l=e.due_date,"paid"===t?"success":"unpaid"===t&&new Date(l)<new Date?"danger":"warning"),children:(r=e.status,n=e.due_date,"paid"===r?"Paid":"unpaid"===r&&new Date(n)<new Date?"Overdue":"Pending")})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-600",children:e.paid_date?new Date(e.paid_date).toLocaleDateString():"-"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-600",children:e.payment_method||"-"})}),(0,a.jsx)(o.Z.Cell,{children:"unpaid"===e.status?(0,a.jsx)(h.Z,{variant:"primary",size:"sm",icon:g.XiQ,onClick:()=>handlePayment(e.id),children:"Pay Now"}):(0,a.jsx)(h.Z,{variant:"outline",size:"sm",icon:g.NOg,children:"Receipt"})})]},s)})})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(g.oQC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No fees found for the selected type."})]})]}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Payment Information"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Accepted Payment Methods"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• Credit/Debit Cards (Visa, MasterCard, American Express)"}),(0,a.jsx)("li",{children:"• Bank Transfer"}),(0,a.jsx)("li",{children:"• Online Banking"}),(0,a.jsx)("li",{children:"• Cash (at Finance Office)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Important Notes"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• Late payment fees may apply for overdue payments"}),(0,a.jsx)("li",{children:"• Keep payment receipts for your records"}),(0,a.jsx)("li",{children:"• Contact the Finance Office for payment plan options"}),(0,a.jsx)("li",{children:"• Payments may take 1-2 business days to reflect in your account"})]})]})]})]})]})]})})]})]})}},5825:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(4082),n=t(2983),i=t(4549),c=t(7219),d=t(591);s.default=()=>{let[e,s]=(0,l.useState)([]),[t,x]=(0,l.useState)(0),[o,m]=(0,l.useState)(!0),[h,u]=(0,l.useState)(null),[j,g]=(0,l.useState)("all"),[p,v]=(0,l.useState)("all"),[f,y]=(0,l.useState)("summary");(0,l.useEffect)(()=>{let fetchGrades=async()=>{try{m(!0),u(null);let e=await d.t7.getGrades();s(e.grades||[]),x(e.gpa||0)}catch(e){u(e.message||"Failed to load grades")}finally{m(!1)}};fetchGrades()},[]);let getGradeLetter=e=>e>=90?"A+":e>=85?"A":e>=80?"A-":e>=75?"B+":e>=70?"B":e>=65?"B-":e>=60?"C+":e>=55?"C":e>=50?"C-":e>=45?"D+":e>=40?"D":"F",getGradeColor=e=>e>=85?"text-green-600 bg-green-50":e>=70?"text-blue-600 bg-blue-50":e>=60?"text-yellow-600 bg-yellow-50":e>=50?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",calculatePercentage=(e,s)=>e&&s&&0!==s?Math.round(e/s*100):0,N=e.filter(e=>{let s="all"===j||e.semester===j,t="all"===p||e.course_name===p;return s&&t}),b=[...new Set(e.map(e=>e.semester))],w=[...new Set(e.map(e=>e.course_name))],calculateSemesterGPA=s=>{let t=e.filter(e=>e.semester===s);if(0===t.length)return 0;let a=t.reduce((e,s)=>{let t=calculatePercentage(s.score,s.max_score);return e+getGradePoints(t)},0);return(a/t.length).toFixed(2)},getGradePoints=e=>e>=90?4:e>=85?3.7:e>=80?3.3:e>=75?3:e>=70?2.7:e>=65?2.3:e>=60?2:e>=55?1.7:e>=50?1.3:e>=45?1:e>=40?.7:0;return o?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(i.Z,{size:"lg"})})})]})]}):h?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Grades"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,a.jsx)("p",{children:h})})]})]})})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("main",{className:"flex-1 p-6",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Grades"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Track your academic performance and progress"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(c._hL,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,a.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,a.jsx)("button",{onClick:()=>y("summary"),className:"px-4 py-2 text-sm font-medium rounded-l-md border ".concat("summary"===f?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Summary"}),(0,a.jsx)("button",{onClick:()=>y("detailed"),className:"px-4 py-2 text-sm font-medium rounded-r-md border-t border-r border-b ".concat("detailed"===f?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Detailed"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(c.QqI,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overall GPA"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.toFixed(2)})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(c.yK7,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(c.vlc,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Semesters"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(c.HR2,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Assessments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(c.Ihx,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),(0,a.jsxs)("select",{value:j,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Semesters"}),b.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,a.jsxs)("select",{value:p,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Courses"}),w.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]})]})}),"summary"===f&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Semester Performance"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(s=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:s}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"GPA:"}),(0,a.jsx)("span",{className:"font-medium",children:calculateSemesterGPA(s)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Courses:"}),(0,a.jsx)("span",{className:"font-medium",children:e.filter(e=>e.semester===s).length})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Avg Score:"}),(0,a.jsxs)("span",{className:"font-medium",children:[Math.round(e.filter(e=>e.semester===s).reduce((e,s)=>e+calculatePercentage(s.score,s.max_score),0)/e.filter(e=>e.semester===s).length||0),"%"]})]})]})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"summary"===f?"Recent Grades":"All Grades"})}),0===N.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(c.yK7,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No grades found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No grades available for the selected filters."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assessment"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Semester"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),"detailed"===f&&(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comments"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((e,s)=>{let t=calculatePercentage(e.score,e.max_score),l=getGradeLetter(t),r=getGradeColor(t);return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.course_name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.course_code})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:e.assessment_type||"Assessment"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.score,"/",e.max_score]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[t,"%"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(r),children:l})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.semester}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date_given?new Date(e.date_given).toLocaleDateString():"N/A"}),"detailed"===f&&(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(0,a.jsx)("div",{className:"max-w-xs truncate",children:e.comments||"No comments"})})]},s)})})]})})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Grade Scale Reference"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"A+ (90-100%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"4.0 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"A (85-89%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"3.7 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"A- (80-84%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"3.3 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"B+ (75-79%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"3.0 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"B (70-74%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"2.7 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"B- (65-69%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"2.3 GPA"})]})]})]})]})]})]})}},1709:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(4082),n=t(2983),i=t(4105),c=t(9180),d=t(5822),x=t(9175),o=t(4549),m=t(7219),h=t(1265);s.default=()=>{var e,s;let[t,u]=(0,l.useState)(!1),[j,g]=(0,l.useState)(null),[p,v]=(0,l.useState)(!0),[f,y]=(0,l.useState)(null),[N,b]=(0,l.useState)(null),[w,C]=(0,l.useState)({first_name:"",last_name:"",email:"",phone:"",address:"",date_of_birth:"",gender:""});(0,l.useEffect)(()=>{let fetchProfile=async()=>{var e,s,t,a,l;try{v(!0),y(null);let a=await h.ZP.get("/students/profile"),l=a.data;g(l),C({first_name:(null===(e=l.user)||void 0===e?void 0:e.first_name)||"",last_name:(null===(s=l.user)||void 0===s?void 0:s.last_name)||"",email:(null===(t=l.user)||void 0===t?void 0:t.email)||"",phone:l.phone||"",address:l.address||"",date_of_birth:l.date_of_birth||"",gender:l.gender||""})}catch(e){y((null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message)||"Failed to load profile")}finally{v(!1)}};fetchProfile()},[]);let handleInputChange=e=>{let{name:s,value:t}=e.target;C(e=>({...e,[s]:t}))},handleSave=async()=>{var e,s,t,a,l;try{await h.ZP.put("/students/profile",w),b({type:"success",text:"Profile updated successfully!"}),u(!1);let a=await h.ZP.get("/students/profile"),l=a.data;g(l),C({first_name:(null===(e=l.user)||void 0===e?void 0:e.first_name)||"",last_name:(null===(s=l.user)||void 0===s?void 0:s.last_name)||"",email:(null===(t=l.user)||void 0===t?void 0:t.email)||"",phone:l.phone||"",address:l.address||"",date_of_birth:l.date_of_birth||"",gender:l.gender||""}),setTimeout(()=>b(null),5e3)}catch(e){b({type:"error",text:(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message)||"Failed to update profile"}),setTimeout(()=>b(null),5e3)}};return p?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(o.Z,{})})})]})]}):f?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(x.Z,{variant:"error",children:f})})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(n.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Profile"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your personal information"})]}),t?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(c.Z,{variant:"success",icon:m.mW3,onClick:handleSave,children:"Save Changes"}),(0,a.jsx)(c.Z,{variant:"secondary",icon:m.q5L,onClick:()=>{if(u(!1),b(null),j){var e,s,t;C({first_name:(null===(e=j.user)||void 0===e?void 0:e.first_name)||"",last_name:(null===(s=j.user)||void 0===s?void 0:s.last_name)||"",email:(null===(t=j.user)||void 0===t?void 0:t.email)||"",phone:j.phone||"",address:j.address||"",date_of_birth:j.date_of_birth||"",gender:j.gender||""})}},children:"Cancel"})]}):(0,a.jsx)(c.Z,{variant:"primary",icon:m.vPQ,onClick:()=>u(!0),children:"Edit Profile"})]}),N&&(0,a.jsx)(x.Z,{variant:N.type,dismissible:!0,onDismiss:()=>b(null),children:N.text}),p?(0,a.jsx)(i.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(o.Z,{size:"lg"})}):f?(0,a.jsxs)(x.Z,{variant:"error",children:["Failed to load profile: ",f]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-primary-blue rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(m.fzv,{className:"w-12 h-12 text-white"})}),(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[null==j?void 0:null===(e=j.user)||void 0===e?void 0:e.first_name," ",null==j?void 0:null===(s=j.user)||void 0===s?void 0:s.last_name]}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Student ID: ",null==j?void 0:j.id]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Enrolled: ",null==j?void 0:j.enrollment_year]})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(i.Z.Header,{children:(0,a.jsx)(i.Z.Title,{children:"Personal Information"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(d.Z,{label:"First Name",name:"first_name",value:w.first_name,onChange:handleInputChange,disabled:!t,required:!0}),(0,a.jsx)(d.Z,{label:"Last Name",name:"last_name",value:w.last_name,onChange:handleInputChange,disabled:!t,required:!0}),(0,a.jsx)(d.Z,{label:"Email",name:"email",type:"email",value:w.email,onChange:handleInputChange,disabled:!t,required:!0}),(0,a.jsx)(d.Z,{label:"Phone",name:"phone",value:w.phone,onChange:handleInputChange,disabled:!t}),(0,a.jsx)(d.Z,{label:"Date of Birth",name:"date_of_birth",type:"date",value:w.date_of_birth,onChange:handleInputChange,disabled:!t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,a.jsxs)("select",{name:"gender",value:w.gender,onChange:handleInputChange,disabled:!t,className:"form-select",children:[(0,a.jsx)("option",{value:"",children:"Select Gender"}),(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(d.Z,{label:"Address",name:"address",value:w.address,onChange:handleInputChange,disabled:!t})})]})]})})]})]})})]})]})}},8691:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(9008),n=t.n(r),i=t(5152),c=t.n(i),d=t(6761),x=t(3242),o=t(591);let m=c()(()=>t.e(8592).then(t.bind(t,4082)),{loadableGenerated:{webpack:()=>[4082]},ssr:!1,loading:()=>(0,a.jsx)("header",{className:"bg-blue-600 text-white shadow-lg",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsx)("h1",{className:"text-xl font-bold",children:"SMIS - Loading..."})})})}),h=c()(()=>Promise.all([t.e(1216),t.e(8592)]).then(t.bind(t,2983)),{loadableGenerated:{webpack:()=>[2983]},ssr:!1,loading:()=>(0,a.jsx)("aside",{className:"w-64 bg-gray-800 text-white min-h-screen",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Loading..."})})})}),useFontAwesome=()=>{let[e,s]=(0,l.useState)(null);return(0,l.useEffect)(()=>{t.e(1216).then(t.bind(t,6170)).then(e=>{t.e(1216).then(t.bind(t,9417)).then(t=>{s({FontAwesomeIcon:e.FontAwesomeIcon,faCalendarAlt:t.faCalendarAlt,faBook:t.faBook,faClock:t.faClock,faUsers:t.faUsers,faDownload:t.faDownload,faSync:t.faSync,faFilter:t.faFilter,faSearch:t.faSearch,faMapMarkerAlt:t.faMapMarkerAlt})})}).catch(()=>{s({FontAwesomeIcon:e=>{let{icon:s,className:t}=e;return(0,a.jsx)("span",{className:t,children:{"calendar-alt":"\uD83D\uDCC5",book:"\uD83D\uDCDA",clock:"\uD83D\uDD50",users:"\uD83D\uDC65",download:"\uD83D\uDCE5",sync:"\uD83D\uDD04",filter:"\uD83D\uDD0D",search:"\uD83D\uDD0D","map-marker-alt":"\uD83D\uDCCD"}[null==s?void 0:s.iconName]||"\uD83D\uDCCB"})},faCalendarAlt:{iconName:"calendar-alt"},faBook:{iconName:"book"},faClock:{iconName:"clock"},faUsers:{iconName:"users"},faDownload:{iconName:"download"},faSync:{iconName:"sync"},faFilter:{iconName:"filter"},faSearch:{iconName:"search"},faMapMarkerAlt:{iconName:"map-marker-alt"}})})},[]),e},Card=e=>{let{children:s,className:t=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 ".concat(t),children:s})},Button=e=>{let{children:s,variant:t="primary",size:l="md",onClick:r,disabled:n=!1,loading:i=!1,className:c=""}=e;return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",outline:"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 focus:ring-blue-500"}[t]," ").concat({sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm"}[l]," ").concat(n?"opacity-50 cursor-not-allowed":""," ").concat(c),onClick:r,disabled:n||i,children:[i&&(0,a.jsx)("span",{className:"animate-spin mr-2",children:"⏳"}),s]})},Badge=e=>{let{children:s,variant:t="default",size:l="md"}=e;return(0,a.jsx)("span",{className:"rounded font-medium ".concat({primary:"bg-blue-100 text-blue-800",default:"bg-gray-100 text-gray-800"}[t]," ").concat({sm:"px-2 py-1 text-xs",md:"px-2 py-1 text-sm"}[l]),children:s})},Alert=e=>{let{children:s,variant:t="info"}=e;return(0,a.jsx)("div",{className:"p-4 rounded ".concat({error:"bg-red-100 text-red-800 border border-red-200",info:"bg-blue-100 text-blue-800 border border-blue-200"}[t]),children:s})},LoadingSpinner=e=>{let{size:s="md"}=e;return(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-blue-600 ".concat({md:"h-8 w-8",lg:"h-12 w-12"}[s])})})};s.default=()=>{var e;let{user:s}=(0,d.a)(),t=useFontAwesome(),[r,i]=(0,l.useState)({semester:"current"}),[c,u]=(0,l.useState)(!1),{data:j,loading:g,error:p,refetch:v}=(0,x.h)(()=>o.t7.getTimetable("current"===r.semester?void 0:r.semester));if(!s||"student"!==s.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(Alert,{variant:"error",children:"Access denied. Student access required."})});let handleRefresh=async()=>{u(!0);try{await v()}finally{u(!1)}};function getDayName(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}let f={totalClasses:(null==j?void 0:j.length)||0,uniqueCourses:new Set(null==j?void 0:j.map(e=>e.course_id)).size||0,hoursPerWeek:(null==j?void 0:j.reduce((e,s)=>{let t=new Date("1970-01-01T".concat(s.start_time)),a=new Date("1970-01-01T".concat(s.end_time));return e+(a-t)/36e5},0))||0,busyDays:new Set(null==j?void 0:j.map(e=>e.day_of_week)).size||0},y=(null==j?void 0:j.filter(e=>{if(r.day&&e.day_of_week.toString()!==r.day)return!1;if(r.search){var s,t,a,l;let n=r.search.toLowerCase();return(null===(s=e.course_name)||void 0===s?void 0:s.toLowerCase().includes(n))||(null===(t=e.course_code)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.teacher_name)||void 0===a?void 0:a.toLowerCase().includes(n))||(null===(l=e.room)||void 0===l?void 0:l.toLowerCase().includes(n))}return!0}))||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"My Timetable - Student Dashboard"})}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(m,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(h,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Timetable"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"View your class schedule and course information"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(Button,{variant:"outline",size:"sm",onClick:handleRefresh,loading:c,children:[t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faSync,className:"mr-2"}):"\uD83D\uDD04 ","Refresh"]}),(0,a.jsxs)(Button,{variant:"outline",size:"sm",onClick:()=>{if(!j||0===j.length){alert("No timetable data to export");return}let e=j.map(e=>{var s,t;return{Day:getDayName(e.day_of_week),Time:"".concat(null===(s=e.start_time)||void 0===s?void 0:s.substring(0,5)," - ").concat(null===(t=e.end_time)||void 0===t?void 0:t.substring(0,5)),Course:"".concat(e.course_code," - ").concat(e.course_name),Teacher:e.teacher_name,Room:e.room||"TBA",Semester:e.semester||"N/A"}}),s=[Object.keys(e[0]).join(","),...e.map(e=>Object.values(e).join(","))].join("\n"),t=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="my-timetable-".concat(new Date().toISOString().split("T")[0],".csv"),l.click(),window.URL.revokeObjectURL(a)},disabled:!j||0===j.length,children:[t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faDownload,className:"mr-2"}):"\uD83D\uDCE5 ","Export"]})]})]}),p&&(0,a.jsxs)(Alert,{variant:"error",children:["Error loading timetable: ",p]}),(0,a.jsx)(Card,{children:(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),(0,a.jsxs)("select",{value:r.semester,onChange:e=>i({...r,semester:e.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"current",children:"Current Semester"}),(0,a.jsx)("option",{value:"1",children:"Semester 1"}),(0,a.jsx)("option",{value:"2",children:"Semester 2"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),(0,a.jsxs)("select",{value:r.day||"",onChange:e=>i({...r,day:e.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"All Days"}),(0,a.jsx)("option",{value:"1",children:"Monday"}),(0,a.jsx)("option",{value:"2",children:"Tuesday"}),(0,a.jsx)("option",{value:"3",children:"Wednesday"}),(0,a.jsx)("option",{value:"4",children:"Thursday"}),(0,a.jsx)("option",{value:"5",children:"Friday"}),(0,a.jsx)("option",{value:"6",children:"Saturday"}),(0,a.jsx)("option",{value:"0",children:"Sunday"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,a.jsx)("input",{type:"text",placeholder:"Search courses, teachers...",value:r.search||"",onChange:e=>i({...r,search:e.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsx)(Button,{variant:"outline",size:"sm",onClick:()=>{i({semester:"current"})},children:"Reset"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(Card,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mr-4",children:t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faCalendarAlt,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDCC5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:f.totalClasses}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Classes"})]})]})}),(0,a.jsx)(Card,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mr-4",children:t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faBook,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDCDA"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f.uniqueCourses}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Enrolled Courses"})]})]})}),(0,a.jsx)(Card,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center mr-4",children:t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faClock,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDD50"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:f.hoursPerWeek.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Hours per Week"})]})]})}),(0,a.jsx)(Card,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center mr-4",children:t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faUsers,className:"text-white text-xl"}):(0,a.jsx)("span",{className:"text-white text-xl",children:"\uD83D\uDC65"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:f.busyDays}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Class Days"})]})]})})]}),j&&j.length>0&&(0,a.jsxs)(Card,{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quick Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Today's Classes"}),(0,a.jsxs)("div",{className:"text-blue-600",children:[j.filter(e=>e.day_of_week===new Date().getDay()).length," classes"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-green-800",children:"Next Class"}),(0,a.jsx)("div",{className:"text-green-600",children:"Check your schedule below"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"Most Classes With"}),(0,a.jsx)("div",{className:"text-purple-600",children:(null===(e=Object.entries(j.reduce((e,s)=>(e[s.teacher_name]=(e[s.teacher_name]||0)+1,e),{})).sort((e,s)=>{let[,t]=e,[,a]=s;return a-t})[0])||void 0===e?void 0:e[0])||"N/A"})]})]})]}),g?(0,a.jsx)(Card,{className:"p-12",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(LoadingSpinner,{size:"lg"})})}):j&&j.length>0?(0,a.jsxs)(Card,{children:[(0,a.jsx)("div",{className:"border-b border-gray-200 pb-4 mb-4",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"My Class Schedule"})}),(0,a.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((e,s)=>{var t,l;return(0,a.jsxs)("tr",{className:"transition-colors hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("div",{className:"font-medium text-gray-900",children:getDayName(e.day_of_week)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[null===(t=e.start_time)||void 0===t?void 0:t.substring(0,5)," - ",null===(l=e.end_time)||void 0===l?void 0:l.substring(0,5)]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.course_name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.course_code})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:"text-gray-900",children:e.teacher_name||"TBA"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:"text-gray-900",children:e.room||"TBA"})})]},s)})})]})})]}):(0,a.jsx)(Card,{className:"p-12 text-center",children:(0,a.jsxs)("div",{className:"text-gray-500",children:[t?(0,a.jsx)(t.FontAwesomeIcon,{icon:t.faCalendarAlt,className:"text-4xl mb-4 block text-gray-400 mx-auto"}):(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC5"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Scheduled"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have any classes scheduled for the selected semester. Contact your academic advisor if this seems incorrect."})]})}),j&&j.length>0&&(0,a.jsxs)(Card,{children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Enrolled Courses"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from(new Set(j.map(e=>e.course_id))).map(e=>{let s=j.find(s=>s.course_id===e),t=j.filter(s=>s.course_id===e);return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:s.course_name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s.course_code}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Prof. ",s.teacher_name]})]}),(0,a.jsxs)(Badge,{variant:"primary",size:"sm",children:[t.length," ",1===t.length?"class":"classes"]})]}),(0,a.jsx)("div",{className:"space-y-1 text-sm text-gray-600",children:t.map((e,s)=>{var t,l;return(0,a.jsxs)("div",{children:[getDayName(e.day_of_week)," ",null===(t=e.start_time)||void 0===t?void 0:t.substring(0,5)," - ",null===(l=e.end_time)||void 0===l?void 0:l.substring(0,5),e.room&&" • ".concat(e.room)]},s)})})]},e)})})})]})]})})]})]})]})}},2810:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(7014),h=t(9175),u=t(4549),j=t(7219);s.default=()=>{var e;let{user:s}=(0,r.a)(),[t,g]=(0,l.useState)("all"),[p,v]=(0,l.useState)("current"),{data:f,loading:y}=(0,n.h)(i.$o.getClasses),{data:N,loading:b,execute:w}=(0,n.h)(()=>i.$o.getAnalytics({classId:t,period:p}),[]);if(l.useEffect(()=>{w()},[t,p,w]),!s||"teacher"!==s.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(h.Z,{variant:"error",children:"Access denied. Teacher access required."})});let getGradeBadgeVariant=e=>["A+","A","A-"].includes(e)?"success":["B+","B","B-"].includes(e)?"primary":["C+","C","C-"].includes(e)?"warning":"danger",getAttendanceColor=e=>e>=90?"text-green-600":e>=80?"text-yellow-600":"text-red-600";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Teaching Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Analyze student performance and class statistics"})]}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),(0,a.jsxs)("select",{value:t,onChange:e=>g(e.target.value),className:"form-select",disabled:y,children:[(0,a.jsx)("option",{value:"all",children:"All Classes"}),null==f?void 0:f.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.course_code,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),(0,a.jsxs)("select",{value:p,onChange:e=>v(e.target.value),className:"form-select",children:[(0,a.jsx)("option",{value:"current",children:"Current Semester"}),(0,a.jsx)("option",{value:"last30",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"last90",children:"Last 90 Days"}),(0,a.jsx)("option",{value:"academic_year",children:"Academic Year"})]})]})]})}),b?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(u.Z,{size:"lg"})}):N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.totalStudents||0})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.QqI,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average GPA"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.averageGPA?N.averageGPA.toFixed(2):"N/A"})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.vlc,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg Attendance"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.averageAttendance?"".concat(N.averageAttendance.toFixed(1),"%"):"N/A"})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.HR2,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"A Grades"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=N.gradeDistribution)||void 0===e?void 0:e.A)||0})]})]})})]}),N.gradeDistribution&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Grade Distribution"})}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.entries(N.gradeDistribution).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:t}),(0,a.jsx)(m.Z,{variant:getGradeBadgeVariant(s),className:"mt-1",children:s})]},s)})})]}),N.classPerformance&&N.classPerformance.length>0&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Class Performance Summary"})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Class"}),(0,a.jsx)(o.Z.Head,{children:"Students"}),(0,a.jsx)(o.Z.Head,{children:"Avg GPA"}),(0,a.jsx)(o.Z.Head,{children:"Avg Attendance"}),(0,a.jsx)(o.Z.Head,{children:"Top Grade"}),(0,a.jsx)(o.Z.Head,{children:"Lowest Grade"})]})}),(0,a.jsx)(o.Z.Body,{children:N.classPerformance.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.className}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.courseCode})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.studentCount})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.averageGPA?e.averageGPA.toFixed(2):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium ".concat(getAttendanceColor(e.averageAttendance)),children:e.averageAttendance?"".concat(e.averageAttendance.toFixed(1),"%"):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:e.topGrade&&(0,a.jsx)(m.Z,{variant:getGradeBadgeVariant(e.topGrade),children:e.topGrade})}),(0,a.jsx)(o.Z.Cell,{children:e.lowestGrade&&(0,a.jsx)(m.Z,{variant:getGradeBadgeVariant(e.lowestGrade),children:e.lowestGrade})})]},s))})]})]}),N.studentInsights&&N.studentInsights.length>0&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Student Performance Insights"})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Student"}),(0,a.jsx)(o.Z.Head,{children:"Class"}),(0,a.jsx)(o.Z.Head,{children:"Current Grade"}),(0,a.jsx)(o.Z.Head,{children:"Attendance"}),(0,a.jsx)(o.Z.Head,{children:"Trend"}),(0,a.jsx)(o.Z.Head,{children:"Status"})]})}),(0,a.jsx)(o.Z.Body,{children:N.studentInsights.map((e,s)=>{var t;return(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.studentName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.studentId]})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.className})}),(0,a.jsx)(o.Z.Cell,{children:e.currentGrade&&(0,a.jsx)(m.Z,{variant:getGradeBadgeVariant(e.currentGrade),children:e.currentGrade})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium ".concat(getAttendanceColor(e.attendanceRate)),children:e.attendanceRate?"".concat(e.attendanceRate.toFixed(1),"%"):"N/A"})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex items-center",children:["improving"===e.trend?(0,a.jsx)(j.QqI,{className:"w-4 h-4 text-green-600 mr-1"}):"declining"===e.trend?(0,a.jsx)(j.QqI,{className:"w-4 h-4 text-red-600 mr-1 transform rotate-180"}):(0,a.jsx)(j.DKx,{className:"w-4 h-4 text-gray-400 mr-1"}),(0,a.jsx)("span",{className:"text-sm capitalize",children:e.trend||"stable"})]})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"excellent"===e.status?"success":"good"===e.status?"primary":"needs_attention"===e.status?"warning":"danger",children:(null===(t=e.status)||void 0===t?void 0:t.replace("_"," "))||"unknown"})})]},s)})})]})]}),N.attendanceTrends&&N.attendanceTrends.length>0&&(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Recent Attendance Trends"})}),(0,a.jsx)("div",{className:"space-y-4",children:N.attendanceTrends.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.date}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.className})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.presentCount,"/",e.totalStudents]}),(0,a.jsxs)("div",{className:"text-sm ".concat(getAttendanceColor(e.attendanceRate)),children:[e.attendanceRate.toFixed(1),"%"]})]})]},s))})]})]}):(0,a.jsxs)(x.Z,{className:"text-center py-12",children:[(0,a.jsx)(j.DKx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Data"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Analytics data will appear here once you have classes with student data."})]})]})})]})]})}},2405:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(1163),n=t(6761),i=t(3242),c=t(591),d=t(4082),x=t(2983),o=t(4105),m=t(6208),h=t(9180),u=t(9175),j=t(4549),g=t(7219);s.default=()=>{let{user:e}=(0,n.a)(),s=(0,r.useRouter)(),{class:t}=s.query,[p,v]=(0,l.useState)(new Date().toISOString().split("T")[0]),[f,y]=(0,l.useState)({}),[N,b]=(0,l.useState)({}),[w,C]=(0,l.useState)(null),{data:Z,loading:S}=(0,i.h)(c.$o.getClasses),{data:D,loading:A,execute:k}=(0,i.h)(()=>c.$o.getClassStudents(t),[]),{loading:_,execute:T}=(0,i.c)(),F=null==Z?void 0:Z.find(e=>e.id===parseInt(t));if(l.useEffect(()=>{t&&k()},[t,k]),l.useEffect(()=>{if(D){let e={},s={};D.forEach(t=>{e[t.id]="present",s[t.id]=""}),y(e),b(s)}},[D]),!e||"teacher"!==e.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(u.Z,{variant:"error",children:"Access denied. Teacher access required."})});let handleAttendanceChange=(e,s)=>{y(t=>({...t,[e]:s}))},handleNotesChange=(e,s)=>{b(t=>({...t,[e]:s}))},handleSaveAttendance=async()=>{if(t&&D)try{let e=D.map(e=>({studentId:e.id,status:f[e.id]||"present",notes:N[e.id]||""}));await T(()=>c.$o.markAttendance({courseId:parseInt(t),attendance:e,date:p})),C({type:"success",text:"Attendance saved successfully!"}),setTimeout(()=>C(null),5e3)}catch(t){var e,s;C({type:"error",text:(null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to save attendance"})}},getStatusIcon=e=>{switch(e){case"present":default:return g.UgA;case"late":return g.TCC;case"absent":return g.q5L}},R=l.useMemo(()=>{if(!D||!f)return{present:0,late:0,absent:0};let e={present:0,late:0,absent:0};return D.forEach(s=>{let t=f[s.id]||"present";e[t]++}),e},[D,f]);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(d.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(x.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Mark Attendance"}),(0,a.jsx)("p",{className:"text-gray-600",children:F?"".concat(F.name," (").concat(F.course_code,")"):"Select a class"})]}),(0,a.jsx)(h.Z,{variant:"secondary",onClick:()=>s.push("/teacher/classes"),children:"Back to Classes"})]}),w&&(0,a.jsx)(u.Z,{variant:w.type,dismissible:!0,onDismiss:()=>C(null),children:w.text}),(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),(0,a.jsxs)("select",{value:t||"",onChange:e=>s.push("/teacher/attendance?class=".concat(e.target.value)),className:"form-select",disabled:S,children:[(0,a.jsx)("option",{value:"",children:"Select a class"}),null==Z?void 0:Z.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.course_code,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,a.jsx)("input",{type:"date",value:p,onChange:e=>v(e.target.value),className:"form-input"})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(h.Z,{variant:"primary",icon:g.mW3,onClick:handleSaveAttendance,loading:_,disabled:!t||!D||0===D.length,className:"w-full",children:"Save Attendance"})})]})}),A?(0,a.jsx)(o.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(j.Z,{size:"lg"})}):t?D&&D.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:D.length})]})]})}),(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.UgA,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Present"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:R.present})]})]})}),(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.TCC,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Late"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:R.late})]})]})}),(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(g.q5L,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Absent"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:R.absent})]})]})})]}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Title,{children:["Student Attendance - ",new Date(p).toLocaleDateString()]})}),(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(m.Z.Header,{children:(0,a.jsxs)(m.Z.Row,{children:[(0,a.jsx)(m.Z.Head,{children:"Student ID"}),(0,a.jsx)(m.Z.Head,{children:"Name"}),(0,a.jsx)(m.Z.Head,{children:"Status"}),(0,a.jsx)(m.Z.Head,{children:"Notes"})]})}),(0,a.jsx)(m.Z.Body,{children:D.map((e,s)=>{let t=f[e.id]||"present";return getStatusIcon(t),(0,a.jsxs)(m.Z.Row,{children:[(0,a.jsx)(m.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.id})}),(0,a.jsxs)(m.Z.Cell,{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,a.jsx)(m.Z.Cell,{children:(0,a.jsx)("div",{className:"flex space-x-2",children:["present","late","absent"].map(s=>{let l=getStatusIcon(s),r=t===s;return(0,a.jsx)("button",{onClick:()=>handleAttendanceChange(e.id,s),className:"p-2 rounded-lg border-2 transition-colors ".concat(r?"present"===s?"border-green-500 bg-green-50 text-green-600":"late"===s?"border-yellow-500 bg-yellow-50 text-yellow-600":"border-red-500 bg-red-50 text-red-600":"border-gray-200 bg-white text-gray-400 hover:border-gray-300"),title:s.charAt(0).toUpperCase()+s.slice(1),children:(0,a.jsx)(l,{className:"w-4 h-4"})},s)})})}),(0,a.jsx)(m.Z.Cell,{children:(0,a.jsx)("input",{type:"text",value:N[e.id]||"",onChange:s=>handleNotesChange(e.id,s.target.value),placeholder:"Add notes...",className:"form-input text-sm"})})]},s)})})]})]})]}):(0,a.jsxs)(o.Z,{className:"text-center py-12",children:[(0,a.jsx)(g.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"This class doesn't have any students enrolled."})]}):(0,a.jsxs)(o.Z,{className:"text-center py-12",children:[(0,a.jsx)(g.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Class"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Choose a class from the dropdown above to mark attendance."})]})]})})]})]})}},4423:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(6761),n=t(3242),i=t(591),c=t(4082),d=t(2983),x=t(4105),o=t(6208),m=t(9180),h=t(9175),u=t(4549),j=t(7219);s.default=()=>{let{user:e}=(0,r.a)(),[s,t]=(0,l.useState)(null),[g,p]=(0,l.useState)(!1),{data:v,loading:f,error:y}=(0,n.h)(i.$o.getClasses),{data:N,loading:b,execute:w}=(0,n.h)(()=>i.$o.getClassStudents(null==s?void 0:s.id),[]);if(l.useEffect(()=>{s&&g&&w()},[s,g,w]),!e||"teacher"!==e.role)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(h.Z,{variant:"error",children:"Access denied. Teacher access required."})});let handleViewStudents=e=>{t(e),p(!0)},handleMarkAttendance=e=>{window.location.href="/teacher/attendance?class=".concat(e.id)},handleEnterGrades=e=>{window.location.href="/teacher/grades?class=".concat(e.id)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:g?"Students in ".concat(null==s?void 0:s.name):"My Classes"}),(0,a.jsx)("p",{className:"text-gray-600",children:g?"Manage students in this class":"Manage your assigned classes and students"})]}),g&&(0,a.jsx)(m.Z,{variant:"secondary",onClick:()=>{p(!1),t(null)},children:"Back to Classes"})]}),g?(0,a.jsx)(a.Fragment,{children:b?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(u.Z,{size:"lg"})}):N&&N.length>0?(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(x.Z.Title,{children:"Class Roster"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m.Z,{variant:"primary",icon:j.j4u,onClick:()=>handleMarkAttendance(s),children:"Mark Attendance"}),(0,a.jsx)(m.Z,{variant:"success",icon:j.vPQ,onClick:()=>handleEnterGrades(s),children:"Enter Grades"})]})]})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Student ID"}),(0,a.jsx)(o.Z.Head,{children:"Name"}),(0,a.jsx)(o.Z.Head,{children:"Email"}),(0,a.jsx)(o.Z.Head,{children:"Enrollment Year"}),(0,a.jsx)(o.Z.Head,{children:"Status"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:N.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.id})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-600",children:e.email})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.enrollment_year})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)(m.Z,{variant:"outline",size:"sm",icon:j.rDJ,children:"View Profile"})})]},s))})]})]}):(0,a.jsxs)(x.Z,{className:"text-center py-12",children:[(0,a.jsx)(j.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Enrolled"}),(0,a.jsx)("p",{className:"text-gray-500",children:"This class doesn't have any students enrolled yet."})]})}):(0,a.jsx)(a.Fragment,{children:f?(0,a.jsx)(x.Z,{className:"flex justify-center py-12",children:(0,a.jsx)(u.Z,{size:"lg"})}):y?(0,a.jsxs)(h.Z,{variant:"error",children:["Failed to load classes: ",y]}):v&&v.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.yK7,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Classes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.reduce((e,s)=>e+(s.student_count||0),0)})]})]})}),(0,a.jsx)(x.Z,{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(j.vlc,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Departments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set(v.map(e=>e.department_name)).size})]})]})})]}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)(x.Z.Header,{children:(0,a.jsx)(x.Z.Title,{children:"Assigned Classes"})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z.Header,{children:(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsx)(o.Z.Head,{children:"Course"}),(0,a.jsx)(o.Z.Head,{children:"Code"}),(0,a.jsx)(o.Z.Head,{children:"Department"}),(0,a.jsx)(o.Z.Head,{children:"Students"}),(0,a.jsx)(o.Z.Head,{children:"Credits"}),(0,a.jsx)(o.Z.Head,{children:"Actions"})]})}),(0,a.jsx)(o.Z.Body,{children:v.map((e,s)=>(0,a.jsxs)(o.Z.Row,{children:[(0,a.jsxs)(o.Z.Cell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-mono text-sm",children:e.course_code})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.department_name})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"font-medium",children:e.student_count||0})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsx)("span",{className:"text-gray-900",children:e.credits||3})}),(0,a.jsx)(o.Z.Cell,{children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(m.Z,{variant:"outline",size:"sm",icon:j.rDJ,onClick:()=>handleViewStudents(e),children:"Students"}),(0,a.jsx)(m.Z,{variant:"primary",size:"sm",icon:j.j4u,onClick:()=>handleMarkAttendance(e),children:"Attendance"}),(0,a.jsx)(m.Z,{variant:"success",size:"sm",icon:j.vPQ,onClick:()=>handleEnterGrades(e),children:"Grades"})]})})]},s))})]})]})]}):(0,a.jsxs)(x.Z,{className:"text-center py-12",children:[(0,a.jsx)(j.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Assigned"}),(0,a.jsx)("p",{className:"text-gray-500",children:"You don't have any classes assigned yet. Contact your department head for class assignments."})]})})]})})]})]})}},5868:function(e,s,t){t.r(s);var a=t(5893),l=t(7294),r=t(1163),n=t(4082),i=t(2983),c=t(4549),d=t(7219),x=t(591);s.default=()=>{let e=(0,r.useRouter)(),{courseId:s}=e.query,[t,o]=(0,l.useState)(!0),[m,h]=(0,l.useState)(!1),[u,j]=(0,l.useState)(null),[g,p]=(0,l.useState)(null),[v,f]=(0,l.useState)([]),[y,N]=(0,l.useState)(s||""),[b,w]=(0,l.useState)([]),[C,Z]=(0,l.useState)([]),[S,D]=(0,l.useState)("Fall 2024"),[A,k]=(0,l.useState)({}),[_,T]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let fetchCourses=async()=>{try{let e=await x.$o.getClasses();f(e||[])}catch(e){j("Failed to load courses")}};fetchCourses()},[]),(0,l.useEffect)(()=>{if(!y){o(!1);return}let fetchCourseData=async()=>{try{o(!0),j(null);let e=await x.$o.getClassStudents(parseInt(y));w(e||[]);let s=[];Z(s);let t={};(e||[]).forEach(e=>{let a=s.find(s=>s.student_id===e.id);t[e.id]={assessment_type:(null==a?void 0:a.assessment_type)||"assignment",score:(null==a?void 0:a.score)||"",max_score:(null==a?void 0:a.max_score)||100,comments:(null==a?void 0:a.comments)||""}}),k(t)}catch(e){j("Failed to load course data")}finally{o(!1)}};fetchCourseData()},[y,S]);let handleGradeChange=(e,s,t)=>{k(a=>({...a,[e]:{...a[e],[s]:t}}))},calculateGrade=(e,s)=>{if(!e||!s||0===s)return{percentage:0,letter:"F"};let t=Math.round(e/s*100),a="F";return t>=90?a="A+":t>=85?a="A":t>=80?a="A-":t>=75?a="B+":t>=70?a="B":t>=65?a="B-":t>=60?a="C+":t>=55?a="C":t>=50?a="C-":t>=45?a="D+":t>=40&&(a="D"),{percentage:t,letter:a}},handleSaveGrades=async()=>{if(y)try{h(!0),j(null);let e=Object.entries(A).filter(e=>{let[s,t]=e;return t.score&&""!==t.score}).map(e=>{let[s,t]=e,{percentage:a,letter:l}=calculateGrade(t.score,t.max_score);return{student:parseInt(s),grade:l,semester:S,date:new Date().toISOString().split("T")[0],comments:t.comments,max_score:t.max_score,type:t.assessment_type,score:parseFloat(t.score)}});if(0===e.length){j("No grades to save");return}await x.$o.enterGrades({courseId:parseInt(y),grades:e}),p("Grades saved successfully!"),T(!1),Z([]),setTimeout(()=>p(null),5e3)}catch(t){var e,s;j((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to save grades")}finally{h(!1)}},F=l.useMemo(()=>{let e=Object.values(A).filter(e=>e.score&&e.max_score&&""!==e.score);if(0===e.length)return{average:0,highest:0,lowest:0,graded:0,total:b.length};let s=e.map(e=>parseFloat(e.score)/parseFloat(e.max_score)*100);return{average:Math.round(s.reduce((e,s)=>e+s,0)/s.length),highest:Math.round(Math.max(...s)),lowest:Math.round(Math.min(...s)),graded:e.length,total:b.length}},[A,b]);return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(c.Z,{size:"lg"})})})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)("main",{className:"flex-1 p-6",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Grade Management"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Enter and manage student grades"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>T(!_),className:"inline-flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ".concat(_?"border-red-300 text-red-700 bg-red-50 hover:bg-red-100":"border-blue-300 text-blue-700 bg-blue-50 hover:bg-blue-100"),children:[_?(0,a.jsx)(d.q5L,{className:"mr-2 h-4 w-4"}):(0,a.jsx)(d.vPQ,{className:"mr-2 h-4 w-4"}),_?"Cancel Edit":"Edit Grades"]}),_&&(0,a.jsxs)("button",{onClick:handleSaveGrades,disabled:m,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[m?(0,a.jsx)(c.Z,{size:"sm",className:"mr-2"}):(0,a.jsx)(d.mW3,{className:"mr-2 h-4 w-4"}),"Save Grades"]})]})]})}),u&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.q5L,{className:"h-5 w-5 text-red-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,a.jsx)("p",{children:u})})]})]})}),g&&(0,a.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(d.UgA,{className:"h-5 w-5 text-green-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-green-700",children:(0,a.jsx)("p",{children:g})})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Course"}),(0,a.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Select a course"}),v.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.course_code,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),(0,a.jsxs)("select",{value:S,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"Fall 2024",children:"Fall 2024"}),(0,a.jsx)("option",{value:"Spring 2024",children:"Spring 2024"}),(0,a.jsx)("option",{value:"Summer 2024",children:"Summer 2024"})]})]})]})}),y&&b.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(d.WY8,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.total})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(d.UgA,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Graded"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F.graded})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(d.DKx,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Class Average"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[F.average,"%"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(d.DKx,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Highest"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[F.highest,"%"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)(d.DKx,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Lowest"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[F.lowest,"%"]})]})]})})]}),y?0===b.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,a.jsx)(d.WY8,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No students found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No students are enrolled in this course."})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Student Grades"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assessment Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Max Score"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comments"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>{var s,t;let l=A[e.id]||{},{percentage:r,letter:n}=calculateGrade(l.score,l.max_score);return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center mr-3",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[null===(s=e.first_name)||void 0===s?void 0:s[0],null===(t=e.last_name)||void 0===t?void 0:t[0]]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.student_id||e.id]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:_?(0,a.jsxs)("select",{value:l.assessment_type||"assignment",onChange:s=>handleGradeChange(e.id,"assessment_type",s.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"assignment",children:"Assignment"}),(0,a.jsx)("option",{value:"quiz",children:"Quiz"}),(0,a.jsx)("option",{value:"midterm",children:"Midterm"}),(0,a.jsx)("option",{value:"final",children:"Final Exam"}),(0,a.jsx)("option",{value:"project",children:"Project"}),(0,a.jsx)("option",{value:"participation",children:"Participation"})]}):(0,a.jsx)("span",{className:"text-sm text-gray-900",children:l.assessment_type||"Assignment"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:_?(0,a.jsx)("input",{type:"number",value:l.score||"",onChange:s=>handleGradeChange(e.id,"score",s.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0",min:"0",step:"0.1"}):(0,a.jsx)("span",{className:"text-sm text-gray-900",children:l.score||"-"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:_?(0,a.jsx)("input",{type:"number",value:l.max_score||100,onChange:s=>handleGradeChange(e.id,"max_score",s.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"100",min:"1"}):(0,a.jsx)("span",{className:"text-sm text-gray-900",children:l.max_score||100})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:l.score?"".concat(r,"%"):"-"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:l.score?(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(r>=85?"text-green-600 bg-green-50":r>=70?"text-blue-600 bg-blue-50":r>=60?"text-yellow-600 bg-yellow-50":r>=50?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50"),children:n}):(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"-"})}),(0,a.jsx)("td",{className:"px-6 py-4",children:_?(0,a.jsx)("input",{type:"text",value:l.comments||"",onChange:s=>handleGradeChange(e.id,"comments",s.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional comments"}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:l.comments||"-"})})]},e.id)})})]})})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,a.jsx)(d.DKx,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Select a Course"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose a course from the dropdown above to manage grades."})]}),(0,a.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Grade Scale Reference"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"A+ (90-100%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"4.0 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"A (85-89%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"3.7 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"A- (80-84%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"3.3 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"B+ (75-79%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"3.0 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"B (70-74%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"2.7 GPA"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-blue-800",children:"B- (65-69%)"}),(0,a.jsx)("div",{className:"text-blue-600",children:"2.3 GPA"})]})]})]})]})]})]})}}}]);