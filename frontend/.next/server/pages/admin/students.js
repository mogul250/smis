"use strict";(()=>{var e={};e.id=2541,e.ids=[2541,2888,660],e.modules={5613:()=>{},7339:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>b,default:()=>x,getServerSideProps:()=>g,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>j,routeModule:()=>w,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>p});var l=t(7093),r=t(5244),n=t(1323),i=t(9209),d=t.n(i),c=t(8397),o=t(3273),m=e([c,o]);[c,o]=m.then?(await m)():m;let x=(0,n.l)(o,"default"),u=(0,n.l)(o,"getStaticProps"),h=(0,n.l)(o,"getStaticPaths"),g=(0,n.l)(o,"getServerSideProps"),b=(0,n.l)(o,"config"),j=(0,n.l)(o,"reportWebVitals"),p=(0,n.l)(o,"unstable_getStaticProps"),N=(0,n.l)(o,"unstable_getStaticPaths"),v=(0,n.l)(o,"unstable_getStaticParams"),f=(0,n.l)(o,"unstable_getServerProps"),y=(0,n.l)(o,"unstable_getServerSideProps"),w=new l.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/admin/students",pathname:"/admin/students",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:o});a()}catch(e){a(e)}})},7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:l="",...r})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${l}`,...r,children:e})},6761:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{a:()=>useAuth});var l=t(6689),r=t(8786),n=e([r]);r=(n.then?(await n)():n)[0];let useAuth=()=>{let e=(0,l.useContext)(r.ZP);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},3273:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>AdminStudentsNew});var l=t(997),r=t(6689),n=t(1163),i=t(6761),d=t(8303),c=t(6893),o=t(5613),m=t(4082),x=t(6422),u=t(4065),h=t(9180),g=t(5822),b=t(897);t(7014);var j=t(1095),p=t(4549);t(9175);var N=t(4105),v=e([i,d,m,x]);[i,d,m,x]=v.then?(await v)():v;let StatusBadge=({status:e})=>{let s={active:{label:"Active",className:"bg-gradient-to-r from-green-400 to-green-600 text-white shadow-lg",icon:l.jsx(c.tMu,{className:"w-3 h-3 mr-1"})},inactive:{label:"Inactive",className:"bg-gradient-to-r from-gray-400 to-gray-600 text-white shadow-lg",icon:l.jsx(c.pBC,{className:"w-3 h-3 mr-1"})},suspended:{label:"Suspended",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg",icon:l.jsx(c.pBC,{className:"w-3 h-3 mr-1"})},graduated:{label:"Graduated",className:"bg-gradient-to-r from-purple-400 to-purple-600 text-white shadow-lg",icon:l.jsx(o.FiGraduationCap,{className:"w-3 h-3 mr-1"})}},t=s[e]||{label:e,className:"bg-gradient-to-r from-gray-400 to-gray-600 text-white shadow-lg",icon:l.jsx(c.fzv,{className:"w-3 h-3 mr-1"})};return(0,l.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold transform transition-all duration-200 hover:scale-105 ${t.className}`,children:[t.icon,t.label]})},StudentAvatar=({firstName:e,lastName:s,email:t})=>{let a=`${e?.charAt(0)||""}${s?.charAt(0)||""}`,r=["from-blue-500 to-indigo-600","from-purple-500 to-pink-600","from-green-500 to-teal-600","from-yellow-500 to-orange-600","from-red-500 to-pink-600","from-indigo-500 to-purple-600"],n=(e?.charCodeAt(0)||0)%r.length;return l.jsx("div",{className:`flex-shrink-0 h-12 w-12 rounded-full bg-gradient-to-r ${r[n]} flex items-center justify-center text-white font-bold text-sm shadow-lg transform transition-all duration-200 hover:scale-110`,children:a})};function AdminStudentsNew(){let e=(0,n.useRouter)(),{user:s,isAuthenticated:t}=(0,i.a)(),[a,o]=(0,r.useState)([]),[v,f]=(0,r.useState)(!0),[y,w]=(0,r.useState)(null),[S,C]=(0,r.useState)(0),[_,A]=(0,r.useState)(1),[Z,k]=(0,r.useState)(10),[P,D]=(0,r.useState)(""),[E,F]=(0,r.useState)("all"),[L,Y]=(0,r.useState)("all"),[q,B]=(0,r.useState)("all"),[z,I]=(0,r.useState)(!1),[T,M]=(0,r.useState)(!1),[U,$]=(0,r.useState)(!1),[G,O]=(0,r.useState)(null),[W,R]=(0,r.useState)([]),[K,V]=(0,r.useState)(!1),[X,H]=(0,r.useState)(null),[J,Q]=(0,r.useState)(!1),[ee,es]=(0,r.useState)({key:"created_at",direction:"desc"}),[et,ea]=(0,r.useState)([]),[el,er]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t||s?.role!=="admin"){e.push("/login");return}},[t,s,e]);let en=(0,r.useCallback)(async()=>{try{f(!0),w(null);let e=await d.Sb.getAllStudents(_,Z),s=Array.isArray(e)?e:[];o(s),C(s.length)}catch(e){w(e.message||"Failed to fetch students")}finally{f(!1)}},[_,Z]),ei=(0,r.useCallback)(async()=>{try{let e=await d.Sb.getAllDepartments(),s=Array.isArray(e.data)?e.data:e.data?.departments||[];R(s)}catch(e){}},[]);(0,r.useEffect)(()=>{t&&s?.role==="admin"&&(en(),ei())},[t,s,en,ei]);let handleStatusUpdate=async(e,s)=>{try{V(!0),await d.Sb.updateStudentStatus(e,s),await en(),H({type:"success",message:`Student status updated to ${s}`}),setTimeout(()=>H(null),3e3)}catch(e){H({type:"error",message:`Failed to update status: ${e.message}`}),setTimeout(()=>H(null),3e3)}finally{V(!1)}},handleDelete=async e=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{V(!0),await d.Sb.deleteStudent(e),await en(),H({type:"success",message:"Student deleted successfully"}),setTimeout(()=>H(null),3e3)}catch(e){H({type:"error",message:`Failed to delete student: ${e.message}`}),setTimeout(()=>H(null),3e3)}finally{V(!1)}},handleSubmit=async e=>{try{V(!0),G?(await d.Sb.updateUser(G.id,e),H({type:"success",message:"Student updated successfully"})):(await d.Sb.createUser({...e,role:"student"}),H({type:"success",message:"Student created successfully"})),I(!1),$(!1),O(null),await en(),setTimeout(()=>H(null),3e3)}catch(e){H({type:"error",message:`Error: ${e.message}`}),setTimeout(()=>H(null),3e3)}finally{V(!1)}},ed=(0,r.useMemo)(()=>a.filter(e=>{let s=!P||e.first_name?.toLowerCase().includes(P.toLowerCase())||e.last_name?.toLowerCase().includes(P.toLowerCase())||e.email?.toLowerCase().includes(P.toLowerCase())||e.student_id?.toLowerCase().includes(P.toLowerCase()),t="all"===E||Number(e.department_id)===Number(E),a="all"===L||e.status===L,l="all"===q||Number(e.enrollment_year)===Number(q);return s&&t&&a&&l}),[a,P,E,L,q]),ec=(0,r.useMemo)(()=>{let e=a.filter(e=>"active"===e.status).length,s=a.filter(e=>{let s=e.enrollment_year||new Date(e.created_at).getFullYear();return Number(s)===new Date().getFullYear()}).length,t=a.filter(e=>"graduated"===e.status).length;return{total:S||a.length,active:e,newThisYear:s,graduated:t}},[a,S]),handlePageChange=e=>{A(e)},handlePageSizeChange=e=>{k(e),A(1)},eo=Math.ceil((S||ed.length)/Z);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100",children:[l.jsx(m.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(x.default,{}),(0,l.jsxs)("main",{className:"flex-1 p-8",children:[l.jsx("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,l.jsxs)("div",{className:"mb-6 lg:mb-0",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Student Management"}),l.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Manage all student records, enrollment, and academic information with powerful tools"})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,l.jsxs)(h.Z,{variant:"outline",onClick:()=>Q(!J),className:"border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-semibold shadow-lg transform transition-all duration-200 hover:scale-105",children:[l.jsx(c.Ihx,{className:"w-5 h-5 mr-2"}),J?"Hide Filters":"Show Filters"]}),(0,l.jsxs)(h.Z,{onClick:()=>{O(null),I(!0)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold shadow-xl transform transition-all duration-200 hover:scale-105",children:[l.jsx(c.zy7,{className:"w-5 h-5 mr-2"}),"Add New Student"]})]})]})}),X&&l.jsx("div",{className:`mb-6 p-4 rounded-lg border-l-4 ${"success"===X.type?"bg-green-50 border-green-400 text-green-800":"bg-red-50 border-red-400 text-red-800"}`,children:(0,l.jsxs)("div",{className:"flex items-center",children:["success"===X.type?l.jsx(c.UgA,{className:"w-5 h-5 mr-2"}):l.jsx(c.q5L,{className:"w-5 h-5 mr-2"}),l.jsx("span",{className:"font-medium",children:X.message})]})}),v&&(0,l.jsxs)("div",{className:"flex items-center justify-center py-12",children:[l.jsx(p.Z,{}),l.jsx("span",{className:"ml-3 text-lg font-medium text-gray-600",children:"Loading students..."})]}),y&&l.jsx("div",{className:"mb-6 p-6 bg-red-50 border border-red-200 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(c.q5L,{className:"w-6 h-6 text-red-500 mr-3"}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Students"}),l.jsx("p",{className:"text-red-600 mt-1",children:y})]})]})}),!v&&!y&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(N.Z,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 shadow-xl transform transition-all duration-200 hover:scale-105",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Students"}),l.jsx("p",{className:"text-3xl font-bold",children:ec.total.toLocaleString()}),l.jsx("p",{className:"text-blue-100 text-xs mt-1",children:"All registered students"})]}),l.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:l.jsx(c.WY8,{className:"w-8 h-8"})})]})}),l.jsx(N.Z,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white p-6 shadow-xl transform transition-all duration-200 hover:scale-105",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-green-100 text-sm font-medium mb-1",children:"Active Students"}),l.jsx("p",{className:"text-3xl font-bold",children:ec.active.toLocaleString()}),l.jsx("p",{className:"text-green-100 text-xs mt-1",children:"Currently enrolled"})]}),l.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:l.jsx(c.tMu,{className:"w-8 h-8"})})]})}),l.jsx(N.Z,{className:"bg-gradient-to-br from-amber-500 to-orange-500 text-white p-6 shadow-xl transform transition-all duration-200 hover:scale-105",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-amber-100 text-sm font-medium mb-1",children:"New This Year"}),l.jsx("p",{className:"text-3xl font-bold",children:ec.newThisYear.toLocaleString()}),l.jsx("p",{className:"text-amber-100 text-xs mt-1",children:"Fresh enrollments"})]}),l.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:l.jsx(c.zy7,{className:"w-8 h-8"})})]})}),l.jsx(N.Z,{className:"bg-gradient-to-br from-purple-500 to-indigo-600 text-white p-6 shadow-xl transform transition-all duration-200 hover:scale-105",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-purple-100 text-sm font-medium mb-1",children:"Departments"}),l.jsx("p",{className:"text-3xl font-bold",children:W.length.toLocaleString()}),l.jsx("p",{className:"text-purple-100 text-xs mt-1",children:"Academic divisions"})]}),l.jsx("div",{className:"p-3 bg-white bg-opacity-20 rounded-full",children:l.jsx(c.yK7,{className:"w-8 h-8"})})]})})]}),J&&(0,l.jsxs)(N.Z,{className:"mb-8 p-6 shadow-lg border-l-4 border-blue-500",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(c.NNy,{className:"w-5 h-5 mr-2 text-blue-600"}),"Advanced Filters"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Students"}),(0,l.jsxs)("div",{className:"relative",children:[l.jsx(c.jRj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(g.Z,{type:"text",placeholder:"Name, email, or ID...",value:P,onChange:e=>D(e.target.value),className:"pl-10 border-2 border-gray-200 focus:border-blue-500 rounded-lg"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),(0,l.jsxs)(b.Z,{value:E,onChange:e=>F(e.target.value),className:"border-2 border-gray-200 focus:border-blue-500 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Departments"}),W.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,l.jsxs)(b.Z,{value:L,onChange:e=>Y(e.target.value),className:"border-2 border-gray-200 focus:border-blue-500 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"suspended",children:"Suspended"}),l.jsx("option",{value:"graduated",children:"Graduated"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Year"}),(0,l.jsxs)(b.Z,{value:q,onChange:e=>B(e.target.value),className:"border-2 border-gray-200 focus:border-blue-500 rounded-lg",children:[l.jsx("option",{value:"all",children:"All Years"}),[2020,2021,2022,2023,2024,2025].map(e=>l.jsx("option",{value:e,children:e},e))]})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:[(0,l.jsxs)(h.Z,{variant:"outline",onClick:()=>{D(""),F("all"),Y("all"),B("all")},className:"border-gray-300 text-gray-600 hover:bg-gray-50",children:[l.jsx(c.q5L,{className:"w-4 h-4 mr-2"}),"Clear Filters"]}),(0,l.jsxs)(h.Z,{onClick:()=>en(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[l.jsx(c.Bw1,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})]})]}),!v&&!y&&(0,l.jsxs)(N.Z,{className:"shadow-xl overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,l.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-4 sm:mb-0 flex items-center",children:[l.jsx(c.WY8,{className:"w-6 h-6 mr-2 text-blue-600"}),"Students (",ed.length,")"]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsxs)(h.Z,{variant:"outline",onClick:()=>en(),disabled:v,className:"border-gray-300 text-gray-600 hover:bg-gray-50 transform transition-all duration-200 hover:scale-105",children:[l.jsx(c.Bw1,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,l.jsxs)(h.Z,{variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 transform transition-all duration-200 hover:scale-105",children:[l.jsx(c._hL,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),0===ed.length?(0,l.jsxs)("div",{className:"p-12 text-center",children:[l.jsx(c.WY8,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-500 mb-2",children:"No Students Found"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search criteria or add new students."}),(0,l.jsxs)(h.Z,{onClick:()=>{O(null),I(!0)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:[l.jsx(c.zy7,{className:"w-4 h-4 mr-2"}),"Add First Student"]})]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(u.Z,{columns:[{header:"Student",accessor:"student_info",cell:(e,s)=>(0,l.jsxs)("div",{className:"flex items-center py-2",children:[l.jsx(StudentAvatar,{firstName:s.first_name,lastName:s.last_name,email:s.email}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[s.first_name," ",s.last_name]}),(0,l.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[l.jsx(c.Imn,{className:"w-3 h-3 mr-1"}),s.email]}),s.student_id&&(0,l.jsxs)("div",{className:"text-xs text-blue-600 font-mono bg-blue-50 px-2 py-1 rounded mt-1 inline-block",children:["ID: ",s.student_id]})]})]})},{header:"Department",accessor:"department_name",cell:(e,s)=>(0,l.jsxs)("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium text-gray-900",children:e||"N/A"}),s.enrollment_year&&(0,l.jsxs)("div",{className:"text-xs text-gray-500 flex items-center mt-1",children:[l.jsx(c.vlc,{className:"w-3 h-3 mr-1"}),"Enrolled: ",s.enrollment_year]})]})},{header:"Status",accessor:"status",cell:e=>l.jsx(StatusBadge,{status:e})},{header:"Contact",accessor:"contact_info",cell:(e,s)=>(0,l.jsxs)("div",{className:"text-sm",children:[s.phone&&(0,l.jsxs)("div",{className:"flex items-center text-gray-600 mb-1",children:[l.jsx(c.tUt,{className:"w-3 h-3 mr-1"}),s.phone]}),s.address&&l.jsx("div",{className:"text-xs text-gray-500 truncate max-w-32",title:s.address,children:s.address})]})},{header:"Actions",accessor:"id",cell:(e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx(h.Z,{variant:"ghost",size:"sm",onClick:()=>{O(s),M(!0)},className:"text-blue-600 hover:bg-blue-50 p-2 rounded-full transform transition-all duration-200 hover:scale-110",title:"View Details",children:l.jsx(c.rDJ,{className:"w-4 h-4"})}),l.jsx(h.Z,{variant:"ghost",size:"sm",onClick:()=>{O(s),$(!0)},className:"text-indigo-600 hover:bg-indigo-50 p-2 rounded-full transform transition-all duration-200 hover:scale-110",title:"Edit Student",children:l.jsx(c.IYd,{className:"w-4 h-4"})}),(0,l.jsxs)("div",{className:"relative group",children:[l.jsx(h.Z,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-50 p-2 rounded-full transform transition-all duration-200 hover:scale-110",title:"More Actions",children:l.jsx(c.$Pu,{className:"w-4 h-4"})}),l.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20",children:(0,l.jsxs)("div",{className:"py-2",children:["active"!==s.status&&(0,l.jsxs)("button",{onClick:()=>handleStatusUpdate(e,"active"),className:"flex items-center w-full px-4 py-2 text-sm text-green-700 hover:bg-green-50 transition-colors duration-150",disabled:K,children:[l.jsx(c.tMu,{className:"w-4 h-4 mr-2"}),"Activate"]}),"suspended"!==s.status&&(0,l.jsxs)("button",{onClick:()=>handleStatusUpdate(e,"suspended"),className:"flex items-center w-full px-4 py-2 text-sm text-yellow-700 hover:bg-yellow-50 transition-colors duration-150",disabled:K,children:[l.jsx(c.pBC,{className:"w-4 h-4 mr-2"}),"Suspend"]}),"inactive"!==s.status&&(0,l.jsxs)("button",{onClick:()=>handleStatusUpdate(e,"inactive"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",disabled:K,children:[l.jsx(c.pBC,{className:"w-4 h-4 mr-2"}),"Deactivate"]}),l.jsx("div",{className:"border-t border-gray-100 my-1"}),(0,l.jsxs)("button",{onClick:()=>handleDelete(e),className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50 transition-colors duration-150",disabled:K,children:[l.jsx(c.Ybf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})})]})]})}],data:ed,emptyMessage:"No students found matching your criteria"}),eo>1&&l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",(_-1)*Z+1," to ",Math.min(_*Z,S)," of ",S," students"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"Rows per page:"}),(0,l.jsxs)(b.Z,{value:Z,onChange:e=>handlePageSizeChange(Number(e.target.value)),className:"w-20 text-sm",children:[l.jsx("option",{value:5,children:"5"}),l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:25,children:"25"}),l.jsx("option",{value:50,children:"50"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx(h.Z,{variant:"outline",size:"sm",onClick:()=>handlePageChange(_-1),disabled:1===_,className:"p-2",children:l.jsx(c.YFh,{className:"w-4 h-4"})}),(0,l.jsxs)("span",{className:"text-sm text-gray-700 px-3",children:["Page ",_," of ",eo]}),l.jsx(h.Z,{variant:"outline",size:"sm",onClick:()=>handlePageChange(_+1),disabled:_===eo,className:"p-2",children:l.jsx(c.Tfp,{className:"w-4 h-4"})})]})]})]})})]})]})]})]}),(z||U)&&l.jsx(j.Z,{isOpen:z||U,onClose:()=>{I(!1),$(!1),O(null)},title:G?"Edit Student":"Create New Student",size:"lg",children:l.jsx("div",{className:"p-6",children:l.jsx(StudentForm,{student:G,departments:W,onSubmit:handleSubmit,onCancel:()=>{I(!1),$(!1),O(null)},isSubmitting:K})})}),T&&G&&l.jsx(j.Z,{isOpen:T,onClose:()=>{M(!1),O(null)},title:"Student Details",size:"xl",children:l.jsx("div",{className:"p-6",children:l.jsx(StudentDetails,{student:G,onEdit:()=>{M(!1),$(!0)},onStatusUpdate:handleStatusUpdate,onDelete:handleDelete,isSubmitting:K})})})]})}let StudentForm=({student:e,departments:s,onSubmit:t,onCancel:a,isSubmitting:n})=>{let[i,d]=(0,r.useState)({firstName:e?.first_name||"",lastName:e?.last_name||"",email:e?.email||"",password:"",departmentId:e?.department_id||"",phone:e?.phone||"",address:e?.address||"",dateOfBirth:e?.date_of_birth||"",gender:e?.gender||"",enrollmentYear:e?.enrollment_year||new Date().getFullYear(),enrollmentDate:e?.enrollment_date||"",status:e?.status||"active"}),handleChange=(e,s)=>{d(t=>({...t,[e]:s}))};return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(i)},className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx(g.Z,{type:"text",value:i.firstName,onChange:e=>handleChange("firstName",e.target.value),required:!0,className:"w-full",placeholder:"Enter first name"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx(g.Z,{type:"text",value:i.lastName,onChange:e=>handleChange("lastName",e.target.value),required:!0,className:"w-full",placeholder:"Enter last name"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx(g.Z,{type:"email",value:i.email,onChange:e=>handleChange("email",e.target.value),required:!0,className:"w-full",placeholder:"Enter email address"})]}),!e&&(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),l.jsx(g.Z,{type:"password",value:i.password,onChange:e=>handleChange("password",e.target.value),required:!e,className:"w-full",placeholder:"Enter password"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),(0,l.jsxs)(b.Z,{value:i.departmentId,onChange:e=>handleChange("departmentId",e.target.value),required:!0,className:"w-full",children:[l.jsx("option",{value:"",children:"Select Department"}),s.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,l.jsxs)(b.Z,{value:i.status,onChange:e=>handleChange("status",e.target.value),className:"w-full",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"suspended",children:"Suspended"}),l.jsx("option",{value:"graduated",children:"Graduated"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx(g.Z,{type:"tel",value:i.phone,onChange:e=>handleChange("phone",e.target.value),className:"w-full",placeholder:"Enter phone number"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,l.jsxs)(b.Z,{value:i.gender,onChange:e=>handleChange("gender",e.target.value),className:"w-full",children:[l.jsx("option",{value:"",children:"Select Gender"}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"other",children:"Other"})]})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l.jsx(g.Z,{type:"text",value:i.address,onChange:e=>handleChange("address",e.target.value),className:"w-full",placeholder:"Enter address"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),l.jsx(g.Z,{type:"date",value:i.dateOfBirth,onChange:e=>handleChange("dateOfBirth",e.target.value),className:"w-full"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Year"}),l.jsx(g.Z,{type:"number",value:i.enrollmentYear,onChange:e=>handleChange("enrollmentYear",e.target.value),className:"w-full",min:"2000",max:"2030"})]})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[l.jsx(h.Z,{type:"button",variant:"outline",onClick:a,disabled:n,className:"px-6",children:"Cancel"}),l.jsx(h.Z,{type:"submit",disabled:n,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6",children:n?(0,l.jsxs)(l.Fragment,{children:[l.jsx(p.Z,{className:"w-4 h-4 mr-2"}),e?"Updating...":"Creating..."]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(c.mW3,{className:"w-4 h-4 mr-2"}),e?"Update Student":"Create Student"]})})]})]})},StudentDetails=({student:e,onEdit:s,onStatusUpdate:t,onDelete:a,isSubmitting:r})=>(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4 pb-6 border-b border-gray-200",children:[l.jsx(StudentAvatar,{firstName:e.first_name,lastName:e.last_name,email:e.email}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:[e.first_name," ",e.last_name]}),(0,l.jsxs)("p",{className:"text-gray-600 flex items-center mt-1",children:[l.jsx(c.Imn,{className:"w-4 h-4 mr-2"}),e.email]}),l.jsx("div",{className:"mt-2",children:l.jsx(StatusBadge,{status:e.status})})]}),l.jsx("div",{className:"flex space-x-2",children:(0,l.jsxs)(h.Z,{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[l.jsx(c.IYd,{className:"w-4 h-4 mr-2"}),"Edit"]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Student ID"}),l.jsx("p",{className:"text-gray-900 font-mono",children:e.student_id||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),l.jsx("p",{className:"text-gray-900",children:e.phone||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),l.jsx("p",{className:"text-gray-900 capitalize",children:e.gender||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),l.jsx("p",{className:"text-gray-900",children:e.date_of_birth||"N/A"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Academic Information"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Department"}),l.jsx("p",{className:"text-gray-900",children:e.department_name||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Enrollment Year"}),l.jsx("p",{className:"text-gray-900",children:e.enrollment_year||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Current Year"}),l.jsx("p",{className:"text-gray-900",children:e.current_year||"N/A"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Enrollment Date"}),l.jsx("p",{className:"text-gray-900",children:e.enrollment_date||"N/A"})]})]})]})]}),e.address&&(0,l.jsxs)("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),l.jsx("p",{className:"text-gray-900 mt-1",children:e.address})]}),(0,l.jsxs)("div",{className:"pt-6 border-t border-gray-200",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:["active"!==e.status&&(0,l.jsxs)(h.Z,{onClick:()=>t(e.id,"active"),disabled:r,className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(c.tMu,{className:"w-4 h-4 mr-2"}),"Activate"]}),"suspended"!==e.status&&(0,l.jsxs)(h.Z,{onClick:()=>t(e.id,"suspended"),disabled:r,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[l.jsx(c.pBC,{className:"w-4 h-4 mr-2"}),"Suspend"]}),"inactive"!==e.status&&(0,l.jsxs)(h.Z,{onClick:()=>t(e.id,"inactive"),disabled:r,variant:"outline",className:"border-gray-300 text-gray-600 hover:bg-gray-50",children:[l.jsx(c.pBC,{className:"w-4 h-4 mr-2"}),"Deactivate"]}),(0,l.jsxs)(h.Z,{onClick:()=>a(e.id),disabled:r,variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:[l.jsx(c.Ybf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]});a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9783:e=>{e.exports=import("@fortawesome/free-solid-svg-icons")},3803:e=>{e.exports=import("@fortawesome/react-fontawesome")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[7689,1163,9801,4608,9209,8450,6422,4082,8397,9175,5822,897,1095,4065],()=>__webpack_exec__(7339));module.exports=t})();