"use strict";(()=>{var e={};e.id=66,e.ids=[66,2888,660],e.modules={2034:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>f,default:()=>o,getServerSideProps:()=>g,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>j,routeModule:()=>_,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>p});var r=t(7093),l=t(5244),i=t(1323),n=t(9209),c=t.n(n),d=t(8397),m=t(4980),x=e([d,m]);[d,m]=x.then?(await x)():x;let o=(0,i.l)(m,"default"),u=(0,i.l)(m,"getStaticProps"),h=(0,i.l)(m,"getStaticPaths"),g=(0,i.l)(m,"getServerSideProps"),f=(0,i.l)(m,"config"),j=(0,i.l)(m,"reportWebVitals"),p=(0,i.l)(m,"unstable_getStaticProps"),N=(0,i.l)(m,"unstable_getStaticPaths"),b=(0,i.l)(m,"unstable_getStaticParams"),v=(0,i.l)(m,"unstable_getServerProps"),y=(0,i.l)(m,"unstable_getServerSideProps"),_=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/admin/users/[id]",pathname:"/admin/users/[id]",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:m});a()}catch(e){a(e)}})},7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:r="",...l})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${r}`,...l,children:e})},6761:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{a:()=>useAuth});var r=t(6689),l=t(8786),i=e([l]);l=(i.then?(await i)():i)[0];let useAuth=()=>{let e=(0,r.useContext)(l.ZP);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},4980:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(1163),n=t(6761),c=t(8303),d=t(4082),m=t(6422),x=t(9180),o=t(4105);t(7014);var u=t(6893),h=e([n,c,d,m]);[n,c,d,m]=h.then?(await h)():h;let __WEBPACK_DEFAULT_EXPORT__=()=>{var e;let{user:s,isAuthenticated:t}=(0,n.a)(),a=(0,i.useRouter)(),{id:h}=a.query,[g,f]=(0,l.useState)(null),[j,p]=(0,l.useState)(!0),[N,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!t||s?.role!=="admin"){a.push("/dashboard");return}},[t,s,a]),(0,l.useEffect)(()=>{let fetchUserDetails=async()=>{if(h)try{p(!0);let e=await c.Sb.getUserById(h);f(e.data),b(null)}catch(e){b("Failed to load user details")}finally{p(!1)}};t&&s?.role==="admin"&&fetchUserDetails()},[h,t,s]);let formatDate=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not provided";if(!t||s?.role!=="admin")return null;if(j)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(d.default,{}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(m.default,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:r.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-6"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[r.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),r.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})]})]})]})})})]})]});if(N||!g)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(d.default,{}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(m.default,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:r.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(u.fzv,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"User Not Found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:N||"The requested user could not be found."}),r.jsx(x.Z,{variant:"primary",onClick:()=>a.push("/admin/users"),icon:u.Ao2,children:"Back to Users"})]})})})]})]});let v=(e=>{let s={admin:u.bfl,hod:u.bfl,teacher:u.fzv,finance:u.bAx,student:u.fzv};return s[e]||u.fzv})(g.role),y=(e=>{let s={active:u._rq,inactive:u.$Rx,suspended:u.bcx,pending:u.TCC};return s[e]||u.TCC})(g.status||"active");return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(d.default,{}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(m.default,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(x.Z,{variant:"outline",size:"sm",icon:u.Ao2,onClick:()=>a.push("/admin/users"),className:"mr-4",children:"Back"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[g.first_name," ",g.last_name]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"User Details"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(x.Z,{variant:"primary",icon:u.vPQ,onClick:()=>a.push(`/admin/users/${g.id}/edit`),children:"Edit User"}),r.jsx(x.Z,{variant:"danger",icon:u.Ybf,onClick:()=>{confirm("Are you sure you want to delete this user?")},children:"Delete"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[r.jsx(o.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-6",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-2xl font-bold text-white",children:[g.first_name?.[0],g.last_name?.[0]]})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[g.first_name," ",g.last_name]}),(0,r.jsxs)("div",{className:`flex items-center px-3 py-1 rounded-full ${{admin:"text-red-600 bg-red-100",hod:"text-orange-600 bg-orange-100",teacher:"text-blue-600 bg-blue-100",finance:"text-green-600 bg-green-100",student:"text-purple-600 bg-purple-100"}[g.role]||"text-gray-600 bg-gray-100"}`,children:[r.jsx(v,{className:"w-4 h-4 mr-1"}),r.jsx("span",{className:"text-sm font-medium capitalize",children:g.role})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(u.Imn,{className:"w-4 h-4 mr-1"}),g.email]}),g.phone&&(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(u.tUt,{className:"w-4 h-4 mr-1"}),g.phone]})]}),g.address&&(0,r.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[r.jsx(u.i63,{className:"w-4 h-4 mr-1"}),g.address]})]})]})}),(0,r.jsxs)(o.Z,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Personal Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Date of Birth"}),r.jsx("p",{className:"text-gray-900",children:formatDate(g.date_of_birth)})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Gender"}),r.jsx("p",{className:"text-gray-900 capitalize",children:g.gender||"Not specified"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Department"}),r.jsx("p",{className:"text-gray-900",children:g.department_name||"Not assigned"})]}),"student"===g.role&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Student ID"}),r.jsx("p",{className:"text-gray-900 font-mono",children:g.student_id||"Not assigned"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Enrollment Year"}),r.jsx("p",{className:"text-gray-900",children:g.enrollment_year||"Not specified"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Current Year"}),r.jsx("p",{className:"text-gray-900",children:g.current_year||"Not specified"})]})]}),["teacher","hod","finance","admin"].includes(g.role)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Staff ID"}),r.jsx("p",{className:"text-gray-900 font-mono",children:g.staff_id||"Not assigned"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Hire Date"}),r.jsx("p",{className:"text-gray-900",children:formatDate(g.hire_date)})]}),g.qualifications&&(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Qualifications"}),r.jsx("p",{className:"text-gray-900",children:g.qualifications})]})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.Z,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Status"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),(0,r.jsxs)("div",{className:`flex items-center ${{active:"text-green-600",inactive:"text-gray-600",suspended:"text-red-600",pending:"text-yellow-600"}[g.status||"active"]||"text-gray-600"}`,children:[r.jsx(y,{className:"w-4 h-4 mr-1"}),r.jsx("span",{className:"text-sm font-medium capitalize",children:g.status||"active"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Last Login"}),r.jsx("span",{className:"text-sm text-gray-900",children:(e=g.last_login)?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Created"}),r.jsx("span",{className:"text-sm text-gray-900",children:formatDate(g.created_at)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Updated"}),r.jsx("span",{className:"text-sm text-gray-900",children:formatDate(g.updated_at)})]})]})]}),(0,r.jsxs)(o.Z,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(x.Z,{variant:"outline",className:"w-full justify-start",icon:u.Imn,children:"Send Email"}),r.jsx(x.Z,{variant:"outline",className:"w-full justify-start",icon:u.bAx,children:"View Activity Log"}),r.jsx(x.Z,{variant:"outline",className:"w-full justify-start",icon:u.bfl,children:"Reset Password"})]})]})]})]})]})})]})]})};a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9783:e=>{e.exports=import("@fortawesome/free-solid-svg-icons")},3803:e=>{e.exports=import("@fortawesome/react-fontawesome")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[7689,1163,9801,4608,9209,8450,6422,4082,8397],()=>__webpack_exec__(2034));module.exports=t})();