"use strict";(()=>{var e={};e.id=6013,e.ids=[6013,2888,660],e.modules={8227:()=>{},919:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{config:()=>g,default:()=>x,getServerSideProps:()=>j,getStaticPaths:()=>u,getStaticProps:()=>h,reportWebVitals:()=>p,routeModule:()=>y,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var l=a(7093),r=a(5244),i=a(1323),n=a(9209),c=a.n(n),d=a(8397),o=a(6297),m=e([d,o]);[d,o]=m.then?(await m)():m;let x=(0,i.l)(o,"default"),h=(0,i.l)(o,"getStaticProps"),u=(0,i.l)(o,"getStaticPaths"),j=(0,i.l)(o,"getServerSideProps"),g=(0,i.l)(o,"config"),p=(0,i.l)(o,"reportWebVitals"),f=(0,i.l)(o,"unstable_getStaticProps"),b=(0,i.l)(o,"unstable_getStaticPaths"),v=(0,i.l)(o,"unstable_getStaticParams"),_=(0,i.l)(o,"unstable_getServerProps"),N=(0,i.l)(o,"unstable_getServerSideProps"),y=new l.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/teacher/profile",pathname:"/teacher/profile",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});t()}catch(e){t(e)}})},7014:(e,s,a)=>{a.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var t=a(997);a(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:a="md",className:l="",...r})=>t.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[a]} ${l}`,...r,children:e})},6297:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=a(997),r=a(6689),i=a(6761),n=a(3242),c=a(8303),d=a(4082),o=a(6422),m=a(4105),x=a(9180),h=a(5822),u=a(9175),j=a(4549),g=a(7014),p=a(6208);a(1095);var f=a(6893),b=a(8227),v=e([i,c,d,o]);[i,c,d,o]=v.then?(await v)():v;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,i.a)(),[s,a]=(0,r.useState)("overview"),[t,v]=(0,r.useState)(!1),[_,N]=(0,r.useState)({}),[y,Z]=(0,r.useState)(null),[w,S]=(0,r.useState)("current"),{data:C,loading:P,error:k,refetch:A}=(0,n.h)(c.$o.getProfile),{data:T,loading:E,error:D}=(0,n.h)(c.$o.getClasses),{data:q,loading:z,execute:L}=(0,n.h)(()=>c.$o.getTimetable(w),[]),{data:W,loading:F,execute:$}=(0,n.h)(()=>c.$o.getAllStudents(),[]),{loading:K,execute:M}=(0,n.c)();(0,r.useEffect)(()=>{C&&N({first_name:C.first_name||"",last_name:C.last_name||"",email:C.email||"",department_id:C.department_id||""})},[C]),(0,r.useEffect)(()=>{L()},[w,L]),(0,r.useEffect)(()=>{"students"===s&&$()},[s,$]);let handleUpdateProfile=async()=>{try{await M(()=>c.$o.updateProfile(_)),await A(),v(!1)}catch(e){}},R=(()=>{let e=T?.length||0,s=W?.length||0,a=q?.filter(e=>{let s=new Date().toLocaleDateString("en-US",{weekday:"long"});return e.day_of_week?.toLowerCase()===s.toLowerCase()})?.length||0,t=[...new Set(T?.map(e=>e.name)||[])].length;return{totalClasses:e,totalStudents:s,todaySchedule:a,subjects:t}})();if(!e||"teacher"!==e.role)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(u.Z,{variant:"error",children:"Access denied. Teacher access required."})});let U=[{id:"overview",label:"Overview",icon:f.fzv},{id:"classes",label:"My Classes",icon:f.yK7},{id:"schedule",label:"Schedule",icon:f.vlc},{id:"students",label:"Students",icon:f.WY8}];return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(d.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(o.default,{}),(0,l.jsxs)("main",{className:"flex-1 p-6",children:[l.jsx("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Teacher Profile"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your profile and view your teaching information"})]}),l.jsx(x.Z,{variant:"primary",icon:t?f.q5L:f.vPQ,onClick:()=>v(!t),children:t?"Cancel":"Edit Profile"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(m.Z,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(f.yK7,{className:"w-8 h-8 mr-3"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-blue-100",children:"Total Classes"}),l.jsx("p",{className:"text-2xl font-bold",children:R.totalClasses})]})]})}),l.jsx(m.Z,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(f.WY8,{className:"w-8 h-8 mr-3"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-green-100",children:"Total Students"}),l.jsx("p",{className:"text-2xl font-bold",children:R.totalStudents})]})]})}),l.jsx(m.Z,{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(f.TCC,{className:"w-8 h-8 mr-3"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-purple-100",children:"Today's Classes"}),l.jsx("p",{className:"text-2xl font-bold",children:R.todaySchedule})]})]})}),l.jsx(m.Z,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx(f.hbr,{className:"w-8 h-8 mr-3"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-orange-100",children:"Subjects"}),l.jsx("p",{className:"text-2xl font-bold",children:R.subjects})]})]})})]}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:U.map(e=>{let t=e.icon;return(0,l.jsxs)("button",{onClick:()=>a(e.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${s===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),"overview"===s&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:l.jsx(m.Z.Title,{children:"Profile Information"})}),l.jsx(m.Z.Content,{children:P?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(j.Z,{size:"lg"})}):k?l.jsx(u.Z,{variant:"error",children:k}):(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(h.Z,{label:"First Name",value:_.first_name,onChange:e=>N({..._,first_name:e.target.value}),disabled:!t,icon:f.fzv}),l.jsx(h.Z,{label:"Last Name",value:_.last_name,onChange:e=>N({..._,last_name:e.target.value}),disabled:!t,icon:f.fzv}),l.jsx(h.Z,{label:"Email",type:"email",value:_.email,onChange:e=>N({..._,email:e.target.value}),disabled:!t,icon:f.fzv}),l.jsx(h.Z,{label:"Department ID",type:"number",value:_.department_id,onChange:e=>N({..._,department_id:parseInt(e.target.value)}),disabled:!t,icon:b.FiGraduationCap})]})}),t&&l.jsx(m.Z.Footer,{children:(0,l.jsxs)("div",{className:"flex justify-end space-x-3",children:[l.jsx(x.Z,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),l.jsx(x.Z,{variant:"primary",icon:f.mW3,loading:K,onClick:handleUpdateProfile,children:"Save Changes"})]})})]}),(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:l.jsx(m.Z.Title,{children:"Quick Actions"})}),l.jsx(m.Z.Content,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(x.Z,{variant:"outline",icon:f.j4u,href:"/teacher/attendance",className:"h-20 flex-col",children:l.jsx("span",{className:"mt-2",children:"Mark Attendance"})}),l.jsx(x.Z,{variant:"outline",icon:f.HR2,href:"/teacher/grades",className:"h-20 flex-col",children:l.jsx("span",{className:"mt-2",children:"Enter Grades"})}),l.jsx(x.Z,{variant:"outline",icon:f.DKx,href:"/teacher/analytics",className:"h-20 flex-col",children:l.jsx("span",{className:"mt-2",children:"View Analytics"})})]})})]})]}),"classes"===s&&(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:l.jsx(m.Z.Title,{children:"My Classes"})}),l.jsx(m.Z.Content,{children:E?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(j.Z,{size:"lg"})}):D?l.jsx(u.Z,{variant:"error",children:D}):T&&T.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(e=>l.jsx(m.Z,{hover:!0,className:"border-l-4 border-l-blue-500",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:e.name}),l.jsx("p",{className:"text-gray-600 text-sm",children:e.department_name}),(0,l.jsxs)(g.Z,{variant:"primary",className:"mt-2",children:["Course ID: ",e.id]})]}),l.jsx(x.Z,{variant:"ghost",size:"sm",icon:f.rDJ,onClick:()=>Z(e),children:"View"})]})},e.id))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(f.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No classes assigned yet"})]})})]}),"schedule"===s&&(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx(m.Z.Title,{children:"Teaching Schedule"}),(0,l.jsxs)("select",{value:w,onChange:e=>S(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[l.jsx("option",{value:"current",children:"Current Semester"}),l.jsx("option",{value:"fall",children:"Fall Semester"}),l.jsx("option",{value:"spring",children:"Spring Semester"}),l.jsx("option",{value:"summer",children:"Summer Semester"})]})]})}),l.jsx(m.Z.Content,{children:z?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(j.Z,{size:"lg"})}):q&&q.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsx(p.Z,{columns:[{key:"day_of_week",label:"Day"},{key:"start_time",label:"Start Time"},{key:"end_time",label:"End Time"},{key:"course_name",label:"Course"},{key:"class_name",label:"Class"},{key:"room",label:"Room"}],data:q.map(e=>({...e,day_of_week:e.day_of_week||"N/A",start_time:e.start_time||"N/A",end_time:e.end_time||"N/A",course_name:e.course_name||"N/A",class_name:e.class_name||"N/A",room:e.room||"N/A"}))})}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(f.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No schedule available for selected semester"})]})})]}),"students"===s&&(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:l.jsx(m.Z.Title,{children:"My Students"})}),l.jsx(m.Z.Content,{children:F?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(j.Z,{size:"lg"})}):W&&W.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsx(p.Z,{columns:[{key:"first_name",label:"First Name"},{key:"last_name",label:"Last Name"},{key:"email",label:"Email"},{key:"course_name",label:"Course"},{key:"student_id",label:"Student ID"}],data:W.map(e=>({first_name:e.first_name||"N/A",last_name:e.last_name||"N/A",email:e.email||"N/A",course_name:e.course_name||"N/A",student_id:e.student_id||e.id||"N/A"}))})}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(f.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No students found"})]})})]})]})]})]})};t()}catch(e){t(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9783:e=>{e.exports=import("@fortawesome/free-solid-svg-icons")},3803:e=>{e.exports=import("@fortawesome/react-fontawesome")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[7689,1163,9801,4608,9209,8450,6422,4082,8397,9175,984,5822,6208,1095],()=>__webpack_exec__(919));module.exports=a})();