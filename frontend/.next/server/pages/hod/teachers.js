"use strict";(()=>{var e={};e.id=8141,e.ids=[8141,2888,660],e.modules={248:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>g,default:()=>h,getServerSideProps:()=>j,getStaticPaths:()=>u,getStaticProps:()=>o,reportWebVitals:()=>p,routeModule:()=>_,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>f});var r=t(7093),l=t(5244),i=t(1323),n=t(9209),c=t.n(n),d=t(8397),x=t(7712),m=e([d,x]);[d,x]=m.then?(await m)():m;let h=(0,i.l)(x,"default"),o=(0,i.l)(x,"getStaticProps"),u=(0,i.l)(x,"getStaticPaths"),j=(0,i.l)(x,"getServerSideProps"),g=(0,i.l)(x,"config"),p=(0,i.l)(x,"reportWebVitals"),f=(0,i.l)(x,"unstable_getStaticProps"),v=(0,i.l)(x,"unstable_getStaticPaths"),N=(0,i.l)(x,"unstable_getStaticParams"),y=(0,i.l)(x,"unstable_getServerProps"),b=(0,i.l)(x,"unstable_getServerSideProps"),_=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/hod/teachers",pathname:"/hod/teachers",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:x});a()}catch(e){a(e)}})},7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:r="",...l})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${r}`,...l,children:e})},7712:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(968),n=t.n(i),c=t(6761),d=t(3242),x=t(3240),m=t(4082),h=t(6422),o=t(4105),u=t(6208),j=t(7014),g=t(9180),p=t(9175),f=t(4549),v=t(5822),N=t(6893),y=e([c,x,m,h]);[c,x,m,h]=y.then?(await y)():y;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,c.a)(),[s,t]=(0,l.useState)(""),[a,i]=(0,l.useState)("all"),[y,b]=(0,l.useState)(!1),{data:_,loading:w,error:Z,refetch:S}=(0,d.h)(x.pW.getDepartmentTeachers);if(!e||"hod"!==e.role)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(p.Z,{variant:"error",children:"Access denied. HOD access required."})});let handleRefresh=async()=>{b(!0);try{await S()}catch(e){}finally{b(!1)}},P=_?.filter(e=>{let t=!s||`${e.first_name} ${e.last_name}`.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.staff_id?.toLowerCase().includes(s.toLowerCase()),r="all"===a||e.status===a;return t&&r})||[],getStatusBadge=e=>{switch(e){case"active":return r.jsx(j.Z,{variant:"success",size:"sm",children:"Active"});case"inactive":return r.jsx(j.Z,{variant:"warning",size:"sm",children:"Inactive"});case"suspended":return r.jsx(j.Z,{variant:"danger",size:"sm",children:"Suspended"});default:return r.jsx(j.Z,{variant:"default",size:"sm",children:e})}},formatDate=e=>e?new Date(e).toLocaleDateString():"N/A";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n(),{children:[r.jsx("title",{children:"Teachers Management - HOD Dashboard"}),r.jsx("meta",{name:"description",content:"Manage department teachers and staff"})]}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(m.Z,{}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(h.Z,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Teachers Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and oversee your department teachers"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(g.Z,{variant:"outline",size:"sm",onClick:handleRefresh,loading:y,icon:N.Bw1,children:"Refresh"}),r.jsx(g.Z,{variant:"outline",size:"sm",icon:N._hL,children:"Export"})]})]}),Z&&(0,r.jsxs)(p.Z,{variant:"error",className:"mb-6",children:["Error loading teachers: ",Z.message]}),r.jsx(o.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(v.Z,{placeholder:"Search teachers by name, email, or staff ID...",value:s,onChange:e=>t(e.target.value),icon:N.jRj})}),r.jsx("div",{className:"sm:w-48",children:(0,r.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-primary-light focus:border-primary-light sm:text-sm px-3 py-2",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"}),r.jsx("option",{value:"suspended",children:"Suspended"})]})})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(o.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-blue-50",children:r.jsx(N.WY8,{className:"w-6 h-6 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teachers"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w?"...":_?.length||0})]})]})}),r.jsx(o.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:r.jsx(N.WY8,{className:"w-6 h-6 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w?"...":_?.filter(e=>"active"===e.status).length||0})]})]})}),r.jsx(o.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-yellow-50",children:r.jsx(N.WY8,{className:"w-6 h-6 text-yellow-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w?"...":_?.filter(e=>"inactive"===e.status).length||0})]})]})}),r.jsx(o.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-red-50",children:r.jsx(N.WY8,{className:"w-6 h-6 text-red-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:w?"...":_?.filter(e=>"suspended"===e.status).length||0})]})]})})]}),(0,r.jsxs)(o.Z,{className:"overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Department Teachers"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[P.length," of ",_?.length||0," teachers"]})]})}),w?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(f.Z,{size:"lg"})}):P.length>0?(0,r.jsxs)(u.Z,{children:[r.jsx(u.Z.Header,{children:(0,r.jsxs)(u.Z.Row,{children:[r.jsx(u.Z.Head,{children:"Teacher"}),r.jsx(u.Z.Head,{children:"Staff ID"}),r.jsx(u.Z.Head,{children:"Contact"}),r.jsx(u.Z.Head,{children:"Hire Date"}),r.jsx(u.Z.Head,{children:"Status"}),r.jsx(u.Z.Head,{children:"Actions"})]})}),r.jsx(u.Z.Body,{children:P.map(e=>(0,r.jsxs)(u.Z.Row,{children:[r.jsx(u.Z.Cell,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(N.WY8,{className:"w-5 h-5 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),r.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),r.jsx(u.Z.Cell,{children:r.jsx("span",{className:"text-sm text-gray-900",children:e.staff_id||"N/A"})}),r.jsx(u.Z.Cell,{children:(0,r.jsxs)("div",{className:"text-sm text-gray-900",children:[e.phone&&(0,r.jsxs)("div",{className:"flex items-center mb-1",children:[r.jsx(N.tUt,{className:"w-4 h-4 text-gray-400 mr-1"}),e.phone]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(N.Imn,{className:"w-4 h-4 text-gray-400 mr-1"}),e.email]})]})}),r.jsx(u.Z.Cell,{children:(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(N.vlc,{className:"w-4 h-4 text-gray-400 mr-1"}),formatDate(e.hire_date)]})}),r.jsx(u.Z.Cell,{children:getStatusBadge(e.status)}),r.jsx(u.Z.Cell,{children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(g.Z,{variant:"outline",size:"sm",icon:N.rDJ,children:"View"})})})]},e.id))})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(N.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No teachers found"}),r.jsx("p",{className:"text-gray-500",children:s||"all"!==a?"Try adjusting your search or filter criteria.":"No teachers are assigned to your department yet."})]})]})]})})]})]})]})};a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[7689,1163,9801,4608,9209,8450,9142,9175,3242,8397,6208,5822],()=>__webpack_exec__(248));module.exports=t})();