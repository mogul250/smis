"use strict";(()=>{var e={};e.id=5595,e.ids=[5595,2888,660],e.modules={4509:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>g,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>j,routeModule:()=>C,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>y});var r=t(7093),l=t(5244),i=t(1323),n=t(9209),c=t.n(n),d=t(8397),o=t(9095),x=e([d,o]);[d,o]=x.then?(await x)():x;let m=(0,i.l)(o,"default"),u=(0,i.l)(o,"getStaticProps"),h=(0,i.l)(o,"getStaticPaths"),p=(0,i.l)(o,"getServerSideProps"),g=(0,i.l)(o,"config"),j=(0,i.l)(o,"reportWebVitals"),y=(0,i.l)(o,"unstable_getStaticProps"),f=(0,i.l)(o,"unstable_getStaticPaths"),v=(0,i.l)(o,"unstable_getStaticParams"),b=(0,i.l)(o,"unstable_getServerProps"),N=(0,i.l)(o,"unstable_getServerSideProps"),C=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/hod/courses",pathname:"/hod/courses",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});a()}catch(e){a(e)}})},7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:r="",...l})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${r}`,...l,children:e})},9095:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(968),n=t.n(i),c=t(6761),d=t(3242),o=t(8303),x=t(4082),m=t(6422),u=t(4105),h=t(6208),p=t(7014),g=t(9180),j=t(9175),y=t(4549),f=t(5822),v=t(6893),b=e([c,o,x,m]);[c,o,x,m]=b.then?(await b)():b;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,c.a)(),[s,t]=(0,l.useState)(""),[a,i]=(0,l.useState)(!1),[b,N]=(0,l.useState)(null),[C,_]=(0,l.useState)(!1),[w,Z]=(0,l.useState)({name:"",course_code:"",credits:"",description:"",semester:"",year:""}),{data:S,loading:P,error:E,refetch:A}=(0,d.h)(()=>Promise.resolve([])),{execute:D,loading:q}=(0,d.c)(o.pW.manageCourses);if(!e||"hod"!==e.role)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(j.Z,{variant:"error",children:"Access denied. HOD access required."})});let handleRefresh=async()=>{_(!0);try{await A()}catch(e){}finally{_(!1)}},handleInputChange=e=>{let{name:s,value:t}=e.target;Z(e=>({...e,[s]:t}))},handleAddCourse=async e=>{e.preventDefault();try{await D({action:"add",courseData:w}),i(!1),Z({name:"",course_code:"",credits:"",description:"",semester:"",year:""}),await A()}catch(e){}},handleEditCourse=async e=>{e.preventDefault();try{await D({action:"edit",courseData:{...w,id:b.id}}),N(null),Z({name:"",course_code:"",credits:"",description:"",semester:"",year:""}),await A()}catch(e){}},handleDeleteCourse=async e=>{if(window.confirm("Are you sure you want to delete this course?"))try{await D({action:"delete",courseData:{id:e}}),await A()}catch(e){}},startEditing=e=>{N(e),Z({name:e.name,course_code:e.course_code,credits:e.credits.toString(),description:e.description||"",semester:e.semester||"",year:e.year?.toString()||""})},cancelEditing=()=>{N(null),Z({name:"",course_code:"",credits:"",description:"",semester:"",year:""})},k=S?.filter(e=>{let t=!s||e.name.toLowerCase().includes(s.toLowerCase())||e.course_code.toLowerCase().includes(s.toLowerCase());return t})||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n(),{children:[r.jsx("title",{children:"Course Management - HOD Dashboard"}),r.jsx("meta",{name:"description",content:"Manage department courses and curriculum"})]}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(x.default,{}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(m.default,{}),r.jsx("main",{className:"flex-1 overflow-auto",children:(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Course Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your department's courses and curriculum"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(g.Z,{variant:"outline",size:"sm",onClick:handleRefresh,loading:C,icon:v.Bw1,children:"Refresh"}),r.jsx(g.Z,{variant:"primary",size:"sm",onClick:()=>i(!0),icon:v.OvN,children:"Add Course"})]})]}),E&&(0,r.jsxs)(j.Z,{variant:"error",className:"mb-6",children:["Error loading courses: ",E.message]}),r.jsx(u.Z,{className:"p-6",children:r.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:r.jsx("div",{className:"flex-1",children:r.jsx(f.Z,{placeholder:"Search courses by name or code...",value:s,onChange:e=>t(e.target.value),icon:v.jRj})})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(u.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-blue-50",children:r.jsx(v.yK7,{className:"w-6 h-6 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:P?"...":S?.length||0})]})]})}),r.jsx(u.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:r.jsx(v.WY8,{className:"w-6 h-6 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Courses"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:P?"...":S?.filter(e=>"active"===e.status).length||0})]})]})}),r.jsx(u.Z,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-purple-50",children:r.jsx(v.TCC,{className:"w-6 h-6 text-purple-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Credits"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:P?"...":S?.reduce((e,s)=>e+(s.credits||0),0)||0})]})]})})]}),(0,r.jsxs)(u.Z,{className:"overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Department Courses"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[k.length," of ",S?.length||0," courses"]})]})}),P?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(y.Z,{size:"lg"})}):k.length>0?(0,r.jsxs)(h.Z,{children:[r.jsx(h.Z.Header,{children:(0,r.jsxs)(h.Z.Row,{children:[r.jsx(h.Z.Head,{children:"Course"}),r.jsx(h.Z.Head,{children:"Code"}),r.jsx(h.Z.Head,{children:"Credits"}),r.jsx(h.Z.Head,{children:"Semester"}),r.jsx(h.Z.Head,{children:"Status"}),r.jsx(h.Z.Head,{children:"Actions"})]})}),r.jsx(h.Z.Body,{children:k.map(e=>(0,r.jsxs)(h.Z.Row,{children:[r.jsx(h.Z.Cell,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(v.yK7,{className:"w-5 h-5 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("div",{className:"text-sm text-gray-500",children:e.description})]})]})}),r.jsx(h.Z.Cell,{children:r.jsx("span",{className:"text-sm font-mono text-gray-900",children:e.course_code})}),r.jsx(h.Z.Cell,{children:r.jsx("span",{className:"text-sm text-gray-900",children:e.credits})}),r.jsx(h.Z.Cell,{children:r.jsx("span",{className:"text-sm text-gray-900",children:e.semester||"N/A"})}),r.jsx(h.Z.Cell,{children:r.jsx(p.Z,{variant:"active"===e.status?"success":"default",size:"sm",children:e.status||"Active"})}),r.jsx(h.Z.Cell,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(g.Z,{variant:"outline",size:"sm",icon:v.vPQ,onClick:()=>startEditing(e),children:"Edit"}),r.jsx(g.Z,{variant:"outline",size:"sm",icon:v.Ybf,onClick:()=>handleDeleteCourse(e.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})})]},e.id))})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(v.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No courses found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:s?"Try adjusting your search criteria.":"No courses are available in your department yet."}),r.jsx(g.Z,{variant:"primary",onClick:()=>i(!0),icon:v.OvN,children:"Add First Course"})]})]}),(a||b)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b?"Edit Course":"Add New Course"}),r.jsx(g.Z,{variant:"ghost",size:"sm",onClick:()=>{i(!1),cancelEditing()},icon:v.q5L})]})}),(0,r.jsxs)("form",{onSubmit:b?handleEditCourse:handleAddCourse,className:"p-6 space-y-4",children:[r.jsx(f.Z,{label:"Course Name",name:"name",value:w.name,onChange:handleInputChange,required:!0,placeholder:"Enter course name"}),r.jsx(f.Z,{label:"Course Code",name:"course_code",value:w.course_code,onChange:handleInputChange,required:!0,placeholder:"e.g., CS101"}),r.jsx(f.Z,{label:"Credits",name:"credits",type:"number",value:w.credits,onChange:handleInputChange,required:!0,placeholder:"Enter credit hours",min:"1",max:"10"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:w.description,onChange:handleInputChange,rows:3,className:"block w-full border border-gray-300 rounded-md shadow-sm focus:ring-primary-light focus:border-primary-light sm:text-sm px-3 py-2",placeholder:"Enter course description"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(f.Z,{label:"Semester",name:"semester",value:w.semester,onChange:handleInputChange,placeholder:"e.g., Fall"}),r.jsx(f.Z,{label:"Year",name:"year",type:"number",value:w.year,onChange:handleInputChange,placeholder:"e.g., 2024",min:"2020",max:"2030"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(g.Z,{type:"button",variant:"outline",onClick:()=>{i(!1),cancelEditing()},children:"Cancel"}),r.jsx(g.Z,{type:"submit",variant:"primary",loading:q,icon:v.mW3,children:b?"Update Course":"Add Course"})]})]})]})})]})})]})]})]})};a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9783:e=>{e.exports=import("@fortawesome/free-solid-svg-icons")},3803:e=>{e.exports=import("@fortawesome/react-fontawesome")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[7689,1163,9801,4608,9209,8450,6422,4082,8397,9175,984,5822,6208],()=>__webpack_exec__(4509));module.exports=t})();