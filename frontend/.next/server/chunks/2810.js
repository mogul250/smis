"use strict";exports.id=2810,exports.ids=[2810],exports.modules={7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:l="",...r})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${l}`,...r,children:e})},2810:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),n=t.n(r),d=t(6761),c=t(3242),i=t(8303),x=t(4082),m=t(6422),h=t(4105),j=t(6208),o=t(7014),g=t(9175),u=t(4549),N=t(6893),v=e([d,i,x,m]);[d,i,x,m]=v.then?(await v)():v;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,d.a)(),[s,t]=(0,r.useState)("all"),[a,v]=(0,r.useState)("current"),{data:y,loading:f}=(0,c.h)(i.$o.getClasses),{data:p,loading:Z,execute:A}=(0,c.h)(()=>i.$o.getAnalytics({classId:s,period:a}),[]);if(n().useEffect(()=>{A()},[s,a,A]),!e||"teacher"!==e.role)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(g.Z,{variant:"error",children:"Access denied. Teacher access required."})});let getGradeBadgeVariant=e=>["A+","A","A-"].includes(e)?"success":["B+","B","B-"].includes(e)?"primary":["C+","C","C-"].includes(e)?"warning":"danger",getAttendanceColor=e=>e>=90?"text-green-600":e>=80?"text-yellow-600":"text-red-600";return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(x.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(m.default,{}),l.jsx("main",{className:"flex-1 p-6",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teaching Analytics"}),l.jsx("p",{className:"text-gray-600",children:"Analyze student performance and class statistics"})]}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),(0,l.jsxs)("select",{value:s,onChange:e=>t(e.target.value),className:"form-select",disabled:f,children:[l.jsx("option",{value:"all",children:"All Classes"}),y?.map(e=>l.jsxs("option",{value:e.id,children:[e.name," (",e.course_code,")"]},e.id))]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period"}),(0,l.jsxs)("select",{value:a,onChange:e=>v(e.target.value),className:"form-select",children:[l.jsx("option",{value:"current",children:"Current Semester"}),l.jsx("option",{value:"last30",children:"Last 30 Days"}),l.jsx("option",{value:"last90",children:"Last 90 Days"}),l.jsx("option",{value:"academic_year",children:"Academic Year"})]})]})]})}),Z?l.jsx(h.Z,{className:"flex justify-center py-12",children:l.jsx(u.Z,{size:"lg"})}):p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:l.jsx(N.WY8,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.totalStudents||0})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:l.jsx(N.QqI,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average GPA"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.averageGPA?p.averageGPA.toFixed(2):"N/A"})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:l.jsx(N.vlc,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Attendance"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.averageAttendance?`${p.averageAttendance.toFixed(1)}%`:"N/A"})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:l.jsx(N.HR2,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"A Grades"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.gradeDistribution?.A||0})]})]})})]}),p.gradeDistribution&&(0,l.jsxs)(h.Z,{children:[l.jsx(h.Z.Header,{children:l.jsx(h.Z.Title,{children:"Grade Distribution"})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.entries(p.gradeDistribution).map(([e,s])=>(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s}),l.jsx(o.Z,{variant:getGradeBadgeVariant(e),className:"mt-1",children:e})]},e))})]}),p.classPerformance&&p.classPerformance.length>0&&(0,l.jsxs)(h.Z,{children:[l.jsx(h.Z.Header,{children:l.jsx(h.Z.Title,{children:"Class Performance Summary"})}),(0,l.jsxs)(j.Z,{children:[l.jsx(j.Z.Header,{children:(0,l.jsxs)(j.Z.Row,{children:[l.jsx(j.Z.Head,{children:"Class"}),l.jsx(j.Z.Head,{children:"Students"}),l.jsx(j.Z.Head,{children:"Avg GPA"}),l.jsx(j.Z.Head,{children:"Avg Attendance"}),l.jsx(j.Z.Head,{children:"Top Grade"}),l.jsx(j.Z.Head,{children:"Lowest Grade"})]})}),l.jsx(j.Z.Body,{children:p.classPerformance.map((e,s)=>(0,l.jsxs)(j.Z.Row,{children:[(0,l.jsxs)(j.Z.Cell,{children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.className}),l.jsx("div",{className:"text-sm text-gray-500",children:e.courseCode})]}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"font-medium",children:e.studentCount})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"font-medium",children:e.averageGPA?e.averageGPA.toFixed(2):"N/A"})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:`font-medium ${getAttendanceColor(e.averageAttendance)}`,children:e.averageAttendance?`${e.averageAttendance.toFixed(1)}%`:"N/A"})}),l.jsx(j.Z.Cell,{children:e.topGrade&&l.jsx(o.Z,{variant:getGradeBadgeVariant(e.topGrade),children:e.topGrade})}),l.jsx(j.Z.Cell,{children:e.lowestGrade&&l.jsx(o.Z,{variant:getGradeBadgeVariant(e.lowestGrade),children:e.lowestGrade})})]},s))})]})]}),p.studentInsights&&p.studentInsights.length>0&&(0,l.jsxs)(h.Z,{children:[l.jsx(h.Z.Header,{children:l.jsx(h.Z.Title,{children:"Student Performance Insights"})}),(0,l.jsxs)(j.Z,{children:[l.jsx(j.Z.Header,{children:(0,l.jsxs)(j.Z.Row,{children:[l.jsx(j.Z.Head,{children:"Student"}),l.jsx(j.Z.Head,{children:"Class"}),l.jsx(j.Z.Head,{children:"Current Grade"}),l.jsx(j.Z.Head,{children:"Attendance"}),l.jsx(j.Z.Head,{children:"Trend"}),l.jsx(j.Z.Head,{children:"Status"})]})}),l.jsx(j.Z.Body,{children:p.studentInsights.map((e,s)=>(0,l.jsxs)(j.Z.Row,{children:[(0,l.jsxs)(j.Z.Cell,{children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.studentName}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.studentId]})]}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-gray-900",children:e.className})}),l.jsx(j.Z.Cell,{children:e.currentGrade&&l.jsx(o.Z,{variant:getGradeBadgeVariant(e.currentGrade),children:e.currentGrade})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:`font-medium ${getAttendanceColor(e.attendanceRate)}`,children:e.attendanceRate?`${e.attendanceRate.toFixed(1)}%`:"N/A"})}),l.jsx(j.Z.Cell,{children:(0,l.jsxs)("div",{className:"flex items-center",children:["improving"===e.trend?l.jsx(N.QqI,{className:"w-4 h-4 text-green-600 mr-1"}):"declining"===e.trend?l.jsx(N.QqI,{className:"w-4 h-4 text-red-600 mr-1 transform rotate-180"}):l.jsx(N.DKx,{className:"w-4 h-4 text-gray-400 mr-1"}),l.jsx("span",{className:"text-sm capitalize",children:e.trend||"stable"})]})}),l.jsx(j.Z.Cell,{children:l.jsx(o.Z,{variant:"excellent"===e.status?"success":"good"===e.status?"primary":"needs_attention"===e.status?"warning":"danger",children:e.status?.replace("_"," ")||"unknown"})})]},s))})]})]}),p.attendanceTrends&&p.attendanceTrends.length>0&&(0,l.jsxs)(h.Z,{children:[l.jsx(h.Z.Header,{children:l.jsx(h.Z.Title,{children:"Recent Attendance Trends"})}),l.jsx("div",{className:"space-y-4",children:p.attendanceTrends.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:e.date}),l.jsx("p",{className:"text-sm text-gray-600",children:e.className})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:[e.presentCount,"/",e.totalStudents]}),(0,l.jsxs)("div",{className:`text-sm ${getAttendanceColor(e.attendanceRate)}`,children:[e.attendanceRate.toFixed(1),"%"]})]})]},s))})]})]}):(0,l.jsxs)(h.Z,{className:"text-center py-12",children:[l.jsx(N.DKx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Data"}),l.jsx("p",{className:"text-gray-500",children:"Analytics data will appear here once you have classes with student data."})]})]})})]})]})};a()}catch(e){a(e)}})}};