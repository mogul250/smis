"use strict";exports.id=4423,exports.ids=[4423],exports.modules={4423:(e,s,a)=>{a.a(e,async(e,n)=>{try{a.r(s),a.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=a(997),t=a(6689),r=a.n(t),d=a(6761),c=a(3242),i=a(3240),x=a(4082),h=a(6422),m=a(4105),j=a(6208),o=a(9180),u=a(9175),g=a(4549),Z=a(6893),y=e([d,i,x,h]);[d,i,x,h]=y.then?(await y)():y;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,d.a)(),[s,a]=(0,t.useState)(null),[n,y]=(0,t.useState)(!1),{data:N,loading:f,error:p}=(0,c.h)(i.$o.getClasses),{data:v,loading:C,execute:w}=(0,c.h)(()=>i.$o.getClassStudents(s?.id),[]);if(r().useEffect(()=>{s&&n&&w()},[s,n,w]),!e||"teacher"!==e.role)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(u.Z,{variant:"error",children:"Access denied. Teacher access required."})});let handleViewStudents=e=>{a(e),y(!0)},handleMarkAttendance=e=>{window.location.href=`/teacher/attendance?class=${e.id}`},handleEnterGrades=e=>{window.location.href=`/teacher/grades?class=${e.id}`};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(x.Z,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(h.Z,{}),l.jsx("main",{className:"flex-1 p-6",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?`Students in ${s?.name}`:"My Classes"}),l.jsx("p",{className:"text-gray-600",children:n?"Manage students in this class":"Manage your assigned classes and students"})]}),n&&l.jsx(o.Z,{variant:"secondary",onClick:()=>{y(!1),a(null)},children:"Back to Classes"})]}),n?l.jsx(l.Fragment,{children:C?l.jsx(m.Z,{className:"flex justify-center py-12",children:l.jsx(g.Z,{size:"lg"})}):v&&v.length>0?(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx(m.Z.Title,{children:"Class Roster"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[l.jsx(o.Z,{variant:"primary",icon:Z.j4u,onClick:()=>handleMarkAttendance(s),children:"Mark Attendance"}),l.jsx(o.Z,{variant:"success",icon:Z.vPQ,onClick:()=>handleEnterGrades(s),children:"Enter Grades"})]})]})}),(0,l.jsxs)(j.Z,{children:[l.jsx(j.Z.Header,{children:(0,l.jsxs)(j.Z.Row,{children:[l.jsx(j.Z.Head,{children:"Student ID"}),l.jsx(j.Z.Head,{children:"Name"}),l.jsx(j.Z.Head,{children:"Email"}),l.jsx(j.Z.Head,{children:"Enrollment Year"}),l.jsx(j.Z.Head,{children:"Status"}),l.jsx(j.Z.Head,{children:"Actions"})]})}),l.jsx(j.Z.Body,{children:v.map((e,s)=>(0,l.jsxs)(j.Z.Row,{children:[l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"font-mono text-sm",children:e.id})}),l.jsx(j.Z.Cell,{children:(0,l.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-gray-600",children:e.email})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-gray-900",children:e.enrollment_year})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status})}),l.jsx(j.Z.Cell,{children:l.jsx(o.Z,{variant:"outline",size:"sm",icon:Z.rDJ,children:"View Profile"})})]},s))})]})]}):(0,l.jsxs)(m.Z,{className:"text-center py-12",children:[l.jsx(Z.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Enrolled"}),l.jsx("p",{className:"text-gray-500",children:"This class doesn't have any students enrolled yet."})]})}):l.jsx(l.Fragment,{children:f?l.jsx(m.Z,{className:"flex justify-center py-12",children:l.jsx(g.Z,{size:"lg"})}):p?(0,l.jsxs)(u.Z,{variant:"error",children:["Failed to load classes: ",p]}):N&&N.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:l.jsx(Z.yK7,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Classes"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.length})]})]})}),l.jsx(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:l.jsx(Z.WY8,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.reduce((e,s)=>e+(s.student_count||0),0)})]})]})}),l.jsx(m.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:l.jsx(Z.vlc,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Departments"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(N.map(e=>e.department_name)).size})]})]})})]}),(0,l.jsxs)(m.Z,{children:[l.jsx(m.Z.Header,{children:l.jsx(m.Z.Title,{children:"Assigned Classes"})}),(0,l.jsxs)(j.Z,{children:[l.jsx(j.Z.Header,{children:(0,l.jsxs)(j.Z.Row,{children:[l.jsx(j.Z.Head,{children:"Course"}),l.jsx(j.Z.Head,{children:"Code"}),l.jsx(j.Z.Head,{children:"Department"}),l.jsx(j.Z.Head,{children:"Students"}),l.jsx(j.Z.Head,{children:"Credits"}),l.jsx(j.Z.Head,{children:"Actions"})]})}),l.jsx(j.Z.Body,{children:N.map((e,s)=>(0,l.jsxs)(j.Z.Row,{children:[(0,l.jsxs)(j.Z.Cell,{children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.name}),l.jsx("div",{className:"text-sm text-gray-500",children:e.description})]}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"font-mono text-sm",children:e.course_code})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-gray-900",children:e.department_name})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"font-medium",children:e.student_count||0})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-gray-900",children:e.credits||3})}),l.jsx(j.Z.Cell,{children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[l.jsx(o.Z,{variant:"outline",size:"sm",icon:Z.rDJ,onClick:()=>handleViewStudents(e),children:"Students"}),l.jsx(o.Z,{variant:"primary",size:"sm",icon:Z.j4u,onClick:()=>handleMarkAttendance(e),children:"Attendance"}),l.jsx(o.Z,{variant:"success",size:"sm",icon:Z.vPQ,onClick:()=>handleEnterGrades(e),children:"Grades"})]})})]},s))})]})]})]}):(0,l.jsxs)(m.Z,{className:"text-center py-12",children:[l.jsx(Z.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Assigned"}),l.jsx("p",{className:"text-gray-500",children:"You don't have any classes assigned yet. Contact your department head for class assignments."})]})})]})})]})]})};n()}catch(e){n(e)}})}};