"use strict";exports.id=2749,exports.ids=[2749],exports.modules={6761:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{a:()=>useAuth});var r=t(6689),l=t(8786),i=e([l]);l=(i.then?(await i)():i)[0];let useAuth=()=>{let e=(0,r.useContext)(l.ZP);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},2749:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(968),n=t.n(i),d=t(1664),c=t.n(d),o=t(1163),m=t(6761),u=t(6893);t(9180),t(5822);var h=t(9175),x=e([m]);m=(x.then?(await x)():x)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,l.useState)({email:"",password:"",userType:"staff"}),[t,a]=(0,l.useState)(!1),[i,d]=(0,l.useState)(!1),{login:x,isAuthenticated:b,error:p,clearError:g}=(0,m.a)(),y=(0,o.useRouter)();(0,l.useEffect)(()=>{b&&y.push("/dashboard")},[b,y]),(0,l.useEffect)(()=>{if(p){let e=setTimeout(()=>{g()},5e3);return()=>clearTimeout(e)}},[p,g]);let handleChange=e=>{let{name:t,value:a}=e.target;s(e=>({...e,[t]:a}))},handleSubmit=async s=>{s.preventDefault(),d(!0);try{let s=await x({email:e.email,password:e.password},"student"===e.userType);s.success&&y.push("/dashboard")}catch(e){}finally{d(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n(),{children:[r.jsx("title",{children:"Sign In - SMIS"}),r.jsx("meta",{name:"description",content:"Sign in to your SMIS account to access the school management system"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,r.jsxs)("div",{className:"min-h-screen flex",children:[(0,r.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-primary-blue relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 border-2 border-white rounded-full"}),r.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 border-2 border-white rounded-full"}),r.jsx("div",{className:"absolute bottom-32 left-20 w-40 h-40 border-2 border-white rounded-full"}),r.jsx("div",{className:"absolute bottom-20 right-10 w-28 h-28 border-2 border-white rounded-full"})]}),(0,r.jsxs)("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Hello! \uD83D\uDC4B"}),r.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Streamline your school operations with our comprehensive management system. Get highly productive through automation and save tons of time!"}),(0,r.jsxs)("div",{className:"space-y-3 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),r.jsx("span",{className:"text-blue-100",children:"Student & Staff Management"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),r.jsx("span",{className:"text-blue-100",children:"Academic Calendar & Timetables"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),r.jsx("span",{className:"text-blue-100",children:"Real-time Analytics & Reports"})]})]}),r.jsx("div",{className:"text-blue-200 text-sm",children:"\xa9 2025 School Management Information System. All rights reserved."})]})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"lg:hidden text-center mb-8",children:[(0,r.jsxs)(c(),{href:"/",className:"inline-flex items-center text-primary-blue hover:text-primary-light mb-4",children:[r.jsx(u.Ao2,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"SMIS"})]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back!"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-8",children:["Don't have an account?"," ",r.jsx(c(),{href:"/register",className:"text-primary-light hover:text-primary-blue underline",children:"Create a new account now"}),", it's FREE! Takes less than a minute."]}),(0,r.jsxs)("div",{className:"space-y-6",children:[p&&(0,r.jsxs)(h.Z,{variant:"error",className:"mb-6",children:[r.jsx(u.bcx,{className:"w-5 h-5 mr-2"}),p]}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Login as"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:`relative flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ${"staff"===e.userType?"border-primary-blue bg-blue-50 text-primary-blue":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("input",{type:"radio",name:"userType",value:"staff",checked:"staff"===e.userType,onChange:handleChange,className:"sr-only"}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Staff"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Teachers & Admin"})]})]}),(0,r.jsxs)("label",{className:`relative flex items-center justify-center p-3 border rounded-lg cursor-pointer transition-colors ${"student"===e.userType?"border-primary-blue bg-blue-50 text-primary-blue":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx("input",{type:"radio",name:"userType",value:"student",checked:"student"===e.userType,onChange:handleChange,className:"sr-only"}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium",children:"Student"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Student Portal"})]})]})]})]}),r.jsx("div",{children:r.jsx("input",{name:"email",type:"email",required:!0,value:e.email,onChange:handleChange,className:"w-full py-3 border-0 border-b-2 border-gray-300 focus:border-primary-blue focus:outline-none focus:ring-0 bg-transparent text-gray-900 placeholder-gray-500",placeholder:"Enter your email address"})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:handleChange,className:"w-full py-3 border-0 border-b-2 border-gray-300 focus:border-primary-blue focus:outline-none focus:ring-0 bg-transparent text-gray-900 placeholder-gray-500 pr-10",placeholder:"Enter your password"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center",onClick:()=>a(!t),children:t?r.jsx(u.rzC,{className:"h-5 w-5 text-gray-400"}):r.jsx(u.rDJ,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gray-900 text-white py-3 px-4 rounded-md font-medium hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing In...":"Login Now"})]}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"/forgot-password",className:"text-sm text-gray-600 hover:text-primary-blue underline",children:"Forget password? Click here"})})]})]})})]})]})};a()}catch(e){a(e)}})}};