"use strict";exports.id=2133,exports.ids=[2133],exports.modules={6761:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{a:()=>useAuth});var l=t(6689),r=t(8786),d=e([r]);r=(d.then?(await d)():d)[0];let useAuth=()=>{let e=(0,l.useContext)(r.ZP);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},5825:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),d=t(4082),c=t(6422),i=t(4549),x=t(6893),n=t(8303),m=e([d,c,n]);[d,c,n]=m.then?(await m)():m;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,r.useState)([]),[t,a]=(0,r.useState)(0),[m,h]=(0,r.useState)(!0),[o,u]=(0,r.useState)(null),[g,j]=(0,r.useState)("all"),[N,p]=(0,r.useState)("all"),[b,f]=(0,r.useState)("summary");(0,r.useEffect)(()=>{let fetchGrades=async()=>{try{h(!0),u(null);let e=await n.t7.getGrades();s(e.grades||[]),a(e.gpa||0)}catch(e){u(e.message||"Failed to load grades")}finally{h(!1)}};fetchGrades()},[]);let getGradeLetter=e=>e>=90?"A+":e>=85?"A":e>=80?"A-":e>=75?"B+":e>=70?"B":e>=65?"B-":e>=60?"C+":e>=55?"C":e>=50?"C-":e>=45?"D+":e>=40?"D":"F",getGradeColor=e=>e>=85?"text-green-600 bg-green-50":e>=70?"text-blue-600 bg-blue-50":e>=60?"text-yellow-600 bg-yellow-50":e>=50?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",calculatePercentage=(e,s)=>e&&s&&0!==s?Math.round(e/s*100):0,y=e.filter(e=>{let s="all"===g||e.semester===g,t="all"===N||e.course_name===N;return s&&t}),v=[...new Set(e.map(e=>e.semester))],w=[...new Set(e.map(e=>e.course_name))],calculateSemesterGPA=s=>{let t=e.filter(e=>e.semester===s);if(0===t.length)return 0;let a=t.reduce((e,s)=>{let t=calculatePercentage(s.score,s.max_score);return e+getGradePoints(t)},0);return(a/t.length).toFixed(2)},getGradePoints=e=>e>=90?4:e>=85?3.7:e>=80?3.3:e>=75?3:e>=70?2.7:e>=65?2.3:e>=60?2:e>=55?1.7:e>=50?1.3:e>=45?1:e>=40?.7:0;return m?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(d.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(c.default,{}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx(i.Z,{size:"lg"})})})]})]}):o?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(d.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(c.default,{}),l.jsx("main",{className:"flex-1 p-6",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,l.jsxs)("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Grades"}),l.jsx("div",{className:"mt-2 text-sm text-red-700",children:l.jsx("p",{children:o})})]})]})})})]})]}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(d.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(c.default,{}),(0,l.jsxs)("main",{className:"flex-1 p-6",children:[l.jsx("div",{className:"mb-8",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Grades"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Track your academic performance and progress"})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[l.jsx(x._hL,{className:"mr-2 h-4 w-4"}),"Export"]}),(0,l.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[l.jsx("button",{onClick:()=>f("summary"),className:`px-4 py-2 text-sm font-medium rounded-l-md border ${"summary"===b?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Summary"}),l.jsx("button",{onClick:()=>f("detailed"),className:`px-4 py-2 text-sm font-medium rounded-r-md border-t border-r border-b ${"detailed"===b?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Detailed"})]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mr-4",children:l.jsx(x.QqI,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall GPA"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.toFixed(2)})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mr-4",children:l.jsx(x.yK7,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Courses"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mr-4",children:l.jsx(x.vlc,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Semesters"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-lg flex items-center justify-center mr-4",children:l.jsx(x.HR2,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Assessments"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[l.jsx(x.Ihx,{className:"h-5 w-5 text-gray-400"}),(0,l.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Semester"}),(0,l.jsxs)("select",{value:g,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Semesters"}),v.map(e=>l.jsx("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,l.jsxs)("select",{value:N,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Courses"}),w.map(e=>l.jsx("option",{value:e,children:e},e))]})]})]})]})}),"summary"===b&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Semester Performance"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(s=>(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:s}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"GPA:"}),l.jsx("span",{className:"font-medium",children:calculateSemesterGPA(s)})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Courses:"}),l.jsx("span",{className:"font-medium",children:e.filter(e=>e.semester===s).length})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Avg Score:"}),(0,l.jsxs)("span",{className:"font-medium",children:[Math.round(e.filter(e=>e.semester===s).reduce((e,s)=>e+calculatePercentage(s.score,s.max_score),0)/e.filter(e=>e.semester===s).length||0),"%"]})]})]})]},s))})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"summary"===b?"Recent Grades":"All Grades"})}),0===y.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx(x.yK7,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No grades found"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No grades available for the selected filters."})]}):l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assessment"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Semester"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),"detailed"===b&&l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comments"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((e,s)=>{let t=calculatePercentage(e.score,e.max_score),a=getGradeLetter(t),r=getGradeColor(t);return(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.course_name}),l.jsx("div",{className:"text-sm text-gray-500",children:e.course_code})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"text-sm text-gray-900",children:e.assessment_type||"Assessment"})}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-900",children:[e.score,"/",e.max_score]}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[t,"%"]})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r}`,children:a})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.semester}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date_given?new Date(e.date_given).toLocaleDateString():"N/A"}),"detailed"===b&&l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:l.jsx("div",{className:"max-w-xs truncate",children:e.comments||"No comments"})})]},s)})})]})})]}),(0,l.jsxs)("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Grade Scale Reference"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-800",children:"A+ (90-100%)"}),l.jsx("div",{className:"text-blue-600",children:"4.0 GPA"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-800",children:"A (85-89%)"}),l.jsx("div",{className:"text-blue-600",children:"3.7 GPA"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-800",children:"A- (80-84%)"}),l.jsx("div",{className:"text-blue-600",children:"3.3 GPA"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-800",children:"B+ (75-79%)"}),l.jsx("div",{className:"text-blue-600",children:"3.0 GPA"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-800",children:"B (70-74%)"}),l.jsx("div",{className:"text-blue-600",children:"2.7 GPA"})]}),(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"font-semibold text-blue-800",children:"B- (65-69%)"}),l.jsx("div",{className:"text-blue-600",children:"2.3 GPA"})]})]})]})]})]})]})};a()}catch(e){a(e)}})}};