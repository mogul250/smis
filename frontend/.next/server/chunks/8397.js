exports.id=8397,exports.ids=[8397],exports.modules={9180:(e,t,r)=>{"use strict";r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(997);r(6689);var s=r(1664),n=r.n(s),i=r(4549);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:t="primary",size:r="md",loading:s=!1,disabled:o=!1,className:l="",icon:d,iconPosition:c="left",href:u,...g})=>{let m=`inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",warning:"bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[t]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[r]} ${l}`,p=(0,a.jsxs)(a.Fragment,{children:[s&&a.jsx(i.Z,{size:"sm",color:"outline"===t||"ghost"===t?"gray":"white",className:"mr-2"}),d&&"left"===c&&!s&&a.jsx(d,{className:"w-4 h-4 mr-2"}),e,d&&"right"===c&&!s&&a.jsx(d,{className:"w-4 h-4 ml-2"})]});return u?a.jsx(n(),{href:u,className:m,children:p}):a.jsx("button",{className:m,disabled:o||s,...g,children:p})}},4105:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(997);r(6689);let Card=({children:e,className:t="",padding:r="default",shadow:s="default",hover:n=!1,...i})=>a.jsx("div",{className:`bg-white rounded-lg border border-gray-200 ${{none:"",sm:"p-4",default:"p-6",lg:"p-8"}[r]} ${{none:"",sm:"shadow-sm",default:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[s]} ${n?"hover:shadow-md transition-shadow duration-200":""} ${t}`,...i,children:e});Card.Header=({children:e,className:t="",...r})=>a.jsx("div",{className:`border-b border-gray-200 pb-4 mb-4 ${t}`,...r,children:e}),Card.Title=({children:e,className:t="",...r})=>a.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,...r,children:e}),Card.Content=({children:e,className:t="",...r})=>a.jsx("div",{className:t,...r,children:e}),Card.Footer=({children:e,className:t="",...r})=>a.jsx("div",{className:`border-t border-gray-200 pt-4 mt-4 ${t}`,...r,children:e});let s=Card},9060:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d});var a=r(997),s=r(6689),n=r.n(s),i=r(6893),o=r(9180),l=r(4105);let ErrorBoundary=class ErrorBoundary extends n().Component{constructor(e){super(e),this.generateEventId=()=>"error_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),this.reportError=async(e,t)=>{try{await fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,componentStack:t.componentStack,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString(),eventId:this.state.eventId})})}catch(e){}},this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,eventId:null})},this.handleGoHome=()=>{window.location.href="/dashboard"},this.state={hasError:!1,error:null,errorInfo:null,eventId:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t,eventId:this.generateEventId()}),this.reportError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.handleRetry):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsx(l.Z,{className:"max-w-lg w-full",children:(0,a.jsxs)(l.Z.Content,{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(i.BJv,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Our team has been notified."}),!1,this.state.eventId&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-6",children:["Error ID: ",this.state.eventId]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx(o.Z,{variant:"primary",icon:i.Bw1,onClick:this.handleRetry,children:"Try Again"}),a.jsx(o.Z,{variant:"outline",icon:i.m6D,onClick:this.handleGoHome,children:"Go to Dashboard"})]})]})})}):this.props.children}};let d=ErrorBoundary},4549:(e,t,r)=>{"use strict";r.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(997);r(6689);let __WEBPACK_DEFAULT_EXPORT__=({size:e="md",color:t="primary",className:r=""})=>a.jsx("div",{className:`animate-spin rounded-full border-2 border-t-transparent ${{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"}[e]} ${{primary:"border-blue-600",white:"border-white",gray:"border-gray-400"}[t]} ${r}`,role:"status","aria-label":"Loading",children:a.jsx("span",{className:"sr-only",children:"Loading..."})})},8786:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Ho:()=>AuthProvider,ZP:()=>u});var s=r(997),n=r(6689),i=r(3240),o=e([i]);i=(o.then?(await o)():o)[0];let l={user:null,isAuthenticated:!1,isLoading:!0,error:null},d={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",LOAD_USER:"LOAD_USER",CLEAR_ERROR:"CLEAR_ERROR"},authReducer=(e,t)=>{switch(t.type){case d.LOGIN_START:return{...e,isLoading:!0,error:null};case d.LOGIN_SUCCESS:return{...e,user:t.payload.user,isAuthenticated:!0,isLoading:!1,error:null};case d.LOGIN_FAILURE:return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:t.payload.error};case d.LOGOUT:return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:null};case d.LOAD_USER:return{...e,user:t.payload.user,isAuthenticated:!!t.payload.user,isLoading:!1};case d.CLEAR_ERROR:return{...e,error:null};default:return e}},c=(0,n.createContext)(),AuthProvider=({children:e})=>{let[t,r]=(0,n.useReducer)(authReducer,l);(0,n.useEffect)(()=>{loadUser()},[]);let loadUser=async()=>{try{let e=localStorage.getItem("authToken");if(e){let e=await i.kv.getProfile();r({type:d.LOAD_USER,payload:{user:e.data.user}})}else r({type:d.LOAD_USER,payload:{user:null}})}catch(e){localStorage.removeItem("authToken"),r({type:d.LOAD_USER,payload:{user:null}})}},login=async(e,t=!1)=>{r({type:d.LOGIN_START});try{let a=t?await i.kv.studentLogin(e):await i.kv.login(e),{user:s,token:n}=a.data;return localStorage.setItem("authToken",n),r({type:d.LOGIN_SUCCESS,payload:{user:s}}),{success:!0,user:s}}catch(t){let e=t.response?.data?.message||"Login failed";return r({type:d.LOGIN_FAILURE,payload:{error:e}}),{success:!1,error:e}}},logout=async()=>{try{await i.kv.logout()}catch(e){}finally{localStorage.removeItem("authToken"),r({type:d.LOGOUT})}},register=async e=>{r({type:d.LOGIN_START});try{return await i.kv.register(e),{success:!0}}catch(t){let e=t.response?.data?.message||"Registration failed";return r({type:d.LOGIN_FAILURE,payload:{error:e}}),{success:!1,error:e}}},a={...t,login,logout,register,clearError:()=>{r({type:d.CLEAR_ERROR})},loadUser};return s.jsx(c.Provider,{value:a,children:e})},u=c;a()}catch(e){a(e)}})},4514:(e,t,r)=>{"use strict";r.d(t,{jZ:()=>useMemoryMonitor,p$:()=>useWebVitalsMonitor});var a=r(6689);let useMemoryMonitor=(e=3e4)=>{(0,a.useEffect)(()=>{if(!("memory"in performance))return;let checkMemory=()=>{let e=performance.memory;e.usedJSHeapSize,e.totalJSHeapSize,e.jsHeapSizeLimit,e.usedJSHeapSize,e.jsHeapSizeLimit},t=setInterval(checkMemory,e);return checkMemory(),()=>clearInterval(t)},[e])},useWebVitalsMonitor=()=>{(0,a.useEffect)(()=>{},[])}},8397:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(997);r(108);var n=r(8786),i=r(9060),o=r(6689),l=r(4514),d=r(3612),c=r(3231),u=e([n]);n=(u.then?(await u)():u)[0];let __WEBPACK_DEFAULT_EXPORT__=function({Component:e,pageProps:t}){return(0,l.p$)(),(0,l.jZ)(),(0,o.useEffect)(()=>{(0,d.vl)(),(0,c.$J)(),(0,c.Er)(),(0,c.Fz)()},[]),s.jsx(i.ZP,{children:s.jsx(n.Ho,{children:s.jsx(e,{...t})})})};a()}catch(e){a(e)}})},3240:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{$o:()=>d,Sb:()=>g,WP:()=>m,kv:()=>o,pW:()=>c,sz:()=>u,t7:()=>l});var s=r(9648),n=e([s]);s=(n.then?(await n)():n)[0];let i=s.default.create({baseURL:"http://localhost:5000/api",withCredentials:!1,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(e)));let o={login:e=>i.post("/auth/login",e),studentLogin:e=>i.post("/auth/student/login",e),logout:()=>i.post("/auth/logout"),getProfile:()=>i.get("/auth/profile"),register:e=>i.post("/auth/register",e),forgotPassword:e=>i.post("/auth/forgot-password",{email:e}),resetPassword:e=>i.post("/auth/reset-password",e)},l={getProfile:()=>i.get("/students/profile"),updateProfile:e=>i.put("/students/profile",e),getGrades:()=>i.get("/students/grades"),getAttendance:e=>i.get("/students/attendance",{params:e}),getFees:()=>i.get("/students/fees"),getTimetable:e=>i.get("/students/timetable",{params:e})},d={getProfile:()=>i.get("/teachers/profile"),updateProfile:e=>i.put("/teachers/profile",e),getClasses:()=>i.get("/teachers/classes"),markAttendance:e=>i.post("/teachers/attendance",e),enterGrades:e=>i.post("/teachers/grades",e),getTimetable:e=>i.get("/teachers/timetable",{params:e}),getClassStudents:e=>i.get(`/teachers/classes/${e}/students`),getAllStudents:()=>i.get("/teachers/classes/students")},c={getProfile:()=>i.get("/hod/profile"),getDepartmentTeachers:()=>i.get("/hod/teachers"),approveActivity:e=>i.post("/hod/activities/approve",e),generateReports:(e,t)=>i.post(`/hod/reports/${e}`,t),manageCourses:e=>i.post("/hod/courses/manage",e),approveTimetable:e=>i.post("/hod/timetable/approve",e),getDepartmentStats:e=>i.get("/hod/stats",{params:e}),getDepartmentTimetable:e=>i.get("/hod/timetable",{params:e}),sendToDepartmentTeachers:e=>i.post("/hod/notifications/department",e)},u={getProfile:()=>i.get("/finance/profile"),getStudentFees:e=>i.get(`/finance/students/${e}/fees`),createFee:e=>i.post("/finance/fees",e),markFeePaid:(e,t)=>i.put(`/finance/fees/${e}/pay`,t),generateInvoice:e=>i.get(`/finance/students/${e}/invoice`),getFinancialReports:e=>i.get("/finance/reports",{params:e}),getPaymentHistory:(e,t)=>i.get(`/finance/students/${e}/payments`,{params:t}),getOverdueFees:()=>i.get("/finance/overdue"),getAllFees:e=>i.get("/finance/overdue",{params:e}),getPayments:e=>Promise.resolve({data:{payments:[],stats:{}}}),getFinancialReport:e=>i.get("/finance/reports",{params:e}),sendPaymentReminder:e=>Promise.resolve({data:{message:"Reminder sent"}}),refundPayment:e=>Promise.resolve({data:{message:"Refund initiated"}}),verifyPayment:e=>Promise.resolve({data:{message:"Payment verified"}}),getAllStudents:e=>i.get("/admin/users",{params:{...e,role:"student"}}),getStudentDetails:e=>i.get(`/admin/users/${e}`)},g={createUser:e=>i.post("/admin/users",e),getAllUsers:e=>i.get("/admin/users",{params:e}),getUserById:e=>i.get(`/admin/users/${e}`),updateUser:(e,t)=>i.put(`/admin/users/${e}`,t),deleteUser:e=>i.delete(`/admin/users/${e}`),updateUserStatus:(e,t)=>i.put(`/admin/users/${e}/status`,{status:t}),manageAcademicCalendar:e=>i.post("/admin/calendar",e),getAcademicCalendar:()=>i.get("/admin/calendar"),updateAcademicEvent:(e,t)=>i.put(`/admin/calendar/${e}`,t),deleteAcademicEvent:e=>i.delete(`/admin/calendar/${e}`),setupTimetable:e=>i.post("/admin/timetable",e),getSystemStats:()=>i.get("/admin/stats"),getSystemConfig:()=>i.get("/admin/config"),updateSystemConfig:e=>i.put("/admin/config",e),testEmailConfig:()=>i.post("/admin/config/test-email"),backupDatabase:()=>i.post("/admin/backup")},m={getRecentActivities:e=>i.get("/activities/recent",{params:e}),getUserActivities:(e,t)=>i.get(`/activities/user/${e}`,{params:t}),getActivitiesByEntityType:(e,t)=>i.get(`/activities/entity/${e}`,{params:t}),getActivityStats:e=>i.get("/activities/stats",{params:e}),createActivity:e=>i.post("/activities",e),getSystemAlerts:e=>i.get("/activities/alerts",{params:e})};a()}catch(e){a(e)}})},3612:(e,t,r)=>{"use strict";r.d(t,{vl:()=>initializeA11y});let initializeA11y=()=>{let e=document.createElement("a");e.href="#main-content",e.textContent="Skip to main content",e.className="skip-link",e.style.cssText=`
    position: absolute;
    top: -40px;
    left: 6px;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    z-index: 1000;
    transition: top 0.3s;
  `,e.addEventListener("focus",()=>{e.style.top="6px"}),e.addEventListener("blur",()=>{e.style.top="-40px"}),document.body.insertBefore(e,document.body.firstChild)}},3231:(e,t,r)=>{"use strict";r.d(t,{$J:()=>registerServiceWorker,Er:()=>preloadCriticalResources,Fz:()=>optimizeCriticalRenderingPath});let registerServiceWorker=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})})},preloadCriticalResources=()=>{[{href:"/fonts/inter.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"},{href:"/api/auth/me",as:"fetch",crossOrigin:"same-origin"}].forEach(e=>{let t=document.createElement("link");t.rel="preload",Object.assign(t,e),document.head.appendChild(t)})},optimizeCriticalRenderingPath=()=>{let e=`
    .loading-spinner { animation: spin 1s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .btn-primary { background-color: #1B365D; color: white; }
  `,t=document.createElement("style");t.textContent=e,document.head.appendChild(t),["https://fonts.googleapis.com","https://api.example.com"].forEach(e=>{let t=document.createElement("link");t.rel="preconnect",t.href=e,document.head.appendChild(t)})}},108:()=>{}};