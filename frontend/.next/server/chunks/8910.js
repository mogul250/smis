"use strict";exports.id=8910,exports.ids=[8910],exports.modules={2650:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),c=t(1664),i=t.n(c),n=t(3242),d=t(8303),x=t(4105),m=t(9180),o=t(4549),h=t(6893),g=e([d]);d=(g.then?(await g)():g)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,r.useState)("7d"),{data:t,loading:a,refetch:c}=(0,n.h)(d.Sb.getSystemStats),{data:g,loading:j}=(0,n.h)(()=>d.Sb.getAllUsers({limit:5})),{data:u,loading:f}=(0,n.h)(()=>activityAPI.getSystemAlerts({limit:5})),N=[{title:"Create User",description:"Add new student, teacher, or staff",icon:h.WY8,href:"/admin/users",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Manage Calendar",description:"Add events and academic dates",icon:h.vlc,href:"/admin/calendar",color:"bg-green-500",textColor:"text-green-600"},{title:"System Settings",description:"Configure system preferences",icon:h.nbt,href:"/admin/system",color:"bg-purple-500",textColor:"text-purple-600"},{title:"View Analytics",description:"System performance and usage",icon:h.DKx,href:"/admin/analytics",color:"bg-orange-500",textColor:"text-orange-600"}],p=[{label:"Database",status:"healthy",value:"99.9%"},{label:"API Response",status:"healthy",value:"120ms"},{label:"Active Users",status:"healthy",value:t?.totalUsers||0},{label:"System Load",status:"warning",value:"78%"}];return a?l.jsx("div",{className:"p-6 flex justify-center items-center min-h-96",children:l.jsx(o.Z,{size:"lg"})}):(0,l.jsxs)("div",{className:"p-6 space-y-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening with your school management system."})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("select",{value:e,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))}),l.jsx(m.Z,{variant:"outline",size:"sm",icon:h.Bw1,onClick:c,children:"Refresh"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalUsers||0}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"+12%"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(h.WY8,{className:"w-6 h-6 text-blue-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Students"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalStudents||0}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"+8%"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(h.hbr,{className:"w-6 h-6 text-green-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Teachers"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t?.totalTeachers||0}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"+3%"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(h.WY8,{className:"w-6 h-6 text-purple-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"24"}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.bAx,{className:"w-4 h-4 text-blue-500 mr-1"}),l.jsx("span",{className:"text-sm text-blue-600",children:"Live"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"right now"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:l.jsx(h.bAx,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Health"}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[l.jsx(h._rq,{className:"w-4 h-4 mr-1"}),"All Systems Operational"]})]}),l.jsx("div",{className:"space-y-4",children:p.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:e.label}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:e.value}),l.jsx("div",{className:`w-2 h-2 rounded-full ${"healthy"===e.status?"bg-green-500":"warning"===e.status?"bg-yellow-500":"bg-red-500"}`})]})]},s))})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),l.jsx(m.Z,{variant:"outline",size:"sm",icon:h.OvN,children:"Add New"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:N.map((e,s)=>{let t=e.icon;return(0,l.jsxs)(i(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[l.jsx("div",{className:`w-10 h-10 ${e.color} rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform`,children:l.jsx(t,{className:"w-5 h-5 text-white"})}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[l.jsx("span",{children:"Go to"}),l.jsx(h.Rgz,{className:"w-4 h-4 ml-1"})]})]},s)})})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Users"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/admin/users",children:"View All"})]}),j?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(o.Z,{})}):l.jsx("div",{className:"space-y-4",children:g?.users?.slice(0,5).map((e,s)=>l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:l.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[e.first_name?.[0],e.last_name?.[0]]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[e.first_name," ",e.last_name]}),l.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.email})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"admin"===e.role?"bg-red-100 text-red-800":"teacher"===e.role?"bg-blue-100 text-blue-800":"student"===e.role?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.role}),l.jsx(h.TCC,{className:"w-4 h-4 text-gray-400"})]})]},s))})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"}),l.jsx(m.Z,{variant:"outline",size:"sm",children:"Manage"})]}),f?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(o.Z,{})}):l.jsx("div",{className:"space-y-4",children:u?.data?.length>0?u.data.map((e,s)=>{let t="check-circle"===e.icon?h._rq:"alert-circle"===e.icon?h.bcx:h.bAx,a="success"===e.type?"text-green-500":"error"===e.type?"text-red-500":"warning"===e.type?"text-yellow-500":"text-blue-500";return(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[l.jsx(t,{className:`w-5 h-5 ${a} mt-0.5`}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),e.message&&l.jsx("p",{className:"text-sm text-gray-600",children:e.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]})]},e.id||s)}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(h._rq,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-gray-500",children:"No recent system alerts"})]})})]})]})]})};a()}catch(e){a(e)}})},7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:l="",...r})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${l}`,...r,children:e})},6913:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),c=t(1664),i=t.n(c),n=t(3242),d=t(8303),x=t(4105),m=t(9180);t(7014);var o=t(4549),h=t(6893),g=e([d]);d=(g.then?(await g)():g)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,r.useState)("7d"),{data:t,loading:a,error:c,refetch:g}=(0,n.h)(()=>d.sz.getProfile?.()||Promise.resolve({data:{user:{first_name:"Finance User"}}}),[],{fallbackData:{user:{first_name:"Finance User"}}}),{data:j,loading:u,error:f,refetch:N}=(0,n.h)(()=>d.sz.getOverdueFees?.()||Promise.resolve({data:{fees:[],totalOutstanding:0,overdueCount:0}}),[],{fallbackData:{fees:[],totalOutstanding:0,overdueCount:0}}),{data:p,loading:y}=(0,n.h)(()=>activityAPI.getActivitiesByEntityType("payment",{limit:5}),[],{fallbackData:{data:[]}}),{data:v,loading:b,error:w,refetch:_}=(0,n.h)(()=>d.sz.getFinancialReports?.({period:"month"})||Promise.resolve({data:{totalRevenue:0,totalPaid:0}}),[],{fallbackData:{totalRevenue:0,totalPaid:0}}),Z=[{title:"Manage Fees",description:"Create and manage student fees",icon:h.oQC,href:"/finance/fees",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Generate Reports",description:"Create financial reports",icon:h.DKx,href:"/finance/reports",color:"bg-green-500",textColor:"text-green-600"},{title:"View Students",description:"Manage student accounts",icon:h.WY8,href:"/finance/students",color:"bg-purple-500",textColor:"text-purple-600"},{title:"Create Invoice",description:"Generate student invoices",icon:h.NOg,href:"/finance/invoices",color:"bg-orange-500",textColor:"text-orange-600"}],A=v?.totalRevenue||0,C=j?.totalOutstanding||0,T=v?.totalPaid||0,S=j?.overdueCount||0;return a?l.jsx("div",{className:"p-6 flex justify-center items-center min-h-96",children:l.jsx(o.Z,{size:"lg"})}):(0,l.jsxs)("div",{className:"p-6 space-y-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",t?.user?.first_name||"Finance User","! Here's your financial overview."]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("select",{value:e,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))}),l.jsx(m.Z,{variant:"outline",size:"sm",icon:h.Bw1,onClick:()=>{g(),N(),_()},children:"Refresh"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",A.toLocaleString()]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"+12%"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"this month"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(h.oQC,{className:"w-6 h-6 text-green-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fees"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",C.toLocaleString()]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.bcx,{className:"w-4 h-4 text-orange-500 mr-1"}),(0,l.jsxs)("span",{className:"text-sm text-orange-600",children:[S," overdue"]})]})]}),l.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:l.jsx(h.bcx,{className:"w-6 h-6 text-orange-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Paid"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",T.toLocaleString()]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h._rq,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"This month"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(h.XiQ,{className:"w-6 h-6 text-blue-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Collection Rate"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[A>0?Math.round((A-C)/A*100):0,"%"]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(h.xUG,{className:"w-4 h-4 text-purple-500 mr-1"}),l.jsx("span",{className:"text-sm text-purple-600",children:"Efficiency"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(h.xUG,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),l.jsx(m.Z,{variant:"outline",size:"sm",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:Z.map((e,s)=>{let t=e.icon;return t?(0,l.jsxs)(i(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[l.jsx("div",{className:`w-10 h-10 ${e.color} rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform`,children:l.jsx(t,{className:"w-5 h-5 text-white"})}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[l.jsx("span",{children:"Go to"}),l.jsx(h.Rgz,{className:"w-4 h-4 ml-1"})]})]},s):null})})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Overdue Fees"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/finance/overdue",children:"View All"})]}),u?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(o.Z,{})}):j?.fees?.length>0?l.jsx("div",{className:"space-y-4",children:j.fees.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx(h.oQC,{className:"w-4 h-4 text-red-600"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.student_name}),l.jsx("p",{className:"text-sm text-gray-500",children:e.fee_type})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"font-bold text-red-600",children:["$",e.amount]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]})]},s))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(h._rq,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Overdue Fees"}),l.jsx("p",{className:"text-gray-500",children:"All fees are up to date!"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Summary"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/finance/reports",children:"View Reports"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(h.oQC,{className:"w-5 h-5 text-green-600"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Monthly Revenue"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Total income this month"})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",A.toLocaleString()]}),l.jsx("p",{className:"text-sm text-green-600",children:"+12% from last month"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(h.XiQ,{className:"w-5 h-5 text-blue-600"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Payments Processed"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Successful transactions"})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",T.toLocaleString()]}),l.jsx("p",{className:"text-sm text-blue-600",children:"This month"})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(h.bcx,{className:"w-5 h-5 text-orange-600"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Outstanding Amount"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Fees pending collection"})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:["$",C.toLocaleString()]}),(0,l.jsxs)("p",{className:"text-sm text-orange-600",children:[S," overdue"]})]})]})]})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),l.jsx(m.Z,{variant:"outline",size:"sm",children:"View All"})]}),y?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(o.Z,{})}):l.jsx("div",{className:"space-y-4",children:p?.data?.length>0?p.data.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:`w-2 h-2 ${(e=>{switch(e){case"payment_received":return"bg-green-500";case"invoice_generated":return"bg-blue-500";case"fee_overdue":return"bg-orange-500";case"report_generated":return"bg-purple-500";default:return"bg-gray-500"}})(e.action)} rounded-full mt-2`}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.description}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.user_name," - ",e.user_role]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleString()})]})]},e.id||s)):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(h.bAx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-gray-500",children:"No recent financial activities"})]})})]})]})]})};a()}catch(e){a(e)}})},6608:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),c=t(1664),i=t.n(c),n=t(3242),d=t(6761),x=t(8303),m=t(4105),o=t(9180),h=t(7014),g=t(4549),j=t(9175),u=t(6893),f=e([d,x]);[d,x]=f.then?(await f)():f;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e,isAuthenticated:s}=(0,d.a)(),[t,a]=(0,r.useState)(!1),[c,f]=(0,r.useState)(!1),N={teachers:[{id:1,first_name:"John",last_name:"Smith",email:"john.smith@school.edu",status:"active",course_count:3},{id:2,first_name:"Jane",last_name:"Doe",email:"jane.doe@school.edu",status:"active",course_count:2},{id:3,first_name:"Bob",last_name:"Wilson",email:"bob.wilson@school.edu",status:"active",course_count:4}],stats:{courses:12,teachers:3,attendance:{avg_attendance_percentage:85.5}},timetable:[{id:1,course_name:"Mathematics 101",course_code:"MATH101",teacher_name:"John Smith",day_of_week:1,start_time:"09:00",end_time:"10:30",room:"Room 101"},{id:2,course_name:"Physics 201",course_code:"PHYS201",teacher_name:"Jane Doe",day_of_week:2,start_time:"11:00",end_time:"12:30",room:"Lab 1"},{id:3,course_name:"Chemistry 101",course_code:"CHEM101",teacher_name:"Bob Wilson",day_of_week:3,start_time:"14:00",end_time:"15:30",room:"Lab 2"}]},{data:p,loading:y,error:v,refetch:b}=(0,n.h)(x.pW.getDepartmentTeachers,[],{fallbackData:[]}),{data:w,loading:_,error:Z,refetch:A}=(0,n.h)(x.pW.getDepartmentStats,[],{fallbackData:{courses:0,teachers:0,attendance:{avg_attendance_percentage:0}}}),{data:C,loading:T,error:S,refetch:P}=(0,n.h)(()=>x.pW.getDepartmentTimetable({semester:"current"}),[],{fallbackData:[]}),D=c||v&&!p?.length?N.teachers:p,E=c||Z&&!w?.courses?N.stats:w,R=c||S&&!C?.length?N.timetable:C,[L,z]=(0,r.useState)("checking");(0,r.useEffect)(()=>{let testBackend=async()=>{try{let e=await fetch("http://localhost:5000/api/health");e.ok?z("connected"):z("error")}catch(e){z("disconnected")}};testBackend()},[]);let k=y||_||T,handleRefresh=async()=>{a(!0);try{await Promise.all([b(),A(),P()])}catch(e){}finally{a(!1)}},W=[{title:"Manage Teachers",description:"View and manage department staff",icon:u.WY8,href:"/hod/teachers",color:"bg-blue-500",count:D?.length||0},{title:"Course Management",description:"Manage department courses",icon:u.yK7,href:"/hod/courses",color:"bg-green-500",count:E?.courses||0},{title:"Reports & Analytics",description:"Generate departmental reports",icon:u.DKx,href:"/hod/reports",color:"bg-purple-500",count:null},{title:"Timetable Management",description:"View and approve timetables",icon:u.vlc,href:"/hod/timetable",color:"bg-orange-500",count:R?.length||0},{title:"Approvals",description:"Review pending approvals",icon:u._rq,href:"/hod/approvals",color:"bg-red-500",count:null},{title:"Notifications",description:"Send notifications to staff",icon:u.Imn,href:"/hod/notifications",color:"bg-indigo-500",count:null}],$=[{title:"Total Teachers",value:D?.length||0,icon:u.WY8,color:"text-blue-600",bgColor:"bg-blue-50",change:null},{title:"Total Courses",value:E?.courses||0,icon:u.yK7,color:"text-green-600",bgColor:"bg-green-50",change:null},{title:"Avg Attendance",value:`${E?.attendance?.avg_attendance_percentage||0}%`,icon:u.QqI,color:"text-purple-600",bgColor:"bg-purple-50",change:null},{title:"Active Classes",value:R?.length||0,icon:u.vlc,color:"text-orange-600",bgColor:"bg-orange-50",change:null}];return(v||Z||S)&&!c?(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)(j.Z,{variant:"error",className:"mb-6",children:["Error loading dashboard data. Please try refreshing the page.",!1]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[l.jsx(o.Z,{onClick:handleRefresh,loading:t,icon:u.Bw1,children:"Retry"}),l.jsx(o.Z,{variant:"outline",onClick:()=>f(!0),icon:u.aCJ,children:"Use Test Data"})]})]}):(0,l.jsxs)("div",{className:"p-6 space-y-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"HOD Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back! Here's your department overview.",c&&l.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Test Mode"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(o.Z,{variant:"outline",size:"sm",onClick:handleRefresh,loading:t,icon:u.Bw1,children:"Refresh"}),!1]})]}),!1,l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:$.map((e,s)=>{let t=e.icon;return l.jsx(m.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:`p-3 rounded-lg ${e.bgColor}`,children:l.jsx(t,{className:`w-6 h-6 ${e.color}`})}),(0,l.jsxs)("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.title}),l.jsx("div",{className:"flex items-center",children:k?l.jsx(g.Z,{size:"sm"}):l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.value})})]})]})},s)})}),(0,l.jsxs)(m.Z,{className:"p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map((e,s)=>{let t=e.icon;return l.jsx(i(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 ${e.color} rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform`,children:l.jsx(t,{className:"w-5 h-5 text-white"})}),(0,l.jsxs)("div",{className:"ml-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-gray-700",children:e.title}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[null!==e.count&&l.jsx(h.Z,{variant:"default",size:"sm",children:k?"...":e.count}),l.jsx(u.Rgz,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]})]})},s)})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(m.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Department Teachers"}),l.jsx(o.Z,{variant:"outline",size:"sm",href:"/hod/teachers",children:"View All"})]}),y&&!c?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(g.Z,{})}):D?.length>0?l.jsx("div",{className:"space-y-4",children:D.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(u.WY8,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),l.jsx("p",{className:"text-xs text-gray-500",children:e.email})]}),l.jsx(h.Z,{variant:"active"===e.status?"success":"default",size:"sm",children:e.status})]},s))}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No teachers found"})]}),(0,l.jsxs)(m.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),l.jsx(o.Z,{variant:"outline",size:"sm",href:"/hod/timetable",children:"View Timetable"})]}),T&&!c?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(g.Z,{})}):R?.length>0?l.jsx("div",{className:"space-y-4",children:R.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(u.vlc,{className:"w-5 h-5 text-green-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.course_name}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:[e.teacher_name," • ",e.start_time," - ",e.end_time,e.room&&` • ${e.room}`]})]})]},s))}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No classes scheduled"})]})]})]})};a()}catch(e){a(e)}})},3742:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),c=t(1664),i=t.n(c),n=t(3242),d=t(8303),x=t(4105),m=t(9180),o=t(7014),h=t(4549),g=t(6893),j=e([d]);d=(j.then?(await j)():j)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,r.useState)("7d"),{data:t,loading:a,refetch:c}=(0,n.h)(d.t7.getProfile),{data:j,loading:u,refetch:f}=(0,n.h)(d.t7.getGrades),{data:N,loading:p,refetch:y}=(0,n.h)(d.t7.getFees),{data:v,loading:b}=(0,n.h)(()=>{let e=new Date().toISOString().split("T")[0],s=new Date(Date.now()-2592e6).toISOString().split("T")[0];return d.t7.getAttendance(s,e)}),{data:w,loading:_}=(0,n.h)(()=>d.t7.getTimetable("current")),Z=[{title:"View Timetable",description:"Check your class schedule",icon:g.vlc,href:"/student/timetable",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Check Attendance",description:"View your attendance record",icon:g.yK7,href:"/student/attendance",color:"bg-green-500",textColor:"text-green-600"},{title:"View Grades",description:"See your academic performance",icon:g.QqI,href:"/student/grades",color:"bg-purple-500",textColor:"text-purple-600"},{title:"Update Profile",description:"Manage your personal information",icon:g.fzv,href:"/student/profile",color:"bg-orange-500",textColor:"text-orange-600"}],A=(e=>{if(!e||0===e.length)return 0;let s=e.reduce((e,s)=>e+(({"A+":4,A:4,"A-":3.7,"B+":3.3,B:3,"B-":2.7,"C+":2.3,C:2,"C-":1.7,"D+":1.3,D:1,F:0})[s.grade]||0),0);return(s/e.length).toFixed(2)})(j?.grades||[]),C=v?.attendanceRate||0,T=N?.totalOutstanding||0;return a?l.jsx("div",{className:"p-6 flex justify-center items-center min-h-96",children:l.jsx(h.Z,{size:"lg"})}):(0,l.jsxs)("div",{className:"p-6 space-y-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",t?.user?.first_name,"! Here's your academic overview."]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("select",{value:e,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))}),l.jsx(m.Z,{variant:"outline",size:"sm",icon:g.Bw1,onClick:()=>{c(),f(),y()},children:"Refresh"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current GPA"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:A}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"+0.2"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"from last semester"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(g.HR2,{className:"w-6 h-6 text-green-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[C,"%"]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"Excellent"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"attendance"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(g.xUG,{className:"w-6 h-6 text-blue-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Courses"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:j?.grades?.length||0}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(g.yK7,{className:"w-4 h-4 text-purple-500 mr-1"}),l.jsx("span",{className:"text-sm text-purple-600",children:"This semester"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(g.yK7,{className:"w-6 h-6 text-purple-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Outstanding Fees"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",T]}),l.jsx("div",{className:"flex items-center mt-2",children:T>0?(0,l.jsxs)(l.Fragment,{children:[l.jsx(g.bcx,{className:"w-4 h-4 text-red-500 mr-1"}),l.jsx("span",{className:"text-sm text-red-600",children:"Payment due"})]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"All paid"})]})})]}),l.jsx("div",{className:`w-12 h-12 ${T>0?"bg-red-100":"bg-green-100"} rounded-lg flex items-center justify-center`,children:l.jsx(g.oQC,{className:`w-6 h-6 ${T>0?"text-red-600":"text-green-600"}`})})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),l.jsx(m.Z,{variant:"outline",size:"sm",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:Z.map((e,s)=>{let t=e.icon;return(0,l.jsxs)(i(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[l.jsx("div",{className:`w-10 h-10 ${e.color} rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform`,children:l.jsx(t,{className:"w-5 h-5 text-white"})}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[l.jsx("span",{children:"Go to"}),l.jsx(g.Rgz,{className:"w-4 h-4 ml-1"})]})]},s)})})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Grades"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/student/grades",children:"View All"})]}),u?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(h.Z,{})}):j?.grades?.length>0?l.jsx("div",{className:"space-y-4",children:j.grades.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(g.yK7,{className:"w-4 h-4 text-blue-600"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[e.semester," ",e.year]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-lg text-gray-900",children:e.grade}),l.jsx("p",{className:"text-xs text-gray-500",children:e.assessment_type})]})]},s))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(g.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Grades Yet"}),l.jsx("p",{className:"text-gray-500",children:"Your grades will appear here once they're posted."})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Fee Status"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/student/fees",children:"View All"})]}),p?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(h.Z,{})}):(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(g.oQC,{className:"w-5 h-5 text-gray-400"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Total Outstanding"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Amount due for payment"})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:`text-2xl font-bold ${T>0?"text-red-600":"text-green-600"}`,children:["$",T]}),l.jsx(o.Z,{variant:T>0?"danger":"success",children:T>0?"Payment Due":"All Paid"})]})]}),N?.fees?.slice(0,3).map((e,s)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.fee_type}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-gray-900",children:["$",e.amount]}),l.jsx(o.Z,{variant:"paid"===e.status?"success":"danger",children:e.status})]})]},s))]})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/student/timetable",children:"View Timetable"})]}),_?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(h.Z,{})}):w?.classes?.length>0?l.jsx("div",{className:"space-y-4",children:w.classes.slice(0,4).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(g.TCC,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[e.start_time," - ",e.end_time]}),l.jsx("p",{className:"text-xs text-gray-400",children:e.room||"TBA"})]})]},s))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(g.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Today"}),l.jsx("p",{className:"text-gray-500",children:"Enjoy your free time!"})]})]})]})]})};a()}catch(e){a(e)}})},2342:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997),r=t(6689),c=t(1664),i=t.n(c),n=t(3242),d=t(8303),x=t(4105),m=t(9180),o=t(7014),h=t(4549),g=t(6893),j=e([d]);d=(j.then?(await j)():j)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,r.useState)("7d"),{data:t,loading:a,refetch:c}=(0,n.h)(d.$o.getProfile),{data:j,loading:u,refetch:f}=(0,n.h)(d.$o.getClasses),{data:N,loading:p}=(0,n.h)(()=>d.$o.getTimetable({week:"current"})),{data:y,loading:v}=(0,n.h)(d.$o.getAllStudents),b=[{title:"Mark Attendance",description:"Record student attendance",icon:g.j4u,href:"/teacher/attendance",color:"bg-blue-500",textColor:"text-blue-600"},{title:"Enter Grades",description:"Submit student grades",icon:g.yK7,href:"/teacher/grades",color:"bg-green-500",textColor:"text-green-600"},{title:"View Classes",description:"Manage your classes",icon:g.WY8,href:"/teacher/classes",color:"bg-purple-500",textColor:"text-purple-600"},{title:"View Timetable",description:"Check your schedule",icon:g.vlc,href:"/teacher/timetable",color:"bg-orange-500",textColor:"text-orange-600"}],w=y?.students?.length||0,_=j?.classes?.length||0,Z=j?.classes?.reduce((e,s)=>e+(s.pendingGrades||0),0)||0;return a?l.jsx("div",{className:"p-6 flex justify-center items-center min-h-96",children:l.jsx(h.Z,{size:"lg"})}):(0,l.jsxs)("div",{className:"p-6 space-y-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,l.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",t?.user?.first_name,"! Here's your teaching overview."]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("select",{value:e,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[{value:"24h",label:"Last 24 hours"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}].map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))}),l.jsx(m.Z,{variant:"outline",size:"sm",icon:g.Bw1,onClick:()=>{c(),f()},children:"Refresh"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(g.QqI,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"+5"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"this semester"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(g.WY8,{className:"w-6 h-6 text-blue-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Classes"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:_}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(g.yK7,{className:"w-4 h-4 text-purple-500 mr-1"}),l.jsx("span",{className:"text-sm text-purple-600",children:"This semester"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx(g.yK7,{className:"w-6 h-6 text-purple-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[95,"%"]}),(0,l.jsxs)("div",{className:"flex items-center mt-2",children:[l.jsx(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"Excellent"}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"overall"})]})]}),l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(g.xUG,{className:"w-6 h-6 text-green-600"})})]})}),l.jsx(x.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Grades"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Z}),l.jsx("div",{className:"flex items-center mt-2",children:Z>0?(0,l.jsxs)(l.Fragment,{children:[l.jsx(g.bcx,{className:"w-4 h-4 text-orange-500 mr-1"}),l.jsx("span",{className:"text-sm text-orange-600",children:"Needs attention"})]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(g._rq,{className:"w-4 h-4 text-green-500 mr-1"}),l.jsx("span",{className:"text-sm text-green-600",children:"All caught up"})]})})]}),l.jsx("div",{className:`w-12 h-12 ${Z>0?"bg-orange-100":"bg-green-100"} rounded-lg flex items-center justify-center`,children:l.jsx(g.vPQ,{className:`w-6 h-6 ${Z>0?"text-orange-600":"text-green-600"}`})})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),l.jsx(m.Z,{variant:"outline",size:"sm",children:"View All"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.map((e,s)=>{let t=e.icon;return(0,l.jsxs)(i(),{href:e.href,className:"p-4 border border-gray-200 rounded-lg hover:border-gray-300 hover:shadow-sm transition-all duration-200 text-left group",children:[l.jsx("div",{className:`w-10 h-10 ${e.color} rounded-lg flex items-center justify-center mb-3 group-hover:scale-105 transition-transform`,children:l.jsx(t,{className:"w-5 h-5 text-white"})}),l.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center text-sm text-gray-500 group-hover:text-gray-700",children:[l.jsx("span",{children:"Go to"}),l.jsx(g.Rgz,{className:"w-4 h-4 ml-1"})]})]},s)})})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Classes"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/teacher/classes",children:"View All"})]}),u?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(h.Z,{})}):j?.classes?.length>0?l.jsx("div",{className:"space-y-4",children:j.classes.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(g.yK7,{className:"w-4 h-4 text-blue-600"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[e.semester," • ",e.student_count," students"]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[l.jsx(o.Z,{variant:"active"===e.status?"success":"default",children:e.status}),e.pendingGrades>0&&(0,l.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:[e.pendingGrades," pending"]})]})]},s))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(g.yK7,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Assigned"}),l.jsx("p",{className:"text-gray-500",children:"You haven't been assigned to any classes yet."})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/teacher/timetable",children:"View Timetable"})]}),p?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(h.Z,{})}):N?.classes?.length>0?l.jsx("div",{className:"space-y-4",children:N.classes.slice(0,4).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(g.TCC,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.course_name}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:[e.start_time," - ",e.end_time]}),l.jsx("p",{className:"text-xs text-gray-400",children:e.room||"TBA"})]}),l.jsx(o.Z,{variant:"primary",children:e.day})]},s))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(g.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Classes Today"}),l.jsx("p",{className:"text-gray-500",children:"Enjoy your free time!"})]})]}),(0,l.jsxs)(x.Z,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Students"}),l.jsx(m.Z,{variant:"outline",size:"sm",href:"/teacher/classes",children:"View All"})]}),v?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(h.Z,{})}):y?.students?.length>0?l.jsx("div",{className:"space-y-4",children:y.students.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[e.first_name?.[0],e.last_name?.[0]]})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),l.jsx("p",{className:"text-sm text-gray-500",children:e.course_name})]}),l.jsx("div",{className:"text-right",children:l.jsx(o.Z,{variant:"success",children:"Active"})})]},s))}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(g.WY8,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Yet"}),l.jsx("p",{className:"text-gray-500",children:"Students will appear here once classes are assigned."})]})]})]})]})};a()}catch(e){a(e)}})},8910:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=t(997);t(6689);var r=t(6761),c=t(4082),i=t(6422),n=t(3742),d=t(2342),x=t(6608),m=t(6913),o=t(2650),h=e([r,c,i,n,d,x,m,o]);[r,c,i,n,d,x,m,o]=h.then?(await h)():h;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e,isAuthenticated:s,isLoading:t}=(0,r.a)();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"spinner"})}):s?(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(c.default,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(i.default,{}),l.jsx("main",{className:"flex-1 overflow-auto",children:(()=>{switch(e?.role){case"student":return l.jsx(n.Z,{});case"teacher":return l.jsx(d.Z,{});case"hod":return l.jsx(x.Z,{});case"finance":return l.jsx(m.Z,{});case"admin":return l.jsx(o.Z,{});default:return l.jsx("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"card",children:[l.jsx("h2",{className:"card-title",children:"Welcome to SMIS"}),(0,l.jsxs)("p",{className:"text-gray-600 mt-2",children:["Your role (",e?.role,") dashboard is being prepared."]})]})})}})()})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access the dashboard."}),l.jsx("a",{href:"/login",className:"btn btn-primary",children:"Go to Login"})]})})};a()}catch(e){a(e)}})}};