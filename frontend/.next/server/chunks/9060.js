"use strict";exports.id=9060,exports.ids=[9060],exports.modules={7014:(e,l,a)=>{a.d(l,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var t=a(997);a(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:l="default",size:a="md",className:s="",...r})=>t.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[l]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[a]} ${s}`,...r,children:e})},1618:(e,l,a)=>{a.d(l,{QD:()=>timetable_TimetableFilters,mG:()=>timetable_TimetableGrid});var t=a(997),s=a(6689),r=a(7014),i=a(9180);let timetable_TimetableSlot=({slot:e,editable:l=!1,showActions:a=!1,onClick:s,onEdit:n,onDelete:d,colorScheme:o="default",size:c="default"})=>{if(!e)return t.jsx("div",{className:`
        ${"small"===c?"min-h-12 p-1":"min-h-16 p-2"}
        border-2 border-dashed border-gray-200 rounded-lg
        flex items-center justify-center text-gray-400 text-xs
        ${l?"hover:border-gray-300 cursor-pointer":""}
      `,onClick:l?s:void 0,children:l&&t.jsx("span",{children:"+ Add Class"})});let formatTime=e=>e?e.substring(0,5):"";return(0,t.jsxs)("div",{className:`
        ${(()=>{switch(o){case"status":return"approved"===e.status?"bg-green-100 border-green-200 text-green-800":"rejected"===e.status?"bg-red-100 border-red-200 text-red-800":"bg-yellow-100 border-yellow-200 text-yellow-800";case"course":let l=["bg-blue-100 border-blue-200 text-blue-800","bg-purple-100 border-purple-200 text-purple-800","bg-green-100 border-green-200 text-green-800","bg-orange-100 border-orange-200 text-orange-800","bg-pink-100 border-pink-200 text-pink-800"];return l[e.course_id%l.length];default:return"bg-blue-100 border-blue-200 text-blue-800"}})()}
        ${"small"===c?"p-1 text-xs":"p-2 text-sm"}
        border rounded-lg mb-1 relative group
        ${s?"cursor-pointer hover:shadow-md":""}
        transition-all duration-200
      `,onClick:s,children:[t.jsx("div",{className:`font-medium truncate ${"small"===c?"text-xs":"text-sm"}`,children:e.course_name||e.course_code}),e.teacher_name&&t.jsx("div",{className:`text-opacity-80 truncate ${"small"===c?"text-xs":"text-sm"}`,children:e.teacher_name}),(0,t.jsxs)("div",{className:"text-opacity-70 text-xs",children:[formatTime(e.start_time)," - ",formatTime(e.end_time)]}),e.room&&(0,t.jsxs)("div",{className:"text-opacity-70 text-xs",children:["\uD83D\uDCCD ",e.room]}),"status"===o&&e.status&&t.jsx("div",{className:"absolute top-1 right-1",children:t.jsx(r.Z,{variant:"approved"===e.status?"success":"rejected"===e.status?"error":"warning",size:"xs",children:e.status})}),a&&(l||n||d)&&t.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsxs)("div",{className:"flex space-x-1",children:[n&&t.jsx(i.Z,{size:"xs",variant:"outline",onClick:l=>{l.stopPropagation(),n(e)},className:"p-1",children:"✏️"}),d&&t.jsx(i.Z,{size:"xs",variant:"outline",onClick:l=>{l.stopPropagation(),d(e)},className:"p-1 text-red-600 hover:text-red-800",children:"\uD83D\uDDD1️"})]})})]})};var n=a(4105);let timetable_TimetableGrid=({timetable:e=[],editable:l=!1,showActions:a=!1,colorScheme:r="default",onSlotClick:d,onSlotEdit:o,onSlotDelete:c,onAddSlot:u,title:m="Weekly Schedule"})=>{let[x,h]=(0,s.useState)("grid"),b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],p={};function getDayName(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}b.forEach(e=>{p[e]={},g.forEach(l=>{p[e][l]=[]})}),e?.forEach(e=>{let l=getDayName(e.day_of_week),a=e.start_time?.substring(0,5);p[l]&&p[l][a]&&p[l][a].push(e)});let handleSlotClick=(e,a,t)=>{if(t.length>0)d&&d(t[0]);else if(l&&u){let l=b.indexOf(e)+1;u({day:l,start_time:a})}};return"list"===x?(0,t.jsxs)(n.Z,{className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m}),t.jsx("div",{className:"flex space-x-2",children:t.jsx(i.Z,{size:"sm",variant:"outline",onClick:()=>h("grid"),children:"\uD83D\uDCC5 Grid View"})})]}),t.jsx("div",{className:"p-6",children:b.map(s=>{let i=e?.filter(e=>getDayName(e.day_of_week)===s).sort((e,l)=>e.start_time?.localeCompare(l.start_time));return i?.length?(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:s}),t.jsx("div",{className:"space-y-2",children:i.map((e,s)=>t.jsx(timetable_TimetableSlot,{slot:e,editable:l,showActions:a,colorScheme:r,onClick:()=>d?.(e),onEdit:o,onDelete:c},`${e.id}-${s}`))})]},s):null})})]}):(0,t.jsxs)(n.Z,{className:"overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m}),t.jsx("div",{className:"flex space-x-2",children:t.jsx(i.Z,{size:"sm",variant:"outline",onClick:()=>h("list"),children:"\uD83D\uDCCB List View"})})]}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("div",{className:"min-w-full",children:[(0,t.jsxs)("div",{className:"grid grid-cols-8 gap-1 p-4 bg-gray-50 border-b",children:[t.jsx("div",{className:"text-xs font-medium text-gray-500 text-center",children:"Time"}),b.map(e=>t.jsx("div",{className:"text-xs font-medium text-gray-500 text-center",children:e},e))]}),g.map(e=>(0,t.jsxs)("div",{className:"grid grid-cols-8 gap-1 p-2 border-b border-gray-100",children:[t.jsx("div",{className:"text-xs text-gray-600 text-center py-2 font-medium",children:e}),b.map(s=>{let i=p[s][e]||[];return t.jsx("div",{className:"min-h-16 p-1",onClick:()=>handleSlotClick(s,e,i),children:i.length>0?i.map((e,s)=>t.jsx(timetable_TimetableSlot,{slot:e,editable:l,showActions:a,colorScheme:r,size:"small",onClick:()=>d?.(e),onEdit:o,onDelete:c},`${e.id}-${s}`)):t.jsx(timetable_TimetableSlot,{slot:null,editable:l,size:"small",onClick:()=>handleSlotClick(s,e,i)})},`${s}-${e}`)})]},e))]})})]})};var d=a(5822);a(9175);let timetable_TimetableFilters=({filters:e={},onFilterChange:l,departments:a=[],teachers:s=[],courses:r=[],showDepartmentFilter:n=!1,showTeacherFilter:o=!1,showCourseFilter:c=!1,onReset:u,onExport:m})=>{let handleFilterChange=(a,t)=>{l({...e,[a]:t})},x=[{value:"",label:"All Days"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"},{value:"7",label:"Sunday"}];return(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[u&&t.jsx(i.Z,{variant:"outline",size:"sm",onClick:u,children:"Reset"}),m&&t.jsx(i.Z,{variant:"outline",size:"sm",onClick:m,children:"\uD83D\uDCE5 Export"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),t.jsx("select",{value:e.semester||"",onChange:e=>handleFilterChange("semester",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"",label:"All Semesters"},{value:"Fall 2024",label:"Fall 2024"},{value:"Spring 2025",label:"Spring 2025"},{value:"Summer 2025",label:"Summer 2025"},{value:"Fall 2025",label:"Fall 2025"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),t.jsx("select",{value:e.day||"",onChange:e=>handleFilterChange("day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),n&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,t.jsxs)("select",{value:e.department||"",onChange:e=>handleFilterChange("department",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Departments"}),a&&a.length>0?a.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id)):t.jsx("option",{value:"",disabled:!0,children:"No departments available"})]})]}),o&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher"}),(0,t.jsxs)("select",{value:e.teacher||"",onChange:e=>handleFilterChange("teacher",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Teachers"}),s&&s.length>0?s.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)):t.jsx("option",{value:"",disabled:!0,children:"No teachers available"})]})]}),c&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,t.jsxs)("select",{value:e.course||"",onChange:e=>handleFilterChange("course",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Courses"}),r&&r.length>0?r.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.course_code," - ",e.name]},e.id)):t.jsx("option",{value:"",disabled:!0,children:"No courses available"})]})]}),t.jsx("div",{children:t.jsx(d.Z,{label:"Search",value:e.search||"",onChange:e=>handleFilterChange("search",e.target.value),placeholder:"Search courses, teachers..."})}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),(0,t.jsxs)("select",{value:e.timeRange||"",onChange:e=>handleFilterChange("timeRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Times"}),t.jsx("option",{value:"morning",children:"Morning (8:00-12:00)"}),t.jsx("option",{value:"afternoon",children:"Afternoon (12:00-17:00)"}),t.jsx("option",{value:"evening",children:"Evening (17:00-20:00)"})]})]})]}),Object.keys(e).some(l=>e[l])&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),Object.entries(e).map(([e,l])=>{if(!l)return null;let a=l;if("day"===e){let e=x.find(e=>e.value===l);a=e?.label||l}return(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,": ",a,t.jsx("button",{onClick:()=>handleFilterChange(e,""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e)})]})]})}}};