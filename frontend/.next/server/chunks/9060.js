"use strict";exports.id=9060,exports.ids=[9060],exports.modules={7014:(e,l,t)=>{t.d(l,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:l="default",size:t="md",className:r="",...s})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[l]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${r}`,...s,children:e})},1618:(e,l,t)=>{t.d(l,{QD:()=>timetable_TimetableFilters,mG:()=>timetable_TimetableGrid,V:()=>timetable_TimetableModal});var a=t(997),r=t(6689),s=t(7014),i=t(9180);let timetable_TimetableSlot=({slot:e,editable:l=!1,showActions:t=!1,onClick:r,onEdit:d,onDelete:n,colorScheme:o="default",size:c="default"})=>{if(!e)return a.jsx("div",{className:`
        ${"small"===c?"min-h-12 p-1":"min-h-16 p-2"}
        border-2 border-dashed border-gray-200 rounded-lg
        flex items-center justify-center text-gray-400 text-xs
        ${l?"hover:border-gray-300 cursor-pointer":""}
      `,onClick:l?r:void 0,children:l&&a.jsx("span",{children:"+ Add Class"})});let formatTime=e=>e?e.substring(0,5):"";return(0,a.jsxs)("div",{className:`
        ${(()=>{switch(o){case"status":return"approved"===e.status?"bg-green-100 border-green-200 text-green-800":"rejected"===e.status?"bg-red-100 border-red-200 text-red-800":"bg-yellow-100 border-yellow-200 text-yellow-800";case"course":let l=["bg-blue-100 border-blue-200 text-blue-800","bg-purple-100 border-purple-200 text-purple-800","bg-green-100 border-green-200 text-green-800","bg-orange-100 border-orange-200 text-orange-800","bg-pink-100 border-pink-200 text-pink-800"];return l[e.course_id%l.length];default:return"bg-blue-100 border-blue-200 text-blue-800"}})()}
        ${"small"===c?"p-1 text-xs":"p-2 text-sm"}
        border rounded-lg mb-1 relative group
        ${r?"cursor-pointer hover:shadow-md":""}
        transition-all duration-200
      `,onClick:r,children:[a.jsx("div",{className:`font-medium truncate ${"small"===c?"text-xs":"text-sm"}`,children:e.course_name||e.course_code}),e.teacher_name&&a.jsx("div",{className:`text-opacity-80 truncate ${"small"===c?"text-xs":"text-sm"}`,children:e.teacher_name}),(0,a.jsxs)("div",{className:"text-opacity-70 text-xs",children:[formatTime(e.start_time)," - ",formatTime(e.end_time)]}),e.room&&(0,a.jsxs)("div",{className:"text-opacity-70 text-xs",children:["\uD83D\uDCCD ",e.room]}),"status"===o&&e.status&&a.jsx("div",{className:"absolute top-1 right-1",children:a.jsx(s.Z,{variant:"approved"===e.status?"success":"rejected"===e.status?"error":"warning",size:"xs",children:e.status})}),t&&(l||d||n)&&a.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[d&&a.jsx(i.Z,{size:"xs",variant:"outline",onClick:l=>{l.stopPropagation(),d(e)},className:"p-1",children:"✏️"}),n&&a.jsx(i.Z,{size:"xs",variant:"outline",onClick:l=>{l.stopPropagation(),n(e)},className:"p-1 text-red-600 hover:text-red-800",children:"\uD83D\uDDD1️"})]})})]})};var d=t(4105);let timetable_TimetableGrid=({timetable:e=[],editable:l=!1,showActions:t=!1,colorScheme:s="default",onSlotClick:n,onSlotEdit:o,onSlotDelete:c,onAddSlot:u,title:m="Weekly Schedule"})=>{let[x,h]=(0,r.useState)("grid"),b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00"],p={};function getDayName(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown"}b.forEach(e=>{p[e]={},g.forEach(l=>{p[e][l]=[]})}),e?.forEach(e=>{let l=getDayName(e.day_of_week),t=e.start_time?.substring(0,5);p[l]&&p[l][t]&&p[l][t].push(e)});let handleSlotClick=(e,t,a)=>{if(a.length>0)n&&n(a[0]);else if(l&&u){let l=b.indexOf(e)+1;u({day:l,start_time:t})}};return"list"===x?(0,a.jsxs)(d.Z,{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(i.Z,{size:"sm",variant:"outline",onClick:()=>h("grid"),children:"\uD83D\uDCC5 Grid View"})})]}),a.jsx("div",{className:"p-6",children:b.map(r=>{let i=e?.filter(e=>getDayName(e.day_of_week)===r).sort((e,l)=>e.start_time?.localeCompare(l.start_time));return i?.length?(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:r}),a.jsx("div",{className:"space-y-2",children:i.map((e,r)=>a.jsx(timetable_TimetableSlot,{slot:e,editable:l,showActions:t,colorScheme:s,onClick:()=>n?.(e),onEdit:o,onDelete:c},`${e.id}-${r}`))})]},r):null})})]}):(0,a.jsxs)(d.Z,{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(i.Z,{size:"sm",variant:"outline",onClick:()=>h("list"),children:"\uD83D\uDCCB List View"})})]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-full",children:[(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-1 p-4 bg-gray-50 border-b",children:[a.jsx("div",{className:"text-xs font-medium text-gray-500 text-center",children:"Time"}),b.map(e=>a.jsx("div",{className:"text-xs font-medium text-gray-500 text-center",children:e},e))]}),g.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-1 p-2 border-b border-gray-100",children:[a.jsx("div",{className:"text-xs text-gray-600 text-center py-2 font-medium",children:e}),b.map(r=>{let i=p[r][e]||[];return a.jsx("div",{className:"min-h-16 p-1",onClick:()=>handleSlotClick(r,e,i),children:i.length>0?i.map((e,r)=>a.jsx(timetable_TimetableSlot,{slot:e,editable:l,showActions:t,colorScheme:s,size:"small",onClick:()=>n?.(e),onEdit:o,onDelete:c},`${e.id}-${r}`)):a.jsx(timetable_TimetableSlot,{slot:null,editable:l,size:"small",onClick:()=>handleSlotClick(r,e,i)})},`${r}-${e}`)})]},e))]})})]})};var n=t(5822),o=t(9175);let timetable_TimetableModal=({isOpen:e,onClose:l,onSave:t,slot:s=null,mode:d="create",courses:c=[],teachers:u=[],loading:m=!1,error:x=null})=>{let[h,b]=(0,r.useState)({course_id:"",teacher_id:"",day:"",start_time:"",end_time:"",room:"",semester:"Fall 2024"}),[g,p]=(0,r.useState)({}),v=[];for(let e=8;e<=18;e++){let l=`${e.toString().padStart(2,"0")}:00`;v.push(l)}(0,r.useEffect)(()=>{s&&"edit"===d?b({course_id:s.course_id||"",teacher_id:s.teacher_id||"",day:s.day_of_week||"",start_time:s.start_time?.substring(0,5)||"",end_time:s.end_time?.substring(0,5)||"",room:s.room||"",semester:s.semester||"Fall 2024"}):b({course_id:"",teacher_id:"",day:s?.day||"",start_time:s?.start_time||"",end_time:"",room:"",semester:"Fall 2024"}),p({})},[s,d,e]);let handleInputChange=(e,l)=>{b(t=>({...t,[e]:l})),g[e]&&p(l=>({...l,[e]:null}))},validateForm=()=>{let e={};return h.course_id||(e.course_id="Course is required"),h.teacher_id||(e.teacher_id="Teacher is required"),h.day||(e.day="Day is required"),h.start_time||(e.start_time="Start time is required"),h.end_time||(e.end_time="End time is required"),h.room||(e.room="Room is required"),h.start_time&&h.end_time&&h.start_time>=h.end_time&&(e.end_time="End time must be after start time"),p(e),0===Object.keys(e).length};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-screen overflow-y-auto",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"edit"===d?"Edit Timetable Slot":"Create Timetable Slot"})}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!validateForm())return;let l={...h,course_id:parseInt(h.course_id),teacher_id:parseInt(h.teacher_id),day_of_week:parseInt(h.day)};"edit"===d&&s&&(l.id=s.id),t(l)},className:"p-6 space-y-4",children:[x&&a.jsx(o.Z,{variant:"error",className:"mb-4",children:x}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course *"}),(0,a.jsxs)("select",{value:h.course_id,onChange:e=>handleInputChange("course_id",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.course_id?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select a course"}),c.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.course_code," - ",e.name]},e.id))]}),g.course_id&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.course_id})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher *"}),(0,a.jsxs)("select",{value:h.teacher_id,onChange:e=>handleInputChange("teacher_id",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.teacher_id?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select a teacher"}),u.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id))]}),g.teacher_id&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.teacher_id})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day *"}),(0,a.jsxs)("select",{value:h.day,onChange:e=>handleInputChange("day",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.day?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select a day"}),[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:7,label:"Sunday"}].map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}),g.day&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.day})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),(0,a.jsxs)("select",{value:h.start_time,onChange:e=>handleInputChange("start_time",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.start_time?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select time"}),v.map(e=>a.jsx("option",{value:e,children:e},e))]}),g.start_time&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.start_time})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),(0,a.jsxs)("select",{value:h.end_time,onChange:e=>handleInputChange("end_time",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.end_time?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select time"}),v.map(e=>a.jsx("option",{value:e,children:e},e))]}),g.end_time&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:g.end_time})]})]}),a.jsx("div",{children:a.jsx(n.Z,{label:"Room *",value:h.room,onChange:e=>handleInputChange("room",e.target.value),placeholder:"e.g., Room 101, Lab A",error:g.room})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),a.jsx("select",{value:h.semester,onChange:e=>handleInputChange("semester",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Fall 2024","Spring 2025","Summer 2025","Fall 2025"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(i.Z,{type:"button",variant:"outline",onClick:l,disabled:m,children:"Cancel"}),(0,a.jsxs)(i.Z,{type:"submit",loading:m,children:["edit"===d?"Update":"Create"," Slot"]})]})]})]})}):null},timetable_TimetableFilters=({filters:e={},onFilterChange:l,departments:t=[],teachers:r=[],courses:s=[],showDepartmentFilter:d=!1,showTeacherFilter:o=!1,showCourseFilter:c=!1,onReset:u,onExport:m})=>{let handleFilterChange=(t,a)=>{l({...e,[t]:a})},x=[{value:"",label:"All Days"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"},{value:"7",label:"Sunday"}];return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[u&&a.jsx(i.Z,{variant:"outline",size:"sm",onClick:u,children:"Reset"}),m&&a.jsx(i.Z,{variant:"outline",size:"sm",onClick:m,children:"\uD83D\uDCE5 Export"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Semester"}),a.jsx("select",{value:e.semester||"",onChange:e=>handleFilterChange("semester",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"",label:"All Semesters"},{value:"Fall 2024",label:"Fall 2024"},{value:"Spring 2025",label:"Spring 2025"},{value:"Summer 2025",label:"Summer 2025"},{value:"Fall 2025",label:"Fall 2025"}].map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Day"}),a.jsx("select",{value:e.day||"",onChange:e=>handleFilterChange("day",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),d&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,a.jsxs)("select",{value:e.department||"",onChange:e=>handleFilterChange("department",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Departments"}),t.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),o&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teacher"}),(0,a.jsxs)("select",{value:e.teacher||"",onChange:e=>handleFilterChange("teacher",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Teachers"}),r.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id))]})]}),c&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,a.jsxs)("select",{value:e.course||"",onChange:e=>handleFilterChange("course",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Courses"}),s.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.course_code," - ",e.name]},e.id))]})]}),a.jsx("div",{children:a.jsx(n.Z,{label:"Search",value:e.search||"",onChange:e=>handleFilterChange("search",e.target.value),placeholder:"Search courses, teachers..."})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),(0,a.jsxs)("select",{value:e.timeRange||"",onChange:e=>handleFilterChange("timeRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Times"}),a.jsx("option",{value:"morning",children:"Morning (8:00-12:00)"}),a.jsx("option",{value:"afternoon",children:"Afternoon (12:00-17:00)"}),a.jsx("option",{value:"evening",children:"Evening (17:00-20:00)"})]})]})]}),Object.keys(e).some(l=>e[l])&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),Object.entries(e).map(([e,l])=>{if(!l)return null;let t=l;if("day"===e){let e=x.find(e=>e.value===l);t=e?.label||l}return(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e,": ",t,a.jsx("button",{onClick:()=>handleFilterChange(e,""),className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e)})]})]})}}};