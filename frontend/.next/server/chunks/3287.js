"use strict";exports.id=3287,exports.ids=[3287],exports.modules={6761:(e,a,s)=>{s.a(e,async(e,l)=>{try{s.d(a,{a:()=>useAuth});var t=s(6689),n=s(8786),r=e([n]);n=(r.then?(await r)():r)[0];let useAuth=()=>{let e=(0,t.useContext)(n.ZP);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};l()}catch(e){l(e)}})},1709:(e,a,s)=>{s.a(e,async(e,l)=>{try{s.r(a),s.d(a,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=s(997),n=s(6689),r=s(4082),i=s(6422),d=s(4105),c=s(9180),h=s(5822),m=s(9175),o=s(4549),x=s(6893),u=s(1265),f=e([r,i,u]);[r,i,u]=f.then?(await f)():f;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[f,j]=(0,n.useState)(!0),[p,g]=(0,n.useState)(null),[_,v]=(0,n.useState)(null),[b,y]=(0,n.useState)({first_name:"",last_name:"",email:"",phone:"",address:"",date_of_birth:"",gender:""});(0,n.useEffect)(()=>{let fetchProfile=async()=>{try{j(!0),g(null);let e=await u.ZP.get("/students/profile"),a=e.data;l(a),y({first_name:a.user?.first_name||"",last_name:a.user?.last_name||"",email:a.user?.email||"",phone:a.phone||"",address:a.address||"",date_of_birth:a.date_of_birth||"",gender:a.gender||""})}catch(e){g(e.response?.data?.message||"Failed to load profile")}finally{j(!1)}};fetchProfile()},[]);let handleInputChange=e=>{let{name:a,value:s}=e.target;y(e=>({...e,[a]:s}))},handleSave=async()=>{try{await u.ZP.put("/students/profile",b),v({type:"success",text:"Profile updated successfully!"}),a(!1);let e=await u.ZP.get("/students/profile"),s=e.data;l(s),y({first_name:s.user?.first_name||"",last_name:s.user?.last_name||"",email:s.user?.email||"",phone:s.phone||"",address:s.address||"",date_of_birth:s.date_of_birth||"",gender:s.gender||""}),setTimeout(()=>v(null),5e3)}catch(e){v({type:"error",text:e.response?.data?.message||"Failed to update profile"}),setTimeout(()=>v(null),5e3)}};return f?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(r.default,{}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx(i.default,{}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsx(o.Z,{})})})]})]}):p?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(r.default,{}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx(i.default,{}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsx(m.Z,{variant:"error",children:p})})})]})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(r.default,{}),(0,t.jsxs)("div",{className:"flex",children:[t.jsx(i.default,{}),t.jsx("main",{className:"flex-1 p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Profile"}),t.jsx("p",{className:"text-gray-600",children:"Manage your personal information"})]}),e?(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(c.Z,{variant:"success",icon:x.mW3,onClick:handleSave,children:"Save Changes"}),t.jsx(c.Z,{variant:"secondary",icon:x.q5L,onClick:()=>{a(!1),v(null),s&&y({first_name:s.user?.first_name||"",last_name:s.user?.last_name||"",email:s.user?.email||"",phone:s.phone||"",address:s.address||"",date_of_birth:s.date_of_birth||"",gender:s.gender||""})},children:"Cancel"})]}):t.jsx(c.Z,{variant:"primary",icon:x.vPQ,onClick:()=>a(!0),children:"Edit Profile"})]}),_&&t.jsx(m.Z,{variant:_.type,dismissible:!0,onDismiss:()=>v(null),children:_.text}),f?t.jsx(d.Z,{className:"flex justify-center py-12",children:t.jsx(o.Z,{size:"lg"})}):p?(0,t.jsxs)(m.Z,{variant:"error",children:["Failed to load profile: ",p]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx(d.Z,{children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-primary-blue rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(x.fzv,{className:"w-12 h-12 text-white"})}),(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[s?.user?.first_name," ",s?.user?.last_name]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Student ID: ",s?.id]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Enrolled: ",s?.enrollment_year]})]})}),t.jsx("div",{className:"lg:col-span-2",children:(0,t.jsxs)(d.Z,{children:[t.jsx(d.Z.Header,{children:t.jsx(d.Z.Title,{children:"Personal Information"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(h.Z,{label:"First Name",name:"first_name",value:b.first_name,onChange:handleInputChange,disabled:!e,required:!0}),t.jsx(h.Z,{label:"Last Name",name:"last_name",value:b.last_name,onChange:handleInputChange,disabled:!e,required:!0}),t.jsx(h.Z,{label:"Email",name:"email",type:"email",value:b.email,onChange:handleInputChange,disabled:!e,required:!0}),t.jsx(h.Z,{label:"Phone",name:"phone",value:b.phone,onChange:handleInputChange,disabled:!e}),t.jsx(h.Z,{label:"Date of Birth",name:"date_of_birth",type:"date",value:b.date_of_birth,onChange:handleInputChange,disabled:!e}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,t.jsxs)("select",{name:"gender",value:b.gender,onChange:handleInputChange,disabled:!e,className:"form-select",children:[t.jsx("option",{value:"",children:"Select Gender"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx(h.Z,{label:"Address",name:"address",value:b.address,onChange:handleInputChange,disabled:!e})})]})]})})]})]})})]})]})};l()}catch(e){l(e)}})}};