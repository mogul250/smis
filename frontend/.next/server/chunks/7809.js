"use strict";exports.id=7809,exports.ids=[7809],exports.modules={6783:()=>{},7014:(e,t,s)=>{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(997);s(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:t="default",size:s="md",className:l="",...r})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[t]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[s]} ${l}`,...r,children:e})},7809:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var l=s(997),r=s(6689),n=s.n(r),c=s(6761),d=s(3242),i=s(3240),x=s(4082),m=s(6422),h=s(4105),j=s(6208),o=s(7014),g=s(9175),u=s(4549),f=s(6893),p=s(6783),N=e([c,i,x,m]);[c,i,x,m]=N.then?(await N)():N;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,c.a)(),[t,s]=(0,r.useState)({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),{data:a,loading:N,error:y,refetch:v}=(0,d.h)(()=>i.t7.getAttendance(t),[t]);if(!e||"student"!==e.role)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx(g.Z,{variant:"error",children:"Access denied. Student access required."})});let handleDateChange=(e,t)=>{s(s=>({...s,[e]:t}))},b=n().useMemo(()=>{if(!a||0===a.length)return{total:0,present:0,absent:0,late:0,percentage:0};let e=a.length,t=a.filter(e=>"present"===e.status).length,s=a.filter(e=>"absent"===e.status).length,l=a.filter(e=>"late"===e.status).length,r=e>0?((t+l)/e*100).toFixed(1):0;return{total:e,present:t,absent:s,late:l,percentage:r}},[a]);return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(x.Z,{}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(m.Z,{}),l.jsx("main",{className:"flex-1 p-6",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance Record"}),l.jsx("p",{className:"text-gray-600",children:"Track your class attendance and participation"})]}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),l.jsx("input",{type:"date",value:t.startDate,onChange:e=>handleDateChange("startDate",e.target.value),className:"form-input"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),l.jsx("input",{type:"date",value:t.endDate,onChange:e=>handleDateChange("endDate",e.target.value),className:"form-input"})]}),l.jsx("button",{onClick:v,className:"btn btn-primary",children:"Update"})]})}),N?l.jsx(h.Z,{className:"flex justify-center py-12",children:l.jsx(u.Z,{size:"lg"})}):y?(0,l.jsxs)(g.Z,{variant:"error",children:["Failed to load attendance: ",y]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:l.jsx(p.FiBarChart3,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[b.percentage,"%"]})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-500 rounded-lg flex items-center justify-center mr-4",children:l.jsx(f.vlc,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Classes"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:l.jsx(f.UgA,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Present"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.present})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:l.jsx(f.TCC,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Late"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.late})]})]})}),l.jsx(h.Z,{children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:l.jsx(f.q5L,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Absent"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.absent})]})]})})]}),(0,l.jsxs)(h.Z,{children:[l.jsx(h.Z.Header,{children:l.jsx(h.Z.Title,{children:"Attendance Records"})}),a&&a.length>0?(0,l.jsxs)(j.Z,{children:[l.jsx(j.Z.Header,{children:(0,l.jsxs)(j.Z.Row,{children:[l.jsx(j.Z.Head,{children:"Date"}),l.jsx(j.Z.Head,{children:"Course"}),l.jsx(j.Z.Head,{children:"Teacher"}),l.jsx(j.Z.Head,{children:"Status"}),l.jsx(j.Z.Head,{children:"Time"}),l.jsx(j.Z.Head,{children:"Notes"})]})}),l.jsx(j.Z.Body,{children:a.map((e,t)=>{let s=function(e){switch(e){case"present":return f.UgA;case"late":return f.TCC;case"absent":return f.q5L;default:return f.vlc}}(e.status);return(0,l.jsxs)(j.Z.Row,{children:[(0,l.jsxs)(j.Z.Cell,{children:[l.jsx("div",{className:"font-medium text-gray-900",children:new Date(e.date).toLocaleDateString()}),l.jsx("div",{className:"text-sm text-gray-500",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})})]}),(0,l.jsxs)(j.Z.Cell,{children:[l.jsx("div",{className:"font-medium text-gray-900",children:e.course_name}),l.jsx("div",{className:"text-sm text-gray-500",children:e.course_code})]}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-gray-900",children:e.teacher_name})}),l.jsx(j.Z.Cell,{children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[l.jsx(s,{className:"w-4 h-4"}),l.jsx(o.Z,{variant:function(e){switch(e){case"present":return"success";case"late":return"warning";case"absent":return"danger";default:return"default"}}(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-sm text-gray-600",children:e.marked_at?new Date(e.marked_at).toLocaleTimeString():"-"})}),l.jsx(j.Z.Cell,{children:l.jsx("span",{className:"text-sm text-gray-600",children:e.notes||"-"})})]},t)})})]}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx(f.vlc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No attendance records found for the selected date range."})]})]})]})]})})]})]})};a()}catch(e){a(e)}})}};