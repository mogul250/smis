"use strict";exports.id=9353,exports.ids=[9353],exports.modules={7014:(e,s,t)=>{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(997);t(6689);let __WEBPACK_DEFAULT_EXPORT__=({children:e,variant:s="default",size:t="md",className:n="",...l})=>a.jsx("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}[t]} ${n}`,...l,children:e})},9353:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(997),l=t(6689),r=t.n(l),d=t(6761),c=t(3242),i=t(3240),x=t(4082),m=t(6422),o=t(4105),h=t(6208),j=t(7014),u=t(9175),g=t(4549),p=t(6893),N=e([d,i,x,m]);[d,i,x,m]=N.then?(await N)():N;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{user:e}=(0,d.a)(),[s,t]=(0,l.useState)("current_semester"),[a,N]=(0,l.useState)("overview"),{data:f,loading:v,error:y,execute:b}=(0,c.h)(()=>i.pW.getDepartmentAnalytics({period:s}),[]);if(r().useEffect(()=>{b()},[s,b]),!e||"hod"!==e.role)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(u.Z,{variant:"error",children:"Access denied. HOD access required."})});let A=[{id:"overview",label:"Overview",icon:p.DKx},{id:"teachers",label:"Teacher Performance",icon:p.WY8},{id:"courses",label:"Course Analytics",icon:p.yK7},{id:"students",label:"Student Outcomes",icon:p.HR2}],getTrendIcon=e=>e>0?p.QqI:e<0?p.ZBs:p.DKx,getTrendColor=e=>e>0?"text-green-600":e<0?"text-red-600":"text-gray-600";return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(x.Z,{}),(0,n.jsxs)("div",{className:"flex",children:[n.jsx(m.Z,{}),n.jsx("main",{className:"flex-1 p-6",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Department Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into departmental performance"})]}),n.jsx("select",{value:s,onChange:e=>t(e.target.value),className:"form-select w-auto",children:[{value:"current_semester",label:"Current Semester"},{value:"last_semester",label:"Last Semester"},{value:"academic_year",label:"Academic Year"},{value:"last_year",label:"Last Year"}].map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))})]}),v?n.jsx(o.Z,{className:"flex justify-center py-12",children:n.jsx(g.Z,{size:"lg"})}):y?(0,n.jsxs)(u.Z,{variant:"error",children:["Failed to load analytics: ",y]}):f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(o.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-primary-blue rounded-lg flex items-center justify-center mr-4",children:n.jsx(p.WY8,{className:"w-6 h-6 text-white"})}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.totalStudents||0})]})]}),f.studentTrend&&(0,n.jsxs)("div",{className:`flex items-center ${getTrendColor(f.studentTrend)}`,children:[r().createElement(getTrendIcon(f.studentTrend),{className:"w-4 h-4"}),(0,n.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.studentTrend),"%"]})]})]})}),n.jsx(o.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-green rounded-lg flex items-center justify-center mr-4",children:n.jsx(p.QqI,{className:"w-6 h-6 text-white"})}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg GPA"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.averageGPA?f.averageGPA.toFixed(2):"N/A"})]})]}),f.gpaTrend&&(0,n.jsxs)("div",{className:`flex items-center ${getTrendColor(f.gpaTrend)}`,children:[r().createElement(getTrendIcon(f.gpaTrend),{className:"w-4 h-4"}),(0,n.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.gpaTrend).toFixed(1),"%"]})]})]})}),n.jsx(o.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-orange rounded-lg flex items-center justify-center mr-4",children:n.jsx(p.vlc,{className:"w-6 h-6 text-white"})}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Attendance Rate"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.attendanceRate?`${f.attendanceRate.toFixed(1)}%`:"N/A"})]})]}),f.attendanceTrend&&(0,n.jsxs)("div",{className:`flex items-center ${getTrendColor(f.attendanceTrend)}`,children:[r().createElement(getTrendIcon(f.attendanceTrend),{className:"w-4 h-4"}),(0,n.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.attendanceTrend).toFixed(1),"%"]})]})]})}),n.jsx(o.Z,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-accent-red rounded-lg flex items-center justify-center mr-4",children:n.jsx(p.yK7,{className:"w-6 h-6 text-white"})}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Course Completion"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.completionRate?`${f.completionRate.toFixed(1)}%`:"N/A"})]})]}),f.completionTrend&&(0,n.jsxs)("div",{className:`flex items-center ${getTrendColor(f.completionTrend)}`,children:[r().createElement(getTrendIcon(f.completionTrend),{className:"w-4 h-4"}),(0,n.jsxs)("span",{className:"text-sm ml-1",children:[Math.abs(f.completionTrend).toFixed(1),"%"]})]})]})})]}),(0,n.jsxs)(o.Z,{children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:A.map(e=>{let s=e.icon;return(0,n.jsxs)("button",{onClick:()=>N(e.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${a===e.id?"border-primary-blue text-primary-blue":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(s,{className:"w-4 h-4"}),n.jsx("span",{children:e.label})]},e.id)})})}),(0,n.jsxs)("div",{className:"p-6",children:["overview"===a&&(0,n.jsxs)("div",{className:"space-y-6",children:[f.gradeDistribution&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Grade Distribution"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.entries(f.gradeDistribution).map(([e,s])=>(0,n.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s}),(0,n.jsxs)("div",{className:"text-sm text-gray-600",children:[e," Grade"]})]},e))})]}),f.departmentComparison&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Department Comparison"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"University Average GPA"}),n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:f.departmentComparison.universityAvgGPA?.toFixed(2)||"N/A"})]}),(0,n.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Department Rank"}),(0,n.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:["#",f.departmentComparison.rank||"N/A"]})]}),(0,n.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Performance Score"}),n.jsx("div",{className:"text-2xl font-bold text-purple-900",children:f.departmentComparison.performanceScore||"N/A"})]})]})]})]}),"teachers"===a&&f.teacherPerformance&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Teacher Performance Analysis"}),(0,n.jsxs)(h.Z,{children:[n.jsx(h.Z.Header,{children:(0,n.jsxs)(h.Z.Row,{children:[n.jsx(h.Z.Head,{children:"Teacher"}),n.jsx(h.Z.Head,{children:"Classes"}),n.jsx(h.Z.Head,{children:"Students"}),n.jsx(h.Z.Head,{children:"Avg Class GPA"}),n.jsx(h.Z.Head,{children:"Attendance Rate"}),n.jsx(h.Z.Head,{children:"Performance"})]})}),n.jsx(h.Z.Body,{children:f.teacherPerformance.map((e,s)=>(0,n.jsxs)(h.Z.Row,{children:[(0,n.jsxs)(h.Z.Cell,{children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.name}),n.jsx("div",{className:"text-sm text-gray-500",children:e.employeeId})]}),n.jsx(h.Z.Cell,{children:e.classCount}),n.jsx(h.Z.Cell,{children:e.studentCount}),n.jsx(h.Z.Cell,{children:n.jsx("span",{className:"font-medium",children:e.avgGPA?e.avgGPA.toFixed(2):"N/A"})}),n.jsx(h.Z.Cell,{children:n.jsx("span",{className:"font-medium",children:e.attendanceRate?`${e.attendanceRate.toFixed(1)}%`:"N/A"})}),n.jsx(h.Z.Cell,{children:n.jsx(j.Z,{variant:"excellent"===e.performance?"success":"good"===e.performance?"primary":"average"===e.performance?"warning":"danger",children:e.performance})})]},s))})]})]}),"courses"===a&&f.courseAnalytics&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Course Performance Analysis"}),(0,n.jsxs)(h.Z,{children:[n.jsx(h.Z.Header,{children:(0,n.jsxs)(h.Z.Row,{children:[n.jsx(h.Z.Head,{children:"Course"}),n.jsx(h.Z.Head,{children:"Enrolled"}),n.jsx(h.Z.Head,{children:"Completion Rate"}),n.jsx(h.Z.Head,{children:"Avg Grade"}),n.jsx(h.Z.Head,{children:"Satisfaction"}),n.jsx(h.Z.Head,{children:"Status"})]})}),n.jsx(h.Z.Body,{children:f.courseAnalytics.map((e,s)=>(0,n.jsxs)(h.Z.Row,{children:[(0,n.jsxs)(h.Z.Cell,{children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.name}),n.jsx("div",{className:"text-sm text-gray-500",children:e.code})]}),n.jsx(h.Z.Cell,{children:e.enrolledCount}),n.jsx(h.Z.Cell,{children:n.jsx("span",{className:"font-medium",children:e.completionRate?`${e.completionRate.toFixed(1)}%`:"N/A"})}),n.jsx(h.Z.Cell,{children:n.jsx("span",{className:"font-medium",children:e.avgGrade||"N/A"})}),n.jsx(h.Z.Cell,{children:n.jsx("span",{className:"font-medium",children:e.satisfaction?`${e.satisfaction.toFixed(1)}%`:"N/A"})}),n.jsx(h.Z.Cell,{children:n.jsx(j.Z,{variant:"excellent"===e.status?"success":"good"===e.status?"primary":"needs_improvement"===e.status?"warning":"danger",children:e.status?.replace("_"," ")})})]},s))})]})]}),"students"===a&&f.studentOutcomes&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Student Outcome Analysis"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Academic Performance"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Students with GPA ≥ 3.5"}),n.jsx("span",{className:"font-medium",children:f.studentOutcomes.highPerformers||0})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Students at Risk (GPA < 2.0)"}),n.jsx("span",{className:"font-medium text-red-600",children:f.studentOutcomes.atRisk||0})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Graduation Rate"}),n.jsx("span",{className:"font-medium",children:f.studentOutcomes.graduationRate?`${f.studentOutcomes.graduationRate.toFixed(1)}%`:"N/A"})]})]})]}),(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Engagement Metrics"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Average Attendance"}),n.jsx("span",{className:"font-medium",children:f.studentOutcomes.avgAttendance?`${f.studentOutcomes.avgAttendance.toFixed(1)}%`:"N/A"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Course Satisfaction"}),n.jsx("span",{className:"font-medium",children:f.studentOutcomes.satisfaction?`${f.studentOutcomes.satisfaction.toFixed(1)}%`:"N/A"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Retention Rate"}),n.jsx("span",{className:"font-medium",children:f.studentOutcomes.retentionRate?`${f.studentOutcomes.retentionRate.toFixed(1)}%`:"N/A"})]})]})]})]})]})]})]})]}):(0,n.jsxs)(o.Z,{className:"text-center py-12",children:[n.jsx(p.DKx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Data"}),n.jsx("p",{className:"text-gray-500",children:"Analytics data will appear here once sufficient departmental data is available."})]})]})})]})]})};a()}catch(e){a(e)}})}};